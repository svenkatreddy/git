<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Содействие проекту | Learn Git</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="GitbookIO">
        <meta name="description" content="The entire Pro Git book.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../raspredelyonnii_git/soprovozhdenie_proekta.html" />
        
        
        <link rel="prev" href="../raspredelyonnii_git/raspredelyonnie_rabochie_protsessi.html" />
        

        <meta property="og:title" content="Содействие проекту | Learn Git">
        <meta property="og:site_name" content="Learn Git">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/GitbookIO">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

        
        <link rel="stylesheet" href="../gitbook/style.css">
        
        
    </head>
    <body>
        
<div class="book" data-github="GitbookIO/git" data-level="5.2" data-basepath=".." data-revision="1396895631613">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="https://github.com/GitbookIO/git" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    <a href="https://github.com/GitbookIO/git/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/GitbookIO/git/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>


    <!-- Title -->
    <h1><a href="../" >Learn Git</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        <li>
            <a href="https://github.com/GitbookIO" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/GitbookIO/git/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/GitbookIO/git/edit/master/raspredelyonnii_git/sodeistvie_proektu.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="nastroika_git/README.html">
                
                <a href="../nastroika_git/README.html">
                    <i class="fa fa-check"></i> <b>1)</b> Настройка Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="nastroika_git/konfigurirovanie_git.html">
                            
                            <a href="../nastroika_git/konfigurirovanie_git.html">
                                <i class="fa fa-check"></i> <b>1.1)</b> Конфигурирование Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="nastroika_git/git_atributi.html">
                            
                            <a href="../nastroika_git/git_atributi.html">
                                <i class="fa fa-check"></i> <b>1.2)</b> Git-атрибуты
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="nastroika_git/perehvatchiki_v_git.html">
                            
                            <a href="../nastroika_git/perehvatchiki_v_git.html">
                                <i class="fa fa-check"></i> <b>1.3)</b> Перехватчики в Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="nastroika_git/primer_navyazivaniya_politiki_s_pomoschyu_git.html">
                            
                            <a href="../nastroika_git/primer_navyazivaniya_politiki_s_pomoschyu_git.html">
                                <i class="fa fa-check"></i> <b>1.4)</b> Пример навязывания политики с помощью Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="nastroika_git/itogi.html">
                            
                            <a href="../nastroika_git/itogi.html">
                                <i class="fa fa-check"></i> <b>1.5)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="vvedenie/README.html">
                
                <a href="../vvedenie/README.html">
                    <i class="fa fa-check"></i> <b>2)</b> Введение
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="vvedenie/o_kontrole_versii.html">
                            
                            <a href="../vvedenie/o_kontrole_versii.html">
                                <i class="fa fa-check"></i> <b>2.1)</b> О контроле версий
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="vvedenie/kratkaya_istoriya_git.html">
                            
                            <a href="../vvedenie/kratkaya_istoriya_git.html">
                                <i class="fa fa-check"></i> <b>2.2)</b> Краткая история Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="vvedenie/osnovi_git.html">
                            
                            <a href="../vvedenie/osnovi_git.html">
                                <i class="fa fa-check"></i> <b>2.3)</b> Основы Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="vvedenie/ustanovka_git.html">
                            
                            <a href="../vvedenie/ustanovka_git.html">
                                <i class="fa fa-check"></i> <b>2.4)</b> Установка Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="vvedenie/pervonachalnaya_nastroika_git.html">
                            
                            <a href="../vvedenie/pervonachalnaya_nastroika_git.html">
                                <i class="fa fa-check"></i> <b>2.5)</b> Первоначальная настройка Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="vvedenie/kak_poluchit_pomosch.html">
                            
                            <a href="../vvedenie/kak_poluchit_pomosch.html">
                                <i class="fa fa-check"></i> <b>2.6)</b> Как получить помощь?
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.7" data-path="vvedenie/itogi.html">
                            
                            <a href="../vvedenie/itogi.html">
                                <i class="fa fa-check"></i> <b>2.7)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="vetvlenie_v_git/README.html">
                
                <a href="../vetvlenie_v_git/README.html">
                    <i class="fa fa-check"></i> <b>3)</b> Ветвление в Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="vetvlenie_v_git/chto_takoe_vetka.html">
                            
                            <a href="../vetvlenie_v_git/chto_takoe_vetka.html">
                                <i class="fa fa-check"></i> <b>3.1)</b> Что такое ветка?
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="vetvlenie_v_git/osnovi_vetvleniya_i_sliyaniya.html">
                            
                            <a href="../vetvlenie_v_git/osnovi_vetvleniya_i_sliyaniya.html">
                                <i class="fa fa-check"></i> <b>3.2)</b> Основы ветвления и слияния
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="vetvlenie_v_git/upravlenie_vetkami.html">
                            
                            <a href="../vetvlenie_v_git/upravlenie_vetkami.html">
                                <i class="fa fa-check"></i> <b>3.3)</b> Управление ветками
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="vetvlenie_v_git/priyomi_raboti_s_vetkami.html">
                            
                            <a href="../vetvlenie_v_git/priyomi_raboti_s_vetkami.html">
                                <i class="fa fa-check"></i> <b>3.4)</b> Приёмы работы с ветками
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="vetvlenie_v_git/udalyonnie_vetki.html">
                            
                            <a href="../vetvlenie_v_git/udalyonnie_vetki.html">
                                <i class="fa fa-check"></i> <b>3.5)</b> Удалённые ветки
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="vetvlenie_v_git/peremeschenie.html">
                            
                            <a href="../vetvlenie_v_git/peremeschenie.html">
                                <i class="fa fa-check"></i> <b>3.6)</b> Перемещение
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" data-path="vetvlenie_v_git/itogi.html">
                            
                            <a href="../vetvlenie_v_git/itogi.html">
                                <i class="fa fa-check"></i> <b>3.7)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="git_na_servere/README.html">
                
                <a href="../git_na_servere/README.html">
                    <i class="fa fa-check"></i> <b>4)</b> Git на сервере
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="git_na_servere/protokoli.html">
                            
                            <a href="../git_na_servere/protokoli.html">
                                <i class="fa fa-check"></i> <b>4.1)</b> Протоколы
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="git_na_servere/nastroika_git_na_servere.html">
                            
                            <a href="../git_na_servere/nastroika_git_na_servere.html">
                                <i class="fa fa-check"></i> <b>4.2)</b> Настройка Git на сервере
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="git_na_servere/sozdanie_otkritogo_ssh_klyucha.html">
                            
                            <a href="../git_na_servere/sozdanie_otkritogo_ssh_klyucha.html">
                                <i class="fa fa-check"></i> <b>4.3)</b> Создание открытого SSH-ключа
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="git_na_servere/nastraivaem_server.html">
                            
                            <a href="../git_na_servere/nastraivaem_server.html">
                                <i class="fa fa-check"></i> <b>4.4)</b> Настраиваем сервер
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="git_na_servere/otkritii_dostup.html">
                            
                            <a href="../git_na_servere/otkritii_dostup.html">
                                <i class="fa fa-check"></i> <b>4.5)</b> Открытый доступ
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.6" data-path="git_na_servere/gitweb.html">
                            
                            <a href="../git_na_servere/gitweb.html">
                                <i class="fa fa-check"></i> <b>4.6)</b> GitWeb
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.7" data-path="git_na_servere/gitosis.html">
                            
                            <a href="../git_na_servere/gitosis.html">
                                <i class="fa fa-check"></i> <b>4.7)</b> Gitosis
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.8" data-path="git_na_servere/gitolite.html">
                            
                            <a href="../git_na_servere/gitolite.html">
                                <i class="fa fa-check"></i> <b>4.8)</b> Gitolite
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.9" data-path="git_na_servere/git_demon.html">
                            
                            <a href="../git_na_servere/git_demon.html">
                                <i class="fa fa-check"></i> <b>4.9)</b> Git-демон
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.10" data-path="git_na_servere/git_hosting.html">
                            
                            <a href="../git_na_servere/git_hosting.html">
                                <i class="fa fa-check"></i> <b>4.10)</b> Git-хостинг
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.11" data-path="git_na_servere/itogi.html">
                            
                            <a href="../git_na_servere/itogi.html">
                                <i class="fa fa-check"></i> <b>4.11)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="raspredelyonnii_git/README.html">
                
                <a href="../raspredelyonnii_git/README.html">
                    <i class="fa fa-check"></i> <b>5)</b> Распределённый Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="raspredelyonnii_git/raspredelyonnie_rabochie_protsessi.html">
                            
                            <a href="../raspredelyonnii_git/raspredelyonnie_rabochie_protsessi.html">
                                <i class="fa fa-check"></i> <b>5.1)</b> Распределённые рабочие процессы
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="raspredelyonnii_git/sodeistvie_proektu.html">
                            
                            <a href="../raspredelyonnii_git/sodeistvie_proektu.html">
                                <i class="fa fa-check"></i> <b>5.2)</b> Содействие проекту
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="raspredelyonnii_git/soprovozhdenie_proekta.html">
                            
                            <a href="../raspredelyonnii_git/soprovozhdenie_proekta.html">
                                <i class="fa fa-check"></i> <b>5.3)</b> Сопровождение проекта
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="raspredelyonnii_git/itogi.html">
                            
                            <a href="../raspredelyonnii_git/itogi.html">
                                <i class="fa fa-check"></i> <b>5.4)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="instrumenti_git/README.html">
                
                <a href="../instrumenti_git/README.html">
                    <i class="fa fa-check"></i> <b>6)</b> Инструменты Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="instrumenti_git/vibor_revizii.html">
                            
                            <a href="../instrumenti_git/vibor_revizii.html">
                                <i class="fa fa-check"></i> <b>6.1)</b> Выбор ревизии
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="instrumenti_git/interaktivnoe_indeksirovanie.html">
                            
                            <a href="../instrumenti_git/interaktivnoe_indeksirovanie.html">
                                <i class="fa fa-check"></i> <b>6.2)</b> Интерактивное индексирование
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="instrumenti_git/pryatane.html">
                            
                            <a href="../instrumenti_git/pryatane.html">
                                <i class="fa fa-check"></i> <b>6.3)</b> Прятанье
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.4" data-path="instrumenti_git/perezapis_istorii.html">
                            
                            <a href="../instrumenti_git/perezapis_istorii.html">
                                <i class="fa fa-check"></i> <b>6.4)</b> Перезапись истории
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.5" data-path="instrumenti_git/otladka_s_pomoschyu_git.html">
                            
                            <a href="../instrumenti_git/otladka_s_pomoschyu_git.html">
                                <i class="fa fa-check"></i> <b>6.5)</b> Отладка с помощью Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.6" data-path="instrumenti_git/podmoduli.html">
                            
                            <a href="../instrumenti_git/podmoduli.html">
                                <i class="fa fa-check"></i> <b>6.6)</b> Подмодули
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.7" data-path="instrumenti_git/sliyanie_podderevev.html">
                            
                            <a href="../instrumenti_git/sliyanie_podderevev.html">
                                <i class="fa fa-check"></i> <b>6.7)</b> Слияние поддеревьев
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.8" data-path="instrumenti_git/itogi.html">
                            
                            <a href="../instrumenti_git/itogi.html">
                                <i class="fa fa-check"></i> <b>6.8)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="osnovi_git/README.html">
                
                <a href="../osnovi_git/README.html">
                    <i class="fa fa-check"></i> <b>7)</b> Основы Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="osnovi_git/sozdanie_git_repozitoriya.html">
                            
                            <a href="../osnovi_git/sozdanie_git_repozitoriya.html">
                                <i class="fa fa-check"></i> <b>7.1)</b> Создание Git-репозитория
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.2" data-path="osnovi_git/zapis_izmenenii_v_repozitorii.html">
                            
                            <a href="../osnovi_git/zapis_izmenenii_v_repozitorii.html">
                                <i class="fa fa-check"></i> <b>7.2)</b> Запись изменений в репозиторий
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.3" data-path="osnovi_git/prosmotr_istorii_kommitov.html">
                            
                            <a href="../osnovi_git/prosmotr_istorii_kommitov.html">
                                <i class="fa fa-check"></i> <b>7.3)</b> Просмотр истории коммитов
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.4" data-path="osnovi_git/otmena_izmenenii.html">
                            
                            <a href="../osnovi_git/otmena_izmenenii.html">
                                <i class="fa fa-check"></i> <b>7.4)</b> Отмена изменений
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.5" data-path="osnovi_git/rabota_s_udalyonnimi_repozitoriyami.html">
                            
                            <a href="../osnovi_git/rabota_s_udalyonnimi_repozitoriyami.html">
                                <i class="fa fa-check"></i> <b>7.5)</b> Работа с удалёнными репозиториями
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.6" data-path="osnovi_git/rabota_s_metkami.html">
                            
                            <a href="../osnovi_git/rabota_s_metkami.html">
                                <i class="fa fa-check"></i> <b>7.6)</b> Работа с метками
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.7" data-path="osnovi_git/poleznie_soveti.html">
                            
                            <a href="../osnovi_git/poleznie_soveti.html">
                                <i class="fa fa-check"></i> <b>7.7)</b> Полезные советы
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.8" data-path="osnovi_git/itogi.html">
                            
                            <a href="../osnovi_git/itogi.html">
                                <i class="fa fa-check"></i> <b>7.8)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="git_i_drugie_sistemi_kontrolya_versii/README.html">
                
                <a href="../git_i_drugie_sistemi_kontrolya_versii/README.html">
                    <i class="fa fa-check"></i> <b>8)</b> Git и другие системы контроля версий
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="8.1" data-path="git_i_drugie_sistemi_kontrolya_versii/git_i_subversion.html">
                            
                            <a href="../git_i_drugie_sistemi_kontrolya_versii/git_i_subversion.html">
                                <i class="fa fa-check"></i> <b>8.1)</b> Git и Subversion
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.2" data-path="git_i_drugie_sistemi_kontrolya_versii/migratsiya_na_git.html">
                            
                            <a href="../git_i_drugie_sistemi_kontrolya_versii/migratsiya_na_git.html">
                                <i class="fa fa-check"></i> <b>8.2)</b> Миграция на Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.3" data-path="git_i_drugie_sistemi_kontrolya_versii/itogi.html">
                            
                            <a href="../git_i_drugie_sistemi_kontrolya_versii/itogi.html">
                                <i class="fa fa-check"></i> <b>8.3)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="9" data-path="git_iznutri/README.html">
                
                <a href="../git_iznutri/README.html">
                    <i class="fa fa-check"></i> <b>9)</b> Git изнутри
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="9.1" data-path="git_iznutri/santehnika_i_farfor.html">
                            
                            <a href="../git_iznutri/santehnika_i_farfor.html">
                                <i class="fa fa-check"></i> <b>9.1)</b> Сантехника и фарфор
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.2" data-path="git_iznutri/obekti_v_git.html">
                            
                            <a href="../git_iznutri/obekti_v_git.html">
                                <i class="fa fa-check"></i> <b>9.2)</b> Объекты в Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.3" data-path="git_iznutri/ssilki_v_git.html">
                            
                            <a href="../git_iznutri/ssilki_v_git.html">
                                <i class="fa fa-check"></i> <b>9.3)</b> Ссылки в Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.4" data-path="git_iznutri/pack_faili.html">
                            
                            <a href="../git_iznutri/pack_faili.html">
                                <i class="fa fa-check"></i> <b>9.4)</b> Pack-файлы
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.5" data-path="git_iznutri/spetsifikatsii_ssilok.html">
                            
                            <a href="../git_iznutri/spetsifikatsii_ssilok.html">
                                <i class="fa fa-check"></i> <b>9.5)</b> Спецификации ссылок
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.6" data-path="git_iznutri/protokoli_peredachi.html">
                            
                            <a href="../git_iznutri/protokoli_peredachi.html">
                                <i class="fa fa-check"></i> <b>9.6)</b> Протоколы передачи
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.7" data-path="git_iznutri/obsluzhivanie_i_vosstanovlenie_dannih.html">
                            
                            <a href="../git_iznutri/obsluzhivanie_i_vosstanovlenie_dannih.html">
                                <i class="fa fa-check"></i> <b>9.7)</b> Обслуживание и восстановление данных
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.8" data-path="git_iznutri/itogi.html">
                            
                            <a href="../git_iznutri/itogi.html">
                                <i class="fa fa-check"></i> <b>9.8)</b> Итоги
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
    </ul>
</div>

    <div class="book-body" tabindex="-1">
        <div class="body-inner">
            <div class="page-wrapper">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 52.857142857142854%;min-width: 51.42857142857143%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../nastroika_git/README.html" title="Настройка Git" class="chapter done new-chapter" data-progress="1" style="left: 1.4285714285714286%;"></a>
    
        <a href="../nastroika_git/konfigurirovanie_git.html" title="Конфигурирование Git" class="chapter done " data-progress="1.1" style="left: 2.857142857142857%;"></a>
    
        <a href="../nastroika_git/git_atributi.html" title="Git-атрибуты" class="chapter done " data-progress="1.2" style="left: 4.285714285714286%;"></a>
    
        <a href="../nastroika_git/perehvatchiki_v_git.html" title="Перехватчики в Git" class="chapter done " data-progress="1.3" style="left: 5.714285714285714%;"></a>
    
        <a href="../nastroika_git/primer_navyazivaniya_politiki_s_pomoschyu_git.html" title="Пример навязывания политики с помощью Git" class="chapter done " data-progress="1.4" style="left: 7.142857142857143%;"></a>
    
        <a href="../nastroika_git/itogi.html" title="Итоги" class="chapter done " data-progress="1.5" style="left: 8.571428571428571%;"></a>
    
        <a href="../vvedenie/README.html" title="Введение" class="chapter done new-chapter" data-progress="2" style="left: 10%;"></a>
    
        <a href="../vvedenie/o_kontrole_versii.html" title="О контроле версий" class="chapter done " data-progress="2.1" style="left: 11.428571428571429%;"></a>
    
        <a href="../vvedenie/kratkaya_istoriya_git.html" title="Краткая история Git" class="chapter done " data-progress="2.2" style="left: 12.857142857142858%;"></a>
    
        <a href="../vvedenie/osnovi_git.html" title="Основы Git" class="chapter done " data-progress="2.3" style="left: 14.285714285714286%;"></a>
    
        <a href="../vvedenie/ustanovka_git.html" title="Установка Git" class="chapter done " data-progress="2.4" style="left: 15.714285714285714%;"></a>
    
        <a href="../vvedenie/pervonachalnaya_nastroika_git.html" title="Первоначальная настройка Git" class="chapter done " data-progress="2.5" style="left: 17.142857142857142%;"></a>
    
        <a href="../vvedenie/kak_poluchit_pomosch.html" title="Как получить помощь?" class="chapter done " data-progress="2.6" style="left: 18.571428571428573%;"></a>
    
        <a href="../vvedenie/itogi.html" title="Итоги" class="chapter done " data-progress="2.7" style="left: 20%;"></a>
    
        <a href="../vetvlenie_v_git/README.html" title="Ветвление в Git" class="chapter done new-chapter" data-progress="3" style="left: 21.428571428571427%;"></a>
    
        <a href="../vetvlenie_v_git/chto_takoe_vetka.html" title="Что такое ветка?" class="chapter done " data-progress="3.1" style="left: 22.857142857142858%;"></a>
    
        <a href="../vetvlenie_v_git/osnovi_vetvleniya_i_sliyaniya.html" title="Основы ветвления и слияния" class="chapter done " data-progress="3.2" style="left: 24.285714285714285%;"></a>
    
        <a href="../vetvlenie_v_git/upravlenie_vetkami.html" title="Управление ветками" class="chapter done " data-progress="3.3" style="left: 25.714285714285715%;"></a>
    
        <a href="../vetvlenie_v_git/priyomi_raboti_s_vetkami.html" title="Приёмы работы с ветками" class="chapter done " data-progress="3.4" style="left: 27.142857142857142%;"></a>
    
        <a href="../vetvlenie_v_git/udalyonnie_vetki.html" title="Удалённые ветки" class="chapter done " data-progress="3.5" style="left: 28.571428571428573%;"></a>
    
        <a href="../vetvlenie_v_git/peremeschenie.html" title="Перемещение" class="chapter done " data-progress="3.6" style="left: 30%;"></a>
    
        <a href="../vetvlenie_v_git/itogi.html" title="Итоги" class="chapter done " data-progress="3.7" style="left: 31.428571428571427%;"></a>
    
        <a href="../git_na_servere/README.html" title="Git на сервере" class="chapter done new-chapter" data-progress="4" style="left: 32.857142857142854%;"></a>
    
        <a href="../git_na_servere/protokoli.html" title="Протоколы" class="chapter done " data-progress="4.1" style="left: 34.285714285714285%;"></a>
    
        <a href="../git_na_servere/git_hosting.html" title="Git-хостинг" class="chapter done " data-progress="4.10" style="left: 35.714285714285715%;"></a>
    
        <a href="../git_na_servere/itogi.html" title="Итоги" class="chapter done " data-progress="4.11" style="left: 37.142857142857146%;"></a>
    
        <a href="../git_na_servere/nastroika_git_na_servere.html" title="Настройка Git на сервере" class="chapter done " data-progress="4.2" style="left: 38.57142857142857%;"></a>
    
        <a href="../git_na_servere/sozdanie_otkritogo_ssh_klyucha.html" title="Создание открытого SSH-ключа" class="chapter done " data-progress="4.3" style="left: 40%;"></a>
    
        <a href="../git_na_servere/nastraivaem_server.html" title="Настраиваем сервер" class="chapter done " data-progress="4.4" style="left: 41.42857142857143%;"></a>
    
        <a href="../git_na_servere/otkritii_dostup.html" title="Открытый доступ" class="chapter done " data-progress="4.5" style="left: 42.857142857142854%;"></a>
    
        <a href="../git_na_servere/gitweb.html" title="GitWeb" class="chapter done " data-progress="4.6" style="left: 44.285714285714285%;"></a>
    
        <a href="../git_na_servere/gitosis.html" title="Gitosis" class="chapter done " data-progress="4.7" style="left: 45.714285714285715%;"></a>
    
        <a href="../git_na_servere/gitolite.html" title="Gitolite" class="chapter done " data-progress="4.8" style="left: 47.142857142857146%;"></a>
    
        <a href="../git_na_servere/git_demon.html" title="Git-демон" class="chapter done " data-progress="4.9" style="left: 48.57142857142857%;"></a>
    
        <a href="../raspredelyonnii_git/README.html" title="Распределённый Git" class="chapter done new-chapter" data-progress="5" style="left: 50%;"></a>
    
        <a href="../raspredelyonnii_git/raspredelyonnie_rabochie_protsessi.html" title="Распределённые рабочие процессы" class="chapter done " data-progress="5.1" style="left: 51.42857142857143%;"></a>
    
        <a href="../raspredelyonnii_git/sodeistvie_proektu.html" title="Содействие проекту" class="chapter done " data-progress="5.2" style="left: 52.857142857142854%;"></a>
    
        <a href="../raspredelyonnii_git/soprovozhdenie_proekta.html" title="Сопровождение проекта" class="chapter  " data-progress="5.3" style="left: 54.285714285714285%;"></a>
    
        <a href="../raspredelyonnii_git/itogi.html" title="Итоги" class="chapter  " data-progress="5.4" style="left: 55.714285714285715%;"></a>
    
        <a href="../instrumenti_git/README.html" title="Инструменты Git" class="chapter  new-chapter" data-progress="6" style="left: 57.142857142857146%;"></a>
    
        <a href="../instrumenti_git/vibor_revizii.html" title="Выбор ревизии" class="chapter  " data-progress="6.1" style="left: 58.57142857142857%;"></a>
    
        <a href="../instrumenti_git/interaktivnoe_indeksirovanie.html" title="Интерактивное индексирование" class="chapter  " data-progress="6.2" style="left: 60%;"></a>
    
        <a href="../instrumenti_git/pryatane.html" title="Прятанье" class="chapter  " data-progress="6.3" style="left: 61.42857142857143%;"></a>
    
        <a href="../instrumenti_git/perezapis_istorii.html" title="Перезапись истории" class="chapter  " data-progress="6.4" style="left: 62.857142857142854%;"></a>
    
        <a href="../instrumenti_git/otladka_s_pomoschyu_git.html" title="Отладка с помощью Git" class="chapter  " data-progress="6.5" style="left: 64.28571428571429%;"></a>
    
        <a href="../instrumenti_git/podmoduli.html" title="Подмодули" class="chapter  " data-progress="6.6" style="left: 65.71428571428571%;"></a>
    
        <a href="../instrumenti_git/sliyanie_podderevev.html" title="Слияние поддеревьев" class="chapter  " data-progress="6.7" style="left: 67.14285714285714%;"></a>
    
        <a href="../instrumenti_git/itogi.html" title="Итоги" class="chapter  " data-progress="6.8" style="left: 68.57142857142857%;"></a>
    
        <a href="../osnovi_git/README.html" title="Основы Git" class="chapter  new-chapter" data-progress="7" style="left: 70%;"></a>
    
        <a href="../osnovi_git/sozdanie_git_repozitoriya.html" title="Создание Git-репозитория" class="chapter  " data-progress="7.1" style="left: 71.42857142857143%;"></a>
    
        <a href="../osnovi_git/zapis_izmenenii_v_repozitorii.html" title="Запись изменений в репозиторий" class="chapter  " data-progress="7.2" style="left: 72.85714285714286%;"></a>
    
        <a href="../osnovi_git/prosmotr_istorii_kommitov.html" title="Просмотр истории коммитов" class="chapter  " data-progress="7.3" style="left: 74.28571428571429%;"></a>
    
        <a href="../osnovi_git/otmena_izmenenii.html" title="Отмена изменений" class="chapter  " data-progress="7.4" style="left: 75.71428571428571%;"></a>
    
        <a href="../osnovi_git/rabota_s_udalyonnimi_repozitoriyami.html" title="Работа с удалёнными репозиториями" class="chapter  " data-progress="7.5" style="left: 77.14285714285714%;"></a>
    
        <a href="../osnovi_git/rabota_s_metkami.html" title="Работа с метками" class="chapter  " data-progress="7.6" style="left: 78.57142857142857%;"></a>
    
        <a href="../osnovi_git/poleznie_soveti.html" title="Полезные советы" class="chapter  " data-progress="7.7" style="left: 80%;"></a>
    
        <a href="../osnovi_git/itogi.html" title="Итоги" class="chapter  " data-progress="7.8" style="left: 81.42857142857143%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/README.html" title="Git и другие системы контроля версий" class="chapter  new-chapter" data-progress="8" style="left: 82.85714285714286%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/git_i_subversion.html" title="Git и Subversion" class="chapter  " data-progress="8.1" style="left: 84.28571428571429%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/migratsiya_na_git.html" title="Миграция на Git" class="chapter  " data-progress="8.2" style="left: 85.71428571428571%;"></a>
    
        <a href="../git_i_drugie_sistemi_kontrolya_versii/itogi.html" title="Итоги" class="chapter  " data-progress="8.3" style="left: 87.14285714285714%;"></a>
    
        <a href="../git_iznutri/README.html" title="Git изнутри" class="chapter  new-chapter" data-progress="9" style="left: 88.57142857142857%;"></a>
    
        <a href="../git_iznutri/santehnika_i_farfor.html" title="Сантехника и фарфор" class="chapter  " data-progress="9.1" style="left: 90%;"></a>
    
        <a href="../git_iznutri/obekti_v_git.html" title="Объекты в Git" class="chapter  " data-progress="9.2" style="left: 91.42857142857143%;"></a>
    
        <a href="../git_iznutri/ssilki_v_git.html" title="Ссылки в Git" class="chapter  " data-progress="9.3" style="left: 92.85714285714286%;"></a>
    
        <a href="../git_iznutri/pack_faili.html" title="Pack-файлы" class="chapter  " data-progress="9.4" style="left: 94.28571428571429%;"></a>
    
        <a href="../git_iznutri/spetsifikatsii_ssilok.html" title="Спецификации ссылок" class="chapter  " data-progress="9.5" style="left: 95.71428571428571%;"></a>
    
        <a href="../git_iznutri/protokoli_peredachi.html" title="Протоколы передачи" class="chapter  " data-progress="9.6" style="left: 97.14285714285714%;"></a>
    
        <a href="../git_iznutri/obsluzhivanie_i_vosstanovlenie_dannih.html" title="Обслуживание и восстановление данных" class="chapter  " data-progress="9.7" style="left: 98.57142857142857%;"></a>
    
        <a href="../git_iznutri/itogi.html" title="Итоги" class="chapter  " data-progress="9.8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_796">
                    
                        <h1 id="-">Содействие проекту</h1>
<p>Мы узнали, что представляют собой различные рабочие процессы, также у вас должно быть достаточно хорошее понимание основ использования Git&#39;а. В этом разделе вы узнаете о нескольких типичных способах внести свой вклад в проект.</p>
<p>Главная трудность в описании этого процесса состоит в том, что существует огромное количество вариаций того, как он организован. Так как Git очень гибок, люди могут осуществлять совместную работу по-разному, и проблематично описать то, как вы должны содействовать проекту — все проекты немного разные. Многое зависит от количества активных участников, от выбранного типа рабочего процесса, от ваших прав доступа к репозиториям, и, возможно, от метода принятия изменений от внешних разработчиков.</p>
<p>Первый фактор — это количество активных участников. Как много пользователей активно вносят свой вклад в проект и как часто? Во многих случаях это два-три разработчика с несколькими коммитами в день, возможно, меньше, для вялотекущих проектов. В по-настоящему больших компаниях или проектах число разработчиков может измеряться тысячами, с десятками или даже сотнями ежедневно поступающих патчей. Это важно, поскольку с увеличением числа разработчиков вам становится труднее убедиться, что ваши изменения можно будет чисто применить или беспрепятственно слить. Изменения, которые вы отправляете, могут оказаться устаревшими или частично сломанными той работой, которая была влита, пока вы работали, или пока ваши изменения ожидали утверждения или применения. Как сохранить свой код согласованным, а патчи применимыми?</p>
<p>Следующий фактор — это рабочий процесс, используемый в проекте. Он централизован, и каждый разработчик имеет равные права на запись в главный репозиторий? Есть у проекта мейнтейнер или менеджер по интеграции, который проверяет патчи? Все ли патчи проверяются и утверждаются экспертами? Вы вовлечены в этот процесс? Присутствует ли система помощников и должны ли вы сначала отправлять свою работу им?</p>
<p>Следующий пункт — это доступ на отправку изменений. Рабочий процесс, требуемый для внесения вклада в проект, сильно отличается в зависимости от того, имеете ли вы доступ на запись или нет. Если у вас нет доступа на запись, то как в проекте принято принимать вклад в работу? Вообще, существует ли какая-либо политика? Какой объём работы вы вносите за раз? Как часто вы это делаете?</p>
<p>Все эти вопросы могут повлиять на то, как эффективно вы будете вносить вклад в проект и какой рабочий процесс предпочтителен или доступен вам. Я расскажу об аспектах каждого из них на серии примеров, продвигаясь от простых к более сложным; на основе этих примеров вы сможете создать специфический нужный вам в вашей работе тип рабочего процесса.</p>
<h2 id="-">Рекомендации по созданию коммитов</h2>
<p>Прежде чем мы приступим к рассмотрению специфичных примеров использования, сделаем короткое замечание о сообщениях коммитов. Обладание хорошим руководством по созданию коммитов и следование ему значительно облегчает работу с Git&#39;ом и сотрудничество с другими разработчиками. У проекта Git имеется документ с хорошими советами по созданию коммитов, из которых делаются патчи — прочитать его можно в исходном коде Git&#39;а в файле <code>Documentation/SubmittingPatches</code>.</p>
<p>Во-первых, не стоит отсылать ничего с ошибками в пробельных символах. Git предоставляет простой способ их обнаружения — перед коммитом, запустите <code>git diff --check</code>, это определит возможные проблемы и перечислит их вам. Вот пример, в котором я заменил красный цвет терминала символами <code>X</code>:</p>
<pre><code>$ git diff --check
lib/simplegit<span class="hljs-preprocessor">.rb</span>:<span class="hljs-number">5</span>: trailing whitespace.
+    @git_dir = File<span class="hljs-preprocessor">.expand</span>_path(git_dir)XX
lib/simplegit<span class="hljs-preprocessor">.rb</span>:<span class="hljs-number">7</span>: trailing whitespace.
+ XXXXXXXXXXX
lib/simplegit<span class="hljs-preprocessor">.rb</span>:<span class="hljs-number">26</span>: trailing whitespace.
+    def command(git_cmd)XXXX
</code></pre><p>Если выполните эту команду перед коммитом, то сможете понять, собираетесь ли вы сделать коммит с раздражающими разработчиков ошибками в пробельных символах.</p>
<p>Далее, старайтесь делать так, чтобы каждый коммит был логически отдельным набором изменений. Если можете, старайтесь делать ваши изменения обозримыми — не стоит писать код все выходные, работая над пятью задачами, а затем отправлять их все в понедельник одним массивным коммитом. Даже если вы не делали коммитов в течение выходных, воспользуйтесь индексом, чтобы разбить свою работу на части, как минимум по одному коммиту для каждой проблемы с полезным сообщением к каждому. Если некоторые из изменений затрагивают один и тот же файл, попробуйте использовать <code>git add --patch</code> для индексирования файла по частям (это подробно рассмотрено в главе 6). Снимок состояния проекта на верхушке ветки будет идентичным, сделаете ли вы один коммит или пять, покуда все ваши изменения добавлены в какой-то момент, так что попытайтесь облегчить жизнь вашим коллегам разработчикам, когда они будут просматривать ваши изменения. При таком подходе будет проще выделить или отменить одно из изменений, если возникнет такая необходимость. В главе 6 описано множество полезных ухищрений для переписывания истории и интерактивного индексирования файлов — пользуйтесь этими инструментами для изготовления ясной и понятной истории.</p>
<p>Последняя вещь, которую стоит иметь в виду, — это сообщение коммита. Написание качественных сообщений коммитов должно войти в привычку, это сделает сотрудничество с использованием Git&#39;а гораздо проще. По общему правилу, ваши сообщения должны начинаться с одной строки не длиннее 50 символов, лаконично описывающей набор изменений, затем пустая строка, затем более детальное описание. Проект Git требует, чтобы детальное объяснение включало в себя мотивацию на изменения и противопоставляло вашу реализацию с предыдущим поведением — это хорошее руководство к действию. Если вы пишете сообщения к коммитам на английском языке, то хорошей идеей является использование повелительного наклонения глаголов в настоящем времени. Другими словами, пишите команды. Вместо &quot;I added tests for&quot; или &quot;Adding tests for&quot; используйте &quot;Add tests for&quot;.</p>
<p>Вот шаблон, изначально написанный Тимом Поупом на сайте tpope.net:</p>
<pre><code>Краткое (до <span class="hljs-number">50</span> символов) описание изменений

Более детальное объяснение, <span class="hljs-keyword">если</span> необходимо. Перенос на <span class="hljs-number">72</span> символе
<span class="hljs-keyword">или</span> около того. В некоторых контекстах первая <span class="hljs-keyword">строка</span> рассматривается
как тема письма, а остальное как тело. Пустая <span class="hljs-keyword">строка</span>, отделяющая сводку
от тела, важна (<span class="hljs-keyword">если</span> вы <span class="hljs-keyword">не</span> опустили тело целиком); <span class="hljs-keyword">если</span> вы оставите их
вместе, инструменты, такие как rebase, могут воспринять это неправильно.

Дальнейшие параграфы идут после пустых строк

 - также можно применять маркеры списков

 - обычно в качестве маркера списка используется дефис <span class="hljs-keyword">или</span> звёздочка
   с одним пробелом перед ним <span class="hljs-keyword">и</span> пустыми строками между пунктами,
   хотя соглашения в этом аспекте могут разниться
</code></pre><p>Если все ваши сообщения о коммитах будут выглядеть как это, всё будет намного проще для вас и для разработчиков, с которыми вы работаете. Проект Git содержит хорошо отформатированные сообщения о коммитах — я советую вам запустить <code>git log --no-merges</code> там, чтобы увидеть, как выглядит хорошо отформатированная история коммитов проекта.</p>
<p>В последующих примерах и почти везде в этой книге для краткости я не форматирую сообщения так красиво, как это; вместо этого я использую опцию <code>-m</code> для команды <code>git commit</code>. Делайте, как я говорю, а не как я делаю.</p>
<h2 id="-">Отдельная маленькая команда</h2>
<p>Наиболее простой тип организации, с которой вы легко можете столкнуться — частный проект с одним или двумя другими разработчиками. Под термином частный я подразумеваю закрытый код, недоступный для чтения остальному миру. Вы и все остальные разработчики имеете право записи в репозиторий.</p>
<p>В этой среде вы можете придерживаться рабочего процесса, похожего на тот, который вы бы использовали в Subversion или другой централизованной системе. Вы по-прежнему получите такие преимущества, как локальные коммиты (коммиты в offline) и возможность гораздо более простого ветвления и слияния, но сам рабочий процесс может оставаться очень похожим; главное отличие — во время выполнения коммита слияние происходит на стороне клиента, а не на сервере.
Давайте посмотрим, как выглядел бы процесс, когда два разработчика начинают работать вместе с общим репозиторием. Первый разработчик, Джон, клонирует репозиторий, делает изменения и создаёт локальный коммит. (Я заменяю служебные сообщения знаком <code>...</code> в этих примерах, чтобы немного их сократить.)</p>
<pre><code><span class="hljs-comment"># Машина Джона</span>
$ git clone john@githost:simplegit.git
Initialized empty Git repository <span class="hljs-keyword">in</span> /home/john/simplegit/.git/
<span class="hljs-keyword">...</span>
$ cd simplegit/
$ vim lib/simplegit.rb
$ git commit -am <span class="hljs-string">'removed invalid default value'</span>
[master 738ee87] removed invalid default value
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>Второй разработчик, Джессика, выполняет то же самое — клонирует репозиторий и делает коммит с изменениями:</p>
<pre><code><span class="hljs-comment"># Машина Джессики</span>
$ git clone jessica@githost:simplegit.git
Initialized empty Git repository <span class="hljs-keyword">in</span> /home/jessica/simplegit/.git/
<span class="hljs-keyword">...</span>
$ cd simplegit/
$ vim TODO
$ git commit -am <span class="hljs-string">'add reset task'</span>
[master fbff5bc] add reset task
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">0</span> deletions(-)
</code></pre><p>Теперь Джессика отправляет свою работу на сервер:</p>
<pre><code><span class="hljs-comment"># Машина Джессики</span>
$ git push origin master
<span class="hljs-keyword">...</span>
To jessica@githost:simplegit.git
   1edee6b..fbff5bc  master -&gt; master
</code></pre><p>Джон также пытается выложить свои изменения:</p>
<pre><code><span class="hljs-preprocessor"># Машина Джона</span>
$ git push origin master
<span class="hljs-keyword">To</span> john@githost:simplegit.git
 ! [rejected]        master -&gt; master (non-fast forward)
<span class="hljs-keyword">error</span>: failed <span class="hljs-keyword">to</span> push some refs <span class="hljs-keyword">to</span> <span class="hljs-comment">'john@githost:simplegit.git'</span>
</code></pre><p>Джон не может выполнить отправку изменений, так как за это время Джессика уже отправила свои. Это очень важно понять, особенно если вы привыкли к Subversion, так как мы видим, что эти два разработчика не редактировали один и тот же файл. Хотя Subversion и выполняет автоматическое слияние на сервере, если редактировались разные файлы, при использовании Git&#39;а вы должны слить коммиты локально. Прежде чем Джон сможет отправить свои изменения на сервер, он должен извлечь наработки Джессики и выполнить слияние:</p>
<pre><code>$ git fetch origin
<span class="hljs-keyword">...</span>
From john@githost:simplegit
 + 049d078...fbff5bc master     -&gt; origin/master
</code></pre><p>На этот момент, локальный репозиторий Джона выглядит так, как показано на рисунке 5-4.</p>
<p><img src="http://git-scm.com/figures/18333fig0504-tn.png" alt=""></p>
<p>Рисунок 5-4. Исходный репозиторий Джона.</p>
<p>У Джона есть ссылка на изменения, выложенные Джессикой, и он должен слить их со своей работой перед тем, как ему разрешат её отправить:</p>
<pre><code>$ git <span class="hljs-operator"><span class="hljs-keyword">merge</span> origin/master
<span class="hljs-keyword">Merge</span> made <span class="hljs-keyword">by</span> recursive.
 TODO |    <span class="hljs-number">1</span> +
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">0</span> deletions(-)</span>
</code></pre><p>Слияние прошло без проблем — история коммитов Джона теперь выглядит как на рисунке 5-5.</p>
<p><img src="http://git-scm.com/figures/18333fig0505-tn.png" alt=""></p>
<p>Рисунок 5-5. Репозиторий Джона после слияния с origin/master.</p>
<p>Теперь Джон может протестировать свой код, дабы удостовериться, что он по-прежнему работает нормально, а затем выложить свою работу, уже объединённую с работой Джессики, на сервер:</p>
<pre><code>$ git push origin master
<span class="hljs-keyword">...</span>
To john@githost:simplegit.git
   fbff5bc..72bbc59  master -&gt; master
</code></pre><p>В результате история коммитов Джона выглядит, как показано на рисунке 5-6.</p>
<p><img src="http://git-scm.com/figures/18333fig0506-tn.png" alt=""></p>
<p>Рисунок 5-6. История коммитов Джона после отправки изменений на сервер.</p>
<p>Тем временем, Джессика работала над тематической веткой. Она создала тематическую ветку с названием <code>issue54</code> и сделала три коммита в этой ветке. Она ещё не извлекала изменения Джона, так что её история коммитов выглядит, как показано на рисунке 5-7.</p>
<p><img src="http://git-scm.com/figures/18333fig0507-tn.png" alt=""></p>
<p>Рисунок 5-7. Исходная история коммитов Джессики.</p>
<p>Джессика хочет синхронизировать свою работу с Джоном, так что она извлекает изменения с сервера:</p>
<pre><code><span class="hljs-comment"># Машина Джессики</span>
$ git fetch origin
<span class="hljs-keyword">...</span>
From jessica@githost:simplegit
   fbff5bc..72bbc59  master     -&gt; origin/master
</code></pre><p>Эта команда извлекает наработки Джона, которые он успел выложить. История коммитов Джессики теперь выглядит как на рисунке 5-8.</p>
<p><img src="http://git-scm.com/figures/18333fig0508-tn.png" alt=""></p>
<p>Рисунок 5-8. История коммитов Джессики после извлечения изменений Джона.</p>
<p>Джессика полагает, что её тематическая ветка закончена, но она хочет узнать, с чем ей нужно слить свою работу, чтобы она могла выложить её на сервер. Она запускает <code>git log</code>, чтобы выяснить это:</p>
<pre><code>$ git log <span class="hljs-comment">--no-merges origin/master ^issue54</span>
<span class="hljs-operator"><span class="hljs-keyword">commit</span> <span class="hljs-number">738</span>ee872852dfaa9d6634e0dea7a324040193016
Author: John Smith &lt;jsmith@example.com&gt;
<span class="hljs-keyword">Date</span>:   Fri May <span class="hljs-number">29</span> <span class="hljs-number">16</span>:<span class="hljs-number">01</span>:<span class="hljs-number">27</span> <span class="hljs-number">2009</span> -<span class="hljs-number">0700</span>

    removed invalid <span class="hljs-keyword">default</span> <span class="hljs-keyword">value</span></span>
</code></pre><p>Теперь Джессика может слить свою тематическую ветку в ветку <code>master</code>, слить работу Джона (<code>origin/master</code>) в свою ветку <code>master</code> и затем отправить изменения на сервер. Сначала она переключается на свою основную ветку, чтобы объединить всю эту работу:</p>
<pre><code>$ git checkout master
Switched <span class="hljs-keyword">to</span> branch <span class="hljs-string">"master"</span>
Your branch <span class="hljs-keyword">is</span> <span class="hljs-keyword">behind</span> 'origin/master' <span class="hljs-keyword">by</span> <span class="hljs-number">2</span> commits, <span class="hljs-keyword">and</span> can be fast-forwarded.
</code></pre><p>Она может слить сначала ветку <code>origin/master</code>, а может и <code>issue54</code> — обе они находятся выше в истории коммитов, так что не важно какой порядок слияния она выберет. Конечное состояние репозитория должно получиться идентичным независимо от того, какой порядок слияния она выберет; только история коммитов будет немного разная. Она решает слить ветку <code>issue54</code> первой:</p>
<pre><code>$ git merge issue54
Updating fbff5bc..<span class="hljs-number">4</span>af4298
Fast forward
 README           <span class="hljs-string">|    1 +</span>
 lib/simplegit.rb <span class="hljs-string">|    6 +++++-</span>
 <span class="hljs-number">2</span> files changed, <span class="hljs-number">6</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>Никаких проблем не возникло; как видите, это была обычная перемотка. Теперь Джессика сливает работу Джона (<code>origin/master</code>):</p>
<pre><code>$ git merge origin/master
<span class="hljs-keyword">Auto</span>-merging <span class="hljs-keyword">lib</span>/simplegit.rb
Merge made <span class="hljs-keyword">by</span> recursive.
 <span class="hljs-keyword">lib</span>/simplegit.rb |    <span class="hljs-number">2</span> +-
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>Слияние проходит нормально, и теперь история коммитов Джессики выглядит так, как показано на рисунке 5-9.</p>
<p><img src="http://git-scm.com/figures/18333fig0509-tn.png" alt=""></p>
<p>Рисунок 5-9. История коммитов Джессики после слияния с изменениями Джона.</p>
<p>Теперь указатель <code>origin/master</code> доступен из ветки <code>master</code> Джессики, так что она может спокойно выполнить <code>git push</code> (полагая, что Джон не выкладывал свои изменения за это время):</p>
<pre><code>$ git push origin master
<span class="hljs-keyword">...</span>
To jessica@githost:simplegit.git
   72bbc59..8059c15  master -&gt; master
</code></pre><p>Каждый разработчик несколько раз выполнял коммиты и успешно сливал свою работу с работой другого; смотри рисунок 5-10.</p>
<p><img src="http://git-scm.com/figures/18333fig0510-tn.png" alt=""></p>
<p>Рисунок 5-10. История коммитов Джессики после отправки всех изменений обратно на сервер.</p>
<p>Это один из простейших рабочих процессов. Вы работаете некоторое время, преимущественно в тематической ветке, и, когда приходит время, сливаете её в свою ветку <code>master</code>. Когда вы готовы поделиться этой работой с другими, вы сливаете её в ветку <code>master</code>, извлекаете изменения с сервера и сливаете <code>origin/master</code> (если за это время произошли изменения), и, наконец, отправляете свои изменения в ветку <code>master</code> на сервер. Общая последовательность действий выглядит так, как показано на рисунке 5-11.</p>
<p><img src="http://git-scm.com/figures/18333fig0511-tn.png" alt=""></p>
<p>Рисунок 5-11. Общая последовательность событий для простого рабочего процесса с несколькими разработчиками в Git&#39;е.</p>
<h2 id="-">Отдельная команда с менеджером</h2>
<p>В этом сценарии мы рассмотрим роли участников проекта в закрытых группах большего размера. Вы научитесь работе в окружении, где маленькие группы совместно работают над задачами, а затем результаты их деятельности интегрируются отдельным субъектом.</p>
<p>Давайте представим, что Джон и Джессика работают вместе над одной задачей, в то время как Джессика с Джози работают над другой. В этом случае компания использует рабочий процесс с менеджером по интеграции, при котором работа частных групп объединяется только определёнными инженерами (обновление ветки <code>master</code> главного репозитория может осуществляться только этими инженерами). В этом случае вся работа выполняется в ветках отдельных команд разработчиков и впоследствии объединяется воедино менеджерами по интеграции.</p>
<p>Давайте проследим за рабочим процессом Джессики, которая работает над двумя задачами, сотрудничая одновременно с двумя разными разработчиками. Положим, что она уже имеет свою собственную копию репозитория. Джессика решает сначала взяться за задачу <code>featureA</code>. Для этого она создаёт новую ветку и выполняет в ней некоторую работу:</p>
<pre><code><span class="hljs-preprocessor"># Машина Джессики</span>
$ git checkout -b featureA
Switched <span class="hljs-keyword">to</span> a <span class="hljs-keyword">new</span> branch <span class="hljs-string">"featureA"</span>
$ vim <span class="hljs-keyword">lib</span>/simplegit.rb
$ git commit -am <span class="hljs-comment">'add limit to log function'</span>
[featureA <span class="hljs-number">3300904</span>] add limit <span class="hljs-keyword">to</span> log <span class="hljs-keyword">function</span>
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>На этом этапе ей требуется поделиться своей работой с Джоном, так что она отправляет коммиты, выполненные на ветке <code>featureA</code>, на сервер. Так как Джессика не имеет права на изменение ветки <code>master</code> на сервере — только менеджеры по интеграции могут делать это — она вынуждена отправлять свои изменения в другую ветку, чтобы обмениваться работой с Джоном:</p>
<pre><code>$ git push origin featureA
<span class="hljs-keyword">...</span>
To jessica@githost:simplegit.git
 * [new branch]      featureA -&gt; featureA
</code></pre><p>Джессика сообщает по электронной почте Джону, что она выложила некоторые наработки в ветку <code>featureA</code>, и что он может проверить их. Пока Джессика ждёт ответа от Джона, она решает начать работу над веткой <code>featureB</code> вместе с Джози. Для начала она создаёт новую ветку для этой задачи, используя в качестве основы ветку <code>master</code> на сервере:</p>
<pre><code><span class="hljs-comment"># Машина Джессики</span>
$ git fetch origin
$ git checkout -b featureB origin/master
Switched <span class="hljs-built_in">to</span> <span class="hljs-operator">a</span> <span class="hljs-built_in">new</span> branch <span class="hljs-string">"featureB"</span>
</code></pre><p>Теперь Джессика делает пару коммитов в ветке <code>featureB</code>:</p>
<pre><code><span class="hljs-variable">$ </span>vim lib/simplegit.rb
<span class="hljs-variable">$ </span>git commit -am <span class="hljs-string">'made the ls-tree function recursive'</span>
[featureB e5b0fdc] made the ls-tree function recursive
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
<span class="hljs-variable">$ </span>vim lib/simplegit.rb
<span class="hljs-variable">$ </span>git commit -am <span class="hljs-string">'add ls-files'</span>
[featureB <span class="hljs-number">8512791</span>] add ls-files
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">5</span> insertions(+), <span class="hljs-number">0</span> deletions(-)
</code></pre><p>Репозиторий Джессики выглядит, как показано на рисунке 5-12.</p>
<p><img src="http://git-scm.com/figures/18333fig0512-tn.png" alt=""></p>
<p>Рисунок 5-12. Исходная история коммитов у Джессики.</p>
<p>Джессика уже готова отправить свою работу на сервер, но получает от Джози сообщение о том, что некоторые наработки уже были выложены на сервер в ветку <code>featureBee</code>. Поэтому Джессика должна сначала слить эти изменения со своими, прежде чем она сможет отправить свою работу на сервер. Она может извлечь изменения Джози командой <code>git fetch</code>:</p>
<pre><code>$ git fetch origin
<span class="hljs-keyword">...</span>
From jessica@githost:simplegit
 * [new branch]      featureBee -&gt; origin/featureBee
</code></pre><p>Теперь Джессика может слить эти изменения в свои наработки командой <code>git merge</code>:</p>
<pre><code>$ git merge origin/featureBee
<span class="hljs-keyword">Auto</span>-merging <span class="hljs-keyword">lib</span>/simplegit.rb
Merge made <span class="hljs-keyword">by</span> recursive.
 <span class="hljs-keyword">lib</span>/simplegit.rb |    <span class="hljs-number">4</span> ++++
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">4</span> insertions(+), <span class="hljs-number">0</span> deletions(-)
</code></pre><p>Есть небольшая проблема — ей нужно выложить изменения из своей ветки <code>featureB</code> в ветку <code>featureBee</code> на сервере. Она может сделать это при помощи команды <code>git push</code>, указав название локальной и удалённой ветки, разделённые двоеточием:</p>
<pre><code>$ git push origin featureB:featureBee
<span class="hljs-keyword">...</span>
To jessica@githost:simplegit.git
   fba9af8..cd685d1  featureB -&gt; featureBee
</code></pre><p>Это называется <em>refspec</em>. Смотри главу 9, где более детально обсуждаются спецификации ссылок и различные вещи, которые вы можете делать с ними.</p>
<p>Далее, Джон сообщает Джессике по почте, что он добавил некоторые изменения в ветку <code>featureA</code> и просит её проверить их. Она выполняет <code>git fetch</code>, чтобы получить внесённые Джоном изменения:</p>
<pre><code>$ git fetch origin
<span class="hljs-keyword">...</span>
From jessica@githost:simplegit
   <span class="hljs-number">3300904.</span>.aad881d  featureA   -&gt; origin/featureA
</code></pre><p>Затем, используя команду <code>git log</code>, она смотрит, что же было изменено:</p>
<pre><code>$ git log origin/featureA ^featureA
<span class="hljs-operator"><span class="hljs-keyword">commit</span> aad881d154acdaeb2b6b18ea0e827ed8a6d671e6
Author: John Smith &lt;jsmith@example.com&gt;
<span class="hljs-keyword">Date</span>:   Fri May <span class="hljs-number">29</span> <span class="hljs-number">19</span>:<span class="hljs-number">57</span>:<span class="hljs-number">33</span> <span class="hljs-number">2009</span> -<span class="hljs-number">0700</span>

    changed log <span class="hljs-keyword">output</span> <span class="hljs-keyword">to</span> <span class="hljs-number">30</span> <span class="hljs-keyword">from</span> <span class="hljs-number">25</span></span>
</code></pre><p>Наконец, она сливает работу Джона в свою собственную ветку <code>featureA</code>:</p>
<pre><code>$ git checkout featureA
Switched <span class="hljs-built_in">to</span> branch <span class="hljs-string">"featureA"</span>
$ git <span class="hljs-built_in">merge</span> origin/featureA
Updating <span class="hljs-number">3300904.</span>.aad881d
Fast forward
 lib/simplegit.rb |   <span class="hljs-number">10</span> +++++++++-
<span class="hljs-number">1</span> <span class="hljs-built_in">files</span> changed, <span class="hljs-number">9</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>Джессика хочет кое-что подправить, так что она опять делает коммит и затем отправляет изменения на сервер:</p>
<pre><code>$ git commit -am <span class="hljs-string">'small tweak'</span>
[featureA 774b3ed] small tweak
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
$ git push origin featureA
<span class="hljs-keyword">...</span>
To jessica@githost:simplegit.git
   <span class="hljs-number">3300904.</span>.774b3ed  featureA -&gt; featureA
</code></pre><p>История коммитов Джессики теперь выглядит так, как показано на рисунке 5-13.</p>
<p><img src="http://git-scm.com/figures/18333fig0513-tn.png" alt=""></p>
<p>Рисунок 5-13. История Джессики после внесения коммитов в ветку с решаемой задачей.</p>
<p>Джессика, Джози и Джон информируют менеджеров по интеграции, что ветки <code>featureA</code> и <code>featureBee</code> на сервере готовы к интеграции в основную ветку разработки. После того, как они интегрируют эти ветки в основную версию, извлечение данных с сервера приведёт к появлению новых коммитов слияния. Таким образом, история коммитов станет выглядеть так, как на рисунке 5-14.</p>
<p><img src="http://git-scm.com/figures/18333fig0514-tn.png" alt=""></p>
<p>Рисунок 5-14. История коммитов Джессики после слияния двух тематических веток.</p>
<p>Множество групп переходят на Git именно из-за возможности параллельной работы нескольких команд с последующим объединением разных линий разработки. Огромное преимущество Git&#39;а — возможность маленьких подгрупп большой команды работать вместе через удалённые ветки, не мешая при этом всей команде. Последовательность событий в рассмотренном здесь рабочем процессе представлена на рисунке 5-15.</p>
<p><img src="http://git-scm.com/figures/18333fig0515-tn.png" alt=""></p>
<p>Рисунок 5-15. Основная последовательность действий для рабочего процесса в команде с менеджером по интеграции.</p>
<h2 id="-">Небольшой открытый проект</h2>
<p>Внести вклад в открытый проект — это немного другое. Из-за того, что у вас нет прав на прямое изменение веток проекта, требуется какой-нибудь другой путь для обмена наработками с мейнтейнерами. Первый пример описывает участие в проекте через разветвление (fork) на Git-хостингах, на которых это делается достаточно просто. Сайты repo.or.cz и GitHub оба поддерживают такую возможность, и большая часть мейнтейнеров проектов придерживаются такого способа сотрудничества. В следующем разделе рассматриваются проекты, которые предпочитают принимать патчи по e-mail.</p>
<p>Сначала вы скорее всего захотите склонировать основной репозиторий, создать тематическую ветку для одного или нескольких патчей, которые вы собираетесь внести в проект, и выполнить свою работу в ней. Последовательность действий выглядит следующим образом:</p>
<pre><code><span class="hljs-variable">$ </span>git clone (url)
<span class="hljs-variable">$ </span>cd project
<span class="hljs-variable">$ </span>git checkout -b featureA
<span class="hljs-variable">$ </span>(выполнение работы)
<span class="hljs-variable">$ </span>git commit
<span class="hljs-variable">$ </span>(выполнение работы)
<span class="hljs-variable">$ </span>git commit
</code></pre><p>Возможно, у вас возникнет желание воспользоваться <code>rebase -i</code>, чтобы сплющить (squash) свои наработки в единый коммит, или реорганизовать наработки в коммитах таким образом, чтобы их было проще воспринимать мейнтейнерам проекта — об интерактивном перемещении будет рассказано в главе 6.</p>
<p>Если вы закончили работу со своей веткой и готовы поделиться наработками с мейнтейнерами, перейдите на страницу исходного проекта и нажмите кнопку &quot;Fork&quot;, создав таким образом свою собственную копию проекта, доступную на запись. Затем вам нужно добавить URL этого нового репозитория в список удалённых репозиториев, в нашем случае мы назовём его <code>myfork</code>:</p>
<pre><code><span class="hljs-variable">$ </span>git remote add myfork (url)
</code></pre><p>Вам нужно отправить свои наработки в этот репозиторий. Проще всего будет отправить в удалённый репозиторий ту ветку, над которой вы работаете, а не сливать её в ветку <code>master</code> и отправлять потом её. Это объясняется следующим образом — если ваша работа не будет принята или будет принята только частично, вам не придётся откатывать назад свою ветку <code>master</code>. Если мейнтейнеры сольют, переместят или частично включат вашу работу, вы, в конечном счёте, получите её обратно при получении изменений из их репозитория:</p>
<pre><code><span class="hljs-variable">$ </span>git push myfork featureA
</code></pre><p>Когда ваши наработки будут отправлены в ваш форк, вам нужно будет послать уведомление мейнтейнеру. Его часто называют запросом на включение (pull request), вы можете либо сгенерировать его через сайт — на GitHub&#39;е есть кнопка &quot;pull request&quot;, автоматически уведомляющая мейнтейнера, либо выполнить команду <code>git request-pull</code> и вручную отправить её вывод по почте мейнтейнеру.</p>
<p>Команда <code>request-pull</code> принимает в качестве аргумента имя базовой ветки, в которую вы хотите включить свою работу, и URL репозитория, из которого мейнтейнер может получить ваши наработки. Команда выводит короткую сводку всех изменений, которые вы просите включить в проект. Например, если Джессика хочет послать Джону запрос на включение, когда она сделала пару коммитов в тематической ветке и уже отправила её на сервер, ей следует выполнить следующее:</p>
<pre><code>$ git request-pull origin/master myfork
The following changes since commit <span class="hljs-number">1</span>edee6b1d61823a2de3b09c160d7080b8d1b3a40:
  John Smith (<span class="hljs-number">1</span>):
        added <span class="hljs-operator">a</span> <span class="hljs-built_in">new</span> <span class="hljs-function"><span class="hljs-keyword">function</span></span>

are available <span class="hljs-operator">in</span> <span class="hljs-operator">the</span> git repository <span class="hljs-keyword">at</span>:

  git://githost/simplegit.git featureA

Jessica Smith (<span class="hljs-number">2</span>):
      <span class="hljs-built_in">add</span> limit <span class="hljs-built_in">to</span> <span class="hljs-built_in">log</span> <span class="hljs-function"><span class="hljs-keyword">function</span></span>
      change <span class="hljs-built_in">log</span> output <span class="hljs-built_in">to</span> <span class="hljs-number">30</span> <span class="hljs-built_in">from</span> <span class="hljs-number">25</span>

 lib/simplegit.rb |   <span class="hljs-number">10</span> +++++++++-
 <span class="hljs-number">1</span> <span class="hljs-built_in">files</span> changed, <span class="hljs-number">9</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>Вывод может быть отправлен мейнтейнеру — он содержит список коммитов, информацию о том, где начинается ветка с изменениями, и указывает, откуда можно забрать эти изменения.</p>
<p>Для проекта, мейнтейнером которого вы не являетесь, проще иметь ветку <code>master</code>, которая отслеживает ветку <code>origin/master</code>, и выполнять работу в тематических ветках, которые вы легко сможете удалить, в случае если они будут отклонены. Если вы распределяете свои наработки по различным темам в тематических ветках, вам будет проще выполнить перемещение своей работы, в случае если верхушка главного репозитория переместится за время работы и ваши коммиты уже не получится применить без конфликтов. Например, если вы планируете отправить в проект работу по другой теме, не продолжайте работать внутри тематической ветки, которую вы только что отправили, начните снова с ветки <code>master</code> главного репозитория:</p>
<pre><code><span class="hljs-variable">$ </span>git checkout -b featureB origin/master
<span class="hljs-variable">$ </span>(выполнение работы)
<span class="hljs-variable">$ </span>git commit
<span class="hljs-variable">$ </span>git push myfork featureB
<span class="hljs-variable">$ </span>(отправка письма мейнтейнеру)
<span class="hljs-variable">$ </span>git fetch origin
</code></pre><p>Теперь каждая из ваших тем представляет собой нечто похожее на очередь из патчей, которую вы можете перезаписывать, перемещать, модифицировать, не оказывая влияния на остальные, как на рисунке 5-16.</p>
<p><img src="http://git-scm.com/figures/18333fig0516-tn.png" alt=""></p>
<p>Рисунок 5-16. Исходная история коммитов при работе над featureB.</p>
<p>Давайте представим, что мейнтейнер проекта включил в основную версию чью-то группу патчей. Затем он попытался включить вашу первую ветку, но слияние уже не проходит гладко. В этом случае вы можете попробовать переместить эту ветку на верхушку ветки <code>origin/master</code>, разрешить конфликты для мейнтейнера и затем заново представить свои изменения на рассмотрение:</p>
<pre><code><span class="hljs-variable">$ </span>git checkout featureA
<span class="hljs-variable">$ </span>git rebase origin/master
<span class="hljs-variable">$ </span>git push -f myfork featureA
</code></pre><p>Так вы перепишете свою историю коммитов, чтобы она выглядела так, как на рисунке 5-17.</p>
<p><img src="http://git-scm.com/figures/18333fig0517-tn.png" alt=""></p>
<p>Рисунок 5-17. История коммитов после работы в featureA.</p>
<p>Так как вы переместили ветку, команде push вы должны передать опцию <code>-f</code>, чтобы иметь возможность заменить ветку <code>featureA</code> на сервере. Есть альтернатива — выложить новую работу на сервер в другую ветку (возможно, назвав её <code>featureAv2</code>).</p>
<p>Давайте рассмотрим более вероятный сценарий: мейнтейнер просмотрел вашу работу во второй ветке, и ему понравилась ваша идея, но он хотел бы, чтобы вы изменили некоторые детали реализации. Воспользуемся этой возможностью, чтобы заодно переместить вашу работу так, чтобы она базировалась на текущей версии ветки <code>master</code> в проекте. Создадим новую ветку, базирующуюся на текущей ветке <code>origin/master</code>, уплотним (squash) здесь изменения из ветки <code>featureB</code>, разрешим все конфликты, которые могут возникнуть, сделаем необходимые изменения в реализации вашей идеи и затем выложим всё это в виде новой ветки:</p>
<pre><code><span class="hljs-variable">$ </span>git checkout -b featureBv2 origin/master
<span class="hljs-variable">$ </span>git merge --no-commit --squash featureB
<span class="hljs-variable">$ </span>(изменение реализации)
<span class="hljs-variable">$ </span>git commit
<span class="hljs-variable">$ </span>git push myfork featureBv2
</code></pre><p>Опция <code>--squash</code> берёт всю работу на сливаемой ветке (featureB) и сжимает её в один коммит, не являющийся коммитом-слиянием, и помещает его на верхушку текущей ветки. Опция <code>--no-commit</code> сообщает Git&#39;у, что не нужно автоматически записывать коммит. Это позволит вам внести все изменения с другой ветки и затем сделать ещё ряд изменений перед записью нового коммита.</p>
<p>Теперь вы можете отправить мейнтейнеру сообщение о том, что вы сделали требуемые изменения, и они могут быть найдены в вашей ветке <code>featureBv2</code> (см. рис. 5-18).</p>
<p><img src="http://git-scm.com/figures/18333fig0518-tn.png" alt=""></p>
<p>Рисунок 5-18. История коммитов после работы над featureBv2.</p>
<h2 id="-">Большой открытый проект</h2>
<p>Во многих крупных проектах есть установленные процедуры принятия патчей — вам потребуется выяснить точные правила для каждого проекта отдельно, так как они везде разные. Однако, многие крупные открытые проекты принимают патчи через списки рассылки для разработчиков, так что мы сейчас рассмотрим пример использования этого способа.</p>
<p>Рабочий процесс похож на описанный ранее — вы создаёте тематическую ветку для каждой серии патчей, над которой работаете. Отличие состоит в процессе внесения этих изменений в проект. Вместо того, чтобы создавать ответвление (fork) от проекта и отправлять наработки в свой собственный репозиторий с правами на запись, вы генерируете e-mail версию каждой серии коммитов и отправляете её в список рассылки для разработчиков:</p>
<pre><code><span class="hljs-variable">$ </span>git checkout -b topicA
<span class="hljs-variable">$ </span>(выполнение работы)
<span class="hljs-variable">$ </span>git commit
<span class="hljs-variable">$ </span>(выполнение работы)
<span class="hljs-variable">$ </span>git commit
</code></pre><p>Теперь у нас есть два коммита, которые нужно отправить в список рассылки. Воспользуемся командой <code>git format-patch</code>, чтобы сгенерировать файлы в формате mbox, которые вы сможете отправить по почте. Эта команда превращает каждый коммит в электронное письмо, темой которого является первая строка сообщения коммита, а оставшаяся часть сообщения коммита и патч, который он представляет, являются телом письма. Хорошей особенностью этого является то, что применение патча из сгенерированного командой <code>format-patch</code> электронного письма сохраняет всю информацию о коммите. Мы увидим это в следующем разделе, когда будем применять такие патчи:</p>
<pre><code>$ git format<span class="hljs-attribute">-patch</span> <span class="hljs-attribute">-M</span> origin/master
<span class="hljs-number">0001</span><span class="hljs-attribute">-add</span><span class="hljs-attribute">-limit</span><span class="hljs-attribute">-to</span><span class="hljs-attribute">-log</span><span class="hljs-attribute">-function</span><span class="hljs-built_in">.</span>patch
<span class="hljs-number">0002</span><span class="hljs-attribute">-changed</span><span class="hljs-attribute">-log</span><span class="hljs-attribute">-output</span><span class="hljs-attribute">-to</span><span class="hljs-subst">-</span><span class="hljs-number">30</span><span class="hljs-attribute">-from</span><span class="hljs-subst">-</span><span class="hljs-number">25.</span>patch
</code></pre><p>Команда <code>format-patch</code> создаёт файлы с патчами и выводит их названия. Опция <code>-M</code> сообщает Git&#39;у о необходимости отслеживания переименований файлов. Итоговые патчи выглядят так:</p>
<pre><code>$ cat <span class="hljs-number">0001</span>-<span class="hljs-built_in">add</span>-limit-<span class="hljs-built_in">to</span>-<span class="hljs-built_in">log</span>-<span class="hljs-function"><span class="hljs-keyword">function</span>.<span class="hljs-title">patch</span></span>
From <span class="hljs-number">330090432754092</span>d704da8e76ca5c05c198e71a8 Mon Sep <span class="hljs-number">17</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> <span class="hljs-number">2001</span>
From: Jessica Smith &lt;jessica@example.com&gt;
Date: Sun, <span class="hljs-number">6</span> Apr <span class="hljs-number">2008</span> <span class="hljs-number">10</span>:<span class="hljs-number">17</span>:<span class="hljs-number">23</span> -<span class="hljs-number">0700</span>
Subject: [PATCH <span class="hljs-number">1</span>/<span class="hljs-number">2</span>] <span class="hljs-built_in">add</span> limit <span class="hljs-built_in">to</span> <span class="hljs-built_in">log</span> <span class="hljs-function"><span class="hljs-keyword">function</span></span>

Limit <span class="hljs-built_in">log</span> functionality <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> <span class="hljs-keyword">first</span> <span class="hljs-number">20</span>

<span class="hljs-comment">---</span>
 lib/simplegit.rb |    <span class="hljs-number">2</span> +-
 <span class="hljs-number">1</span> <span class="hljs-built_in">files</span> changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)

diff <span class="hljs-comment">--git a/lib/simplegit.rb b/lib/simplegit.rb</span>
index <span class="hljs-number">76</span>f47bc..f9815f1 <span class="hljs-number">100644</span>
<span class="hljs-comment">--- a/lib/simplegit.rb</span>
+++ b/lib/simplegit.rb
@@ -<span class="hljs-number">14</span>,<span class="hljs-number">7</span> +<span class="hljs-number">14</span>,<span class="hljs-number">7</span> @@ class SimpleGit
   <span class="hljs-function"><span class="hljs-keyword">end</span></span>

   def <span class="hljs-built_in">log</span>(treeish = <span class="hljs-string">'master'</span>)
-    <span class="hljs-command"><span class="hljs-keyword">command</span>(<span class="hljs-string">"git log #{treeish}"</span>)</span>
+    <span class="hljs-command"><span class="hljs-keyword">command</span>(<span class="hljs-string">"git log -n 20 #{treeish}"</span>)</span>
   <span class="hljs-function"><span class="hljs-keyword">end</span></span>

   def ls_tree(treeish = <span class="hljs-string">'master'</span>)
<span class="hljs-comment">--</span>
<span class="hljs-number">1.6</span><span class="hljs-number">.2</span>.rc1<span class="hljs-number">.20</span>.g8c5b.dirty
</code></pre><p>Вы также можете отредактировать эти файлы с патчами, чтобы добавить в электронное письмо какую-то информацию, которую вы не хотите показывать в сообщении коммита. Если вы добавите текст между строкой <code>---</code> и началом патча (строка <code>lib/simplegit.rb</code>), то разработчик сможет его прочитать, а при применении патча он будет выброшен.</p>
<p>Чтобы отправить эти файлы в список рассылки, вы можете либо вставить файл в своём почтовом клиенте, либо отправить его через специальную программу из командной строки. Вставка текста часто приводит к ошибкам форматирования, особенно в &quot;умных&quot; клиентах, которые не сохраняют символы перевода строки и пробельные символы в исходном виде. К счастью, Git предоставляет инструмент, позволяющий вам передавать через IMAP правильно отформатированные патчи. Для вас применение этого инструмента может оказаться более простым. Я покажу, как отсылать патчи через Gmail, так как именно этот агент я и использую; вы можете прочесть подробные инструкции для множества почтовых программ в вышеупомянутом файле <code>Documentation/SubmittingPatches</code>, находящемся в исходном коде Git&#39;а.</p>
<p>Для начала нам необходимо настроить секцию imap в файле <code>~/.gitconfig</code>. Можете добавить все значения по одному несколькими командами <code>git config</code>, или можете добавить их все сразу вручную; но в итоге ваш файл конфигурации должен выглядеть примерно так:</p>
<pre><code>[imap]
  folder = <span class="hljs-string">"[Gmail]/Drafts"</span>
  host = imaps:<span class="hljs-comment">//imap.gmail.com</span>
  user = user<span class="hljs-annotation">@gmail</span>.com
  pass = p4ssw0rd
  port = <span class="hljs-number">993</span>
  sslverify = <span class="hljs-keyword">false</span>
</code></pre><p>Если ваш IMAP-сервер не использует SSL, две последние строки могут отсутствовать, а параметр host примет значение <code>imap://</code> вместо <code>imaps://</code>.
Когда закончите с настройками, воспользуйтесь командой <code>git send-email</code>, чтобы поместить свою серию патчей в папку Drafts на указанном IMAP-сервере:</p>
<pre><code>$ git <span class="hljs-built_in">send</span>-email *.patch
<span class="hljs-number">0001</span>-added-limit-<span class="hljs-built_in">to</span>-<span class="hljs-built_in">log</span>-<span class="hljs-function"><span class="hljs-keyword">function</span>.<span class="hljs-title">patch</span></span>
<span class="hljs-number">0002</span>-changed-<span class="hljs-built_in">log</span>-output-<span class="hljs-built_in">to</span>-<span class="hljs-number">30</span>-<span class="hljs-built_in">from</span>-<span class="hljs-number">25.</span>patch
Who should <span class="hljs-operator">the</span> emails appear <span class="hljs-built_in">to</span> be <span class="hljs-built_in">from</span>? [Jessica Smith &lt;jessica@example.com&gt;]
Emails will be sent <span class="hljs-built_in">from</span>: Jessica Smith &lt;jessica@example.com&gt;
Who should <span class="hljs-operator">the</span> emails be sent <span class="hljs-built_in">to</span>? jessica@example.com
Message-ID <span class="hljs-built_in">to</span> be used <span class="hljs-keyword">as</span> In-Reply-To <span class="hljs-keyword">for</span> <span class="hljs-operator">the</span> <span class="hljs-keyword">first</span> email? y
</code></pre><p>Затем Git выдаёт кучу служебных сообщений, которые для каждого отсылаемого патча выглядят следующим образом:</p>
<pre><code>(mbox) Adding cc: Jessica Smith &lt;jessica@example.com&gt; <span class="hljs-keyword">from</span>
  \line <span class="hljs-comment">'From: Jessica Smith <span class="hljs-xmlDocTag">&lt;jessica@example.com&gt;</span>'</span>
OK. Log says:
Sendmail: /usr/sbin/sendmail -i jessica@example.com
<span class="hljs-keyword">From</span>: Jessica Smith &lt;jessica@example.com&gt;
<span class="hljs-keyword">To</span>: jessica@example.com
Subject: [PATCH <span class="hljs-number">1</span>/<span class="hljs-number">2</span>] added limit <span class="hljs-keyword">to</span> log <span class="hljs-keyword">function</span>
<span class="hljs-built_in">Date</span>: Sat, <span class="hljs-number">30</span> May <span class="hljs-number">2009</span> <span class="hljs-number">13</span>:<span class="hljs-number">29</span>:<span class="hljs-number">15</span> -<span class="hljs-number">0700</span>
Message-Id: &lt;<span class="hljs-number">1243715356</span>-<span class="hljs-number">61726</span>-<span class="hljs-number">1</span>-git-send-email-jessica@example.com&gt;
X-Mailer: git-send-email <span class="hljs-number">1.6</span><span class="hljs-number">.2</span>.rc1<span class="hljs-number">.20</span>.g8c5b.dirty
<span class="hljs-keyword">In</span>-Reply-<span class="hljs-keyword">To</span>: &lt;y&gt;
References: &lt;y&gt;

Result: OK
</code></pre><p>Если всё прошло успешно, то сейчас вы можете перейти в свою папку Drafts, изменить поле &#39;To&#39; на адрес списка рассылки, в который вы собираетесь послать патчи, возможно, указать адрес мейнтейнера или лица, отвечающего за нужную часть проекта, в поле &#39;CC&#39; и отправить сообщение.</p>
<h2 id="-">Итоги</h2>
<p>В этом разделе мы рассмотрели ряд общепринятых рабочих процессов, применяемых в разных типах проектов, использующих Git, c которыми вы наверняка столкнётесь. Также были представлены несколько новых инструментов, призванных помочь вам в организации этих процессов. Далее мы рассмотрим, как осуществляется работа с противоположной стороны баррикады — как сопровождать проект, использующий Git. Вы научитесь роли благосклонного диктатора или роли менеджера по интеграции.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../raspredelyonnii_git/raspredelyonnie_rabochie_protsessi.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../raspredelyonnii_git/soprovozhdenie_proekta.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        
    </body>
</html>
