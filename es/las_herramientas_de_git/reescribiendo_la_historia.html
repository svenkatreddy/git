<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Reescribiendo la historia | Learn Git</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="GitbookIO">
        <meta name="description" content="The entire Pro Git book.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../las_herramientas_de_git/depuracion_con_git.html" />
        
        
        <link rel="prev" href="../las_herramientas_de_git/guardado_rapido_provisional.html" />
        

        <meta property="og:title" content="Reescribiendo la historia | Learn Git">
        <meta property="og:site_name" content="Learn Git">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/GitbookIO">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

        
        <link rel="stylesheet" href="../gitbook/style.css">
        
        
    </head>
    <body>
        
<div class="book" data-github="GitbookIO/git" data-level="6.4" data-basepath=".." data-revision="1396895622261">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="https://github.com/GitbookIO/git" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    <a href="https://github.com/GitbookIO/git/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/GitbookIO/git/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>


    <!-- Title -->
    <h1><a href="../" >Learn Git</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        <li>
            <a href="https://github.com/GitbookIO" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/GitbookIO/git/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/GitbookIO/git/edit/master/las_herramientas_de_git/reescribiendo_la_historia.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="personalizando_git/README.html">
                
                <a href="../personalizando_git/README.html">
                    <i class="fa fa-check"></i> <b>1)</b> Personalizando Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="personalizando_git/configuracion_de_git.html">
                            
                            <a href="../personalizando_git/configuracion_de_git.html">
                                <i class="fa fa-check"></i> <b>1.1)</b> Configuración de Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="personalizando_git/atributos_de_git.html">
                            
                            <a href="../personalizando_git/atributos_de_git.html">
                                <i class="fa fa-check"></i> <b>1.2)</b> Atributos de Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="personalizando_git/puntos_de_enganche_git.html">
                            
                            <a href="../personalizando_git/puntos_de_enganche_git.html">
                                <i class="fa fa-check"></i> <b>1.3)</b> Puntos de enganche Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="personalizando_git/un_ejemplo_de_implantacion_de_una_determinada_politica_en_git.html">
                            
                            <a href="../personalizando_git/un_ejemplo_de_implantacion_de_una_determinada_politica_en_git.html">
                                <i class="fa fa-check"></i> <b>1.4)</b> Un ejemplo de implantación de una determinada política en Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="personalizando_git/recapitulacion.html">
                            
                            <a href="../personalizando_git/recapitulacion.html">
                                <i class="fa fa-check"></i> <b>1.5)</b> Recapitulación
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="empezando/README.html">
                
                <a href="../empezando/README.html">
                    <i class="fa fa-check"></i> <b>2)</b> Empezando
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="empezando/acerca_del_control_de_versiones.html">
                            
                            <a href="../empezando/acerca_del_control_de_versiones.html">
                                <i class="fa fa-check"></i> <b>2.1)</b> Acerca del control de versiones
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="empezando/una_breve_historia_de_git.html">
                            
                            <a href="../empezando/una_breve_historia_de_git.html">
                                <i class="fa fa-check"></i> <b>2.2)</b> Una breve historia de Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="empezando/fundamentos_de_git.html">
                            
                            <a href="../empezando/fundamentos_de_git.html">
                                <i class="fa fa-check"></i> <b>2.3)</b> Fundamentos de Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="empezando/instalando_git.html">
                            
                            <a href="../empezando/instalando_git.html">
                                <i class="fa fa-check"></i> <b>2.4)</b> Instalando Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="empezando/configurando_git_por_primera_vez.html">
                            
                            <a href="../empezando/configurando_git_por_primera_vez.html">
                                <i class="fa fa-check"></i> <b>2.5)</b> Configurando Git por primera vez
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="empezando/obteniendo_ayuda.html">
                            
                            <a href="../empezando/obteniendo_ayuda.html">
                                <i class="fa fa-check"></i> <b>2.6)</b> Obteniendo ayuda
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.7" data-path="empezando/resumen.html">
                            
                            <a href="../empezando/resumen.html">
                                <i class="fa fa-check"></i> <b>2.7)</b> Resumen
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="ramificaciones_en_git/README.html">
                
                <a href="../ramificaciones_en_git/README.html">
                    <i class="fa fa-check"></i> <b>3)</b> Ramificaciones en Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="ramificaciones_en_git/que_es_una_rama.html">
                            
                            <a href="../ramificaciones_en_git/que_es_una_rama.html">
                                <i class="fa fa-check"></i> <b>3.1)</b> ¿Qué es una rama?
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="ramificaciones_en_git/procedimientos_basicos_para_ramificar_y_fusionar.html">
                            
                            <a href="../ramificaciones_en_git/procedimientos_basicos_para_ramificar_y_fusionar.html">
                                <i class="fa fa-check"></i> <b>3.2)</b> Procedimientos básicos para ramificar y fusionar
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="ramificaciones_en_git/gestion_de_ramificaciones.html">
                            
                            <a href="../ramificaciones_en_git/gestion_de_ramificaciones.html">
                                <i class="fa fa-check"></i> <b>3.3)</b> Gestión de ramificaciones
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="ramificaciones_en_git/flujos_de_trabajo_ramificados.html">
                            
                            <a href="../ramificaciones_en_git/flujos_de_trabajo_ramificados.html">
                                <i class="fa fa-check"></i> <b>3.4)</b> Flujos de trabajo ramificados
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="ramificaciones_en_git/ramas_remotas.html">
                            
                            <a href="../ramificaciones_en_git/ramas_remotas.html">
                                <i class="fa fa-check"></i> <b>3.5)</b> Ramas Remotas
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="ramificaciones_en_git/reorganizando_el_trabajo_realizado.html">
                            
                            <a href="../ramificaciones_en_git/reorganizando_el_trabajo_realizado.html">
                                <i class="fa fa-check"></i> <b>3.6)</b> Reorganizando el trabajo realizado
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" data-path="ramificaciones_en_git/recapitulacion.html">
                            
                            <a href="../ramificaciones_en_git/recapitulacion.html">
                                <i class="fa fa-check"></i> <b>3.7)</b> Recapitulación
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="git_en_un_servidor/README.html">
                
                <a href="../git_en_un_servidor/README.html">
                    <i class="fa fa-check"></i> <b>4)</b> Git en un servidor
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="git_en_un_servidor/los_protocolos.html">
                            
                            <a href="../git_en_un_servidor/los_protocolos.html">
                                <i class="fa fa-check"></i> <b>4.1)</b> Los Protocolos
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="git_en_un_servidor/poniendo_git_en_un_servidor.html">
                            
                            <a href="../git_en_un_servidor/poniendo_git_en_un_servidor.html">
                                <i class="fa fa-check"></i> <b>4.2)</b> Poniendo Git en un Servidor
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="git_en_un_servidor/generando_tu_clave_publica_ssh.html">
                            
                            <a href="../git_en_un_servidor/generando_tu_clave_publica_ssh.html">
                                <i class="fa fa-check"></i> <b>4.3)</b> Generando tu clave pública SSH
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="git_en_un_servidor/preparando_el_servidor.html">
                            
                            <a href="../git_en_un_servidor/preparando_el_servidor.html">
                                <i class="fa fa-check"></i> <b>4.4)</b> Preparando el servidor
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="git_en_un_servidor/acceso_publico.html">
                            
                            <a href="../git_en_un_servidor/acceso_publico.html">
                                <i class="fa fa-check"></i> <b>4.5)</b> Acceso público
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.6" data-path="git_en_un_servidor/gitweb.html">
                            
                            <a href="../git_en_un_servidor/gitweb.html">
                                <i class="fa fa-check"></i> <b>4.6)</b> GitWeb
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.7" data-path="git_en_un_servidor/gitosis.html">
                            
                            <a href="../git_en_un_servidor/gitosis.html">
                                <i class="fa fa-check"></i> <b>4.7)</b> Gitosis
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.8" data-path="git_en_un_servidor/el_demonio_git.html">
                            
                            <a href="../git_en_un_servidor/el_demonio_git.html">
                                <i class="fa fa-check"></i> <b>4.8)</b> El demonio Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.9" data-path="git_en_un_servidor/git_en_un_alojamiento_externo.html">
                            
                            <a href="../git_en_un_servidor/git_en_un_alojamiento_externo.html">
                                <i class="fa fa-check"></i> <b>4.9)</b> Git en un alojamiento externo
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.10" data-path="git_en_un_servidor/recapitulacion.html">
                            
                            <a href="../git_en_un_servidor/recapitulacion.html">
                                <i class="fa fa-check"></i> <b>4.10)</b> Recapitulación
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="git_en_entornos_distribuidos/README.html">
                
                <a href="../git_en_entornos_distribuidos/README.html">
                    <i class="fa fa-check"></i> <b>5)</b> Git en entornos distribuidos
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="git_en_entornos_distribuidos/flujos_de_trabajo_distribuidos.html">
                            
                            <a href="../git_en_entornos_distribuidos/flujos_de_trabajo_distribuidos.html">
                                <i class="fa fa-check"></i> <b>5.1)</b> Flujos de trabajo distribuidos
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="git_en_entornos_distribuidos/contribuyendo_a_un_proyecto.html">
                            
                            <a href="../git_en_entornos_distribuidos/contribuyendo_a_un_proyecto.html">
                                <i class="fa fa-check"></i> <b>5.2)</b> Contribuyendo a un proyecto
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="git_en_entornos_distribuidos/gestionando_un_proyecto.html">
                            
                            <a href="../git_en_entornos_distribuidos/gestionando_un_proyecto.html">
                                <i class="fa fa-check"></i> <b>5.3)</b> Gestionando un proyecto
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="git_en_entornos_distribuidos/recapitulacion.html">
                            
                            <a href="../git_en_entornos_distribuidos/recapitulacion.html">
                                <i class="fa fa-check"></i> <b>5.4)</b> Recapitulación
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="las_herramientas_de_git/README.html">
                
                <a href="../las_herramientas_de_git/README.html">
                    <i class="fa fa-check"></i> <b>6)</b> Las herramientas de Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="las_herramientas_de_git/seleccion_de_confirmaciones_de_cambios_concretas.html">
                            
                            <a href="../las_herramientas_de_git/seleccion_de_confirmaciones_de_cambios_concretas.html">
                                <i class="fa fa-check"></i> <b>6.1)</b> Selección de confirmaciones de cambios concretas
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="las_herramientas_de_git/preparacion_interactiva.html">
                            
                            <a href="../las_herramientas_de_git/preparacion_interactiva.html">
                                <i class="fa fa-check"></i> <b>6.2)</b> Preparación interactiva
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="las_herramientas_de_git/guardado_rapido_provisional.html">
                            
                            <a href="../las_herramientas_de_git/guardado_rapido_provisional.html">
                                <i class="fa fa-check"></i> <b>6.3)</b> Guardado rápido provisional
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.4" data-path="las_herramientas_de_git/reescribiendo_la_historia.html">
                            
                            <a href="../las_herramientas_de_git/reescribiendo_la_historia.html">
                                <i class="fa fa-check"></i> <b>6.4)</b> Reescribiendo la historia
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.5" data-path="las_herramientas_de_git/depuracion_con_git.html">
                            
                            <a href="../las_herramientas_de_git/depuracion_con_git.html">
                                <i class="fa fa-check"></i> <b>6.5)</b> Depuración con Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.6" data-path="las_herramientas_de_git/submodulos.html">
                            
                            <a href="../las_herramientas_de_git/submodulos.html">
                                <i class="fa fa-check"></i> <b>6.6)</b> Submódulos
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.7" data-path="las_herramientas_de_git/fusion_de_subarboles.html">
                            
                            <a href="../las_herramientas_de_git/fusion_de_subarboles.html">
                                <i class="fa fa-check"></i> <b>6.7)</b> Fusión de subárboles
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.8" data-path="las_herramientas_de_git/recapitulacion.html">
                            
                            <a href="../las_herramientas_de_git/recapitulacion.html">
                                <i class="fa fa-check"></i> <b>6.8)</b> Recapitulación
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="fundamentos_de_git/README.html">
                
                <a href="../fundamentos_de_git/README.html">
                    <i class="fa fa-check"></i> <b>7)</b> Fundamentos de Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="fundamentos_de_git/obteniendo_un_repositorio_git.html">
                            
                            <a href="../fundamentos_de_git/obteniendo_un_repositorio_git.html">
                                <i class="fa fa-check"></i> <b>7.1)</b> Obteniendo un repositorio Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.2" data-path="fundamentos_de_git/guardando_cambios_en_el_repositorio.html">
                            
                            <a href="../fundamentos_de_git/guardando_cambios_en_el_repositorio.html">
                                <i class="fa fa-check"></i> <b>7.2)</b> Guardando cambios en el repositorio
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.3" data-path="fundamentos_de_git/viendo_el_historico_de_confirmaciones.html">
                            
                            <a href="../fundamentos_de_git/viendo_el_historico_de_confirmaciones.html">
                                <i class="fa fa-check"></i> <b>7.3)</b> Viendo el histórico de confirmaciones
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.4" data-path="fundamentos_de_git/deshaciendo_cosas.html">
                            
                            <a href="../fundamentos_de_git/deshaciendo_cosas.html">
                                <i class="fa fa-check"></i> <b>7.4)</b> Deshaciendo cosas
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.5" data-path="fundamentos_de_git/trabajando_con_repositorios_remotos.html">
                            
                            <a href="../fundamentos_de_git/trabajando_con_repositorios_remotos.html">
                                <i class="fa fa-check"></i> <b>7.5)</b> Trabajando con repositorios remotos
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.6" data-path="fundamentos_de_git/creando_etiquetas.html">
                            
                            <a href="../fundamentos_de_git/creando_etiquetas.html">
                                <i class="fa fa-check"></i> <b>7.6)</b> Creando etiquetas
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.7" data-path="fundamentos_de_git/consejos_y_trucos.html">
                            
                            <a href="../fundamentos_de_git/consejos_y_trucos.html">
                                <i class="fa fa-check"></i> <b>7.7)</b> Consejos y trucos
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.8" data-path="fundamentos_de_git/resumen.html">
                            
                            <a href="../fundamentos_de_git/resumen.html">
                                <i class="fa fa-check"></i> <b>7.8)</b> Resumen
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="git_y_otros_sistemas/README.html">
                
                <a href="../git_y_otros_sistemas/README.html">
                    <i class="fa fa-check"></i> <b>8)</b> Git y Otros Sistemas
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="8.1" data-path="git_y_otros_sistemas/git_y_subversion.html">
                            
                            <a href="../git_y_otros_sistemas/git_y_subversion.html">
                                <i class="fa fa-check"></i> <b>8.1)</b> Git y Subversion
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.2" data-path="git_y_otros_sistemas/migrating_to_git.html">
                            
                            <a href="../git_y_otros_sistemas/migrating_to_git.html">
                                <i class="fa fa-check"></i> <b>8.2)</b> Migrating to Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.3" data-path="git_y_otros_sistemas/summary.html">
                            
                            <a href="../git_y_otros_sistemas/summary.html">
                                <i class="fa fa-check"></i> <b>8.3)</b> Summary
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="9" data-path="los_entresijos_internos_de_git/README.html">
                
                <a href="../los_entresijos_internos_de_git/README.html">
                    <i class="fa fa-check"></i> <b>9)</b> Los entresijos internos de Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="9.1" data-path="los_entresijos_internos_de_git/fontaneria_y_porcelana.html">
                            
                            <a href="../los_entresijos_internos_de_git/fontaneria_y_porcelana.html">
                                <i class="fa fa-check"></i> <b>9.1)</b> Fontaneria y porcelana
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.2" data-path="los_entresijos_internos_de_git/los_objetos_git.html">
                            
                            <a href="../los_entresijos_internos_de_git/los_objetos_git.html">
                                <i class="fa fa-check"></i> <b>9.2)</b> Los objetos Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.3" data-path="los_entresijos_internos_de_git/referencias_git.html">
                            
                            <a href="../los_entresijos_internos_de_git/referencias_git.html">
                                <i class="fa fa-check"></i> <b>9.3)</b> Referencias Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.4" data-path="los_entresijos_internos_de_git/archivos_empaquetadores.html">
                            
                            <a href="../los_entresijos_internos_de_git/archivos_empaquetadores.html">
                                <i class="fa fa-check"></i> <b>9.4)</b> Archivos empaquetadores
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.5" data-path="los_entresijos_internos_de_git/las_especificaciones_para_hacer_referencia_a__refspec.html">
                            
                            <a href="../los_entresijos_internos_de_git/las_especificaciones_para_hacer_referencia_a__refspec.html">
                                <i class="fa fa-check"></i> <b>9.5)</b> Las especificaciones para hacer referencia a...  (refspec)
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.6" data-path="los_entresijos_internos_de_git/protocolos_de_transferencia.html">
                            
                            <a href="../los_entresijos_internos_de_git/protocolos_de_transferencia.html">
                                <i class="fa fa-check"></i> <b>9.6)</b> Protocolos de transferencia
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.7" data-path="los_entresijos_internos_de_git/mantenimiento_y_recuperacion_de_datos.html">
                            
                            <a href="../los_entresijos_internos_de_git/mantenimiento_y_recuperacion_de_datos.html">
                                <i class="fa fa-check"></i> <b>9.7)</b> Mantenimiento y recuperación de datos
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.8" data-path="los_entresijos_internos_de_git/recapitulacion.html">
                            
                            <a href="../los_entresijos_internos_de_git/recapitulacion.html">
                                <i class="fa fa-check"></i> <b>9.8)</b> Recapitulación
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
    </ul>
</div>

    <div class="book-body" tabindex="-1">
        <div class="body-inner">
            <div class="page-wrapper">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 62.31884057971015%;min-width: 60.869565217391305%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../personalizando_git/README.html" title="Personalizando Git" class="chapter done new-chapter" data-progress="1" style="left: 1.4492753623188406%;"></a>
    
        <a href="../personalizando_git/configuracion_de_git.html" title="Configuración de Git" class="chapter done " data-progress="1.1" style="left: 2.898550724637681%;"></a>
    
        <a href="../personalizando_git/atributos_de_git.html" title="Atributos de Git" class="chapter done " data-progress="1.2" style="left: 4.3478260869565215%;"></a>
    
        <a href="../personalizando_git/puntos_de_enganche_git.html" title="Puntos de enganche Git" class="chapter done " data-progress="1.3" style="left: 5.797101449275362%;"></a>
    
        <a href="../personalizando_git/un_ejemplo_de_implantacion_de_una_determinada_politica_en_git.html" title="Un ejemplo de implantación de una determinada política en Git" class="chapter done " data-progress="1.4" style="left: 7.246376811594203%;"></a>
    
        <a href="../personalizando_git/recapitulacion.html" title="Recapitulación" class="chapter done " data-progress="1.5" style="left: 8.695652173913043%;"></a>
    
        <a href="../empezando/README.html" title="Empezando" class="chapter done new-chapter" data-progress="2" style="left: 10.144927536231885%;"></a>
    
        <a href="../empezando/acerca_del_control_de_versiones.html" title="Acerca del control de versiones" class="chapter done " data-progress="2.1" style="left: 11.594202898550725%;"></a>
    
        <a href="../empezando/una_breve_historia_de_git.html" title="Una breve historia de Git" class="chapter done " data-progress="2.2" style="left: 13.043478260869565%;"></a>
    
        <a href="../empezando/fundamentos_de_git.html" title="Fundamentos de Git" class="chapter done " data-progress="2.3" style="left: 14.492753623188406%;"></a>
    
        <a href="../empezando/instalando_git.html" title="Instalando Git" class="chapter done " data-progress="2.4" style="left: 15.942028985507246%;"></a>
    
        <a href="../empezando/configurando_git_por_primera_vez.html" title="Configurando Git por primera vez" class="chapter done " data-progress="2.5" style="left: 17.391304347826086%;"></a>
    
        <a href="../empezando/obteniendo_ayuda.html" title="Obteniendo ayuda" class="chapter done " data-progress="2.6" style="left: 18.840579710144926%;"></a>
    
        <a href="../empezando/resumen.html" title="Resumen" class="chapter done " data-progress="2.7" style="left: 20.28985507246377%;"></a>
    
        <a href="../ramificaciones_en_git/README.html" title="Ramificaciones en Git" class="chapter done new-chapter" data-progress="3" style="left: 21.73913043478261%;"></a>
    
        <a href="../ramificaciones_en_git/que_es_una_rama.html" title="¿Qué es una rama?" class="chapter done " data-progress="3.1" style="left: 23.18840579710145%;"></a>
    
        <a href="../ramificaciones_en_git/procedimientos_basicos_para_ramificar_y_fusionar.html" title="Procedimientos básicos para ramificar y fusionar" class="chapter done " data-progress="3.2" style="left: 24.63768115942029%;"></a>
    
        <a href="../ramificaciones_en_git/gestion_de_ramificaciones.html" title="Gestión de ramificaciones" class="chapter done " data-progress="3.3" style="left: 26.08695652173913%;"></a>
    
        <a href="../ramificaciones_en_git/flujos_de_trabajo_ramificados.html" title="Flujos de trabajo ramificados" class="chapter done " data-progress="3.4" style="left: 27.536231884057973%;"></a>
    
        <a href="../ramificaciones_en_git/ramas_remotas.html" title="Ramas Remotas" class="chapter done " data-progress="3.5" style="left: 28.985507246376812%;"></a>
    
        <a href="../ramificaciones_en_git/reorganizando_el_trabajo_realizado.html" title="Reorganizando el trabajo realizado" class="chapter done " data-progress="3.6" style="left: 30.434782608695652%;"></a>
    
        <a href="../ramificaciones_en_git/recapitulacion.html" title="Recapitulación" class="chapter done " data-progress="3.7" style="left: 31.884057971014492%;"></a>
    
        <a href="../git_en_un_servidor/README.html" title="Git en un servidor" class="chapter done new-chapter" data-progress="4" style="left: 33.333333333333336%;"></a>
    
        <a href="../git_en_un_servidor/los_protocolos.html" title="Los Protocolos" class="chapter done " data-progress="4.1" style="left: 34.78260869565217%;"></a>
    
        <a href="../git_en_un_servidor/recapitulacion.html" title="Recapitulación" class="chapter done " data-progress="4.10" style="left: 36.231884057971016%;"></a>
    
        <a href="../git_en_un_servidor/poniendo_git_en_un_servidor.html" title="Poniendo Git en un Servidor" class="chapter done " data-progress="4.2" style="left: 37.68115942028985%;"></a>
    
        <a href="../git_en_un_servidor/generando_tu_clave_publica_ssh.html" title="Generando tu clave pública SSH" class="chapter done " data-progress="4.3" style="left: 39.130434782608695%;"></a>
    
        <a href="../git_en_un_servidor/preparando_el_servidor.html" title="Preparando el servidor" class="chapter done " data-progress="4.4" style="left: 40.57971014492754%;"></a>
    
        <a href="../git_en_un_servidor/acceso_publico.html" title="Acceso público" class="chapter done " data-progress="4.5" style="left: 42.028985507246375%;"></a>
    
        <a href="../git_en_un_servidor/gitweb.html" title="GitWeb" class="chapter done " data-progress="4.6" style="left: 43.47826086956522%;"></a>
    
        <a href="../git_en_un_servidor/gitosis.html" title="Gitosis" class="chapter done " data-progress="4.7" style="left: 44.927536231884055%;"></a>
    
        <a href="../git_en_un_servidor/el_demonio_git.html" title="El demonio Git" class="chapter done " data-progress="4.8" style="left: 46.3768115942029%;"></a>
    
        <a href="../git_en_un_servidor/git_en_un_alojamiento_externo.html" title="Git en un alojamiento externo" class="chapter done " data-progress="4.9" style="left: 47.82608695652174%;"></a>
    
        <a href="../git_en_entornos_distribuidos/README.html" title="Git en entornos distribuidos" class="chapter done new-chapter" data-progress="5" style="left: 49.27536231884058%;"></a>
    
        <a href="../git_en_entornos_distribuidos/flujos_de_trabajo_distribuidos.html" title="Flujos de trabajo distribuidos" class="chapter done " data-progress="5.1" style="left: 50.72463768115942%;"></a>
    
        <a href="../git_en_entornos_distribuidos/contribuyendo_a_un_proyecto.html" title="Contribuyendo a un proyecto" class="chapter done " data-progress="5.2" style="left: 52.17391304347826%;"></a>
    
        <a href="../git_en_entornos_distribuidos/gestionando_un_proyecto.html" title="Gestionando un proyecto" class="chapter done " data-progress="5.3" style="left: 53.6231884057971%;"></a>
    
        <a href="../git_en_entornos_distribuidos/recapitulacion.html" title="Recapitulación" class="chapter done " data-progress="5.4" style="left: 55.072463768115945%;"></a>
    
        <a href="../las_herramientas_de_git/README.html" title="Las herramientas de Git" class="chapter done new-chapter" data-progress="6" style="left: 56.52173913043478%;"></a>
    
        <a href="../las_herramientas_de_git/seleccion_de_confirmaciones_de_cambios_concretas.html" title="Selección de confirmaciones de cambios concretas" class="chapter done " data-progress="6.1" style="left: 57.971014492753625%;"></a>
    
        <a href="../las_herramientas_de_git/preparacion_interactiva.html" title="Preparación interactiva" class="chapter done " data-progress="6.2" style="left: 59.42028985507246%;"></a>
    
        <a href="../las_herramientas_de_git/guardado_rapido_provisional.html" title="Guardado rápido provisional" class="chapter done " data-progress="6.3" style="left: 60.869565217391305%;"></a>
    
        <a href="../las_herramientas_de_git/reescribiendo_la_historia.html" title="Reescribiendo la historia" class="chapter done " data-progress="6.4" style="left: 62.31884057971015%;"></a>
    
        <a href="../las_herramientas_de_git/depuracion_con_git.html" title="Depuración con Git" class="chapter  " data-progress="6.5" style="left: 63.768115942028984%;"></a>
    
        <a href="../las_herramientas_de_git/submodulos.html" title="Submódulos" class="chapter  " data-progress="6.6" style="left: 65.21739130434783%;"></a>
    
        <a href="../las_herramientas_de_git/fusion_de_subarboles.html" title="Fusión de subárboles" class="chapter  " data-progress="6.7" style="left: 66.66666666666667%;"></a>
    
        <a href="../las_herramientas_de_git/recapitulacion.html" title="Recapitulación" class="chapter  " data-progress="6.8" style="left: 68.1159420289855%;"></a>
    
        <a href="../fundamentos_de_git/README.html" title="Fundamentos de Git" class="chapter  new-chapter" data-progress="7" style="left: 69.56521739130434%;"></a>
    
        <a href="../fundamentos_de_git/obteniendo_un_repositorio_git.html" title="Obteniendo un repositorio Git" class="chapter  " data-progress="7.1" style="left: 71.01449275362319%;"></a>
    
        <a href="../fundamentos_de_git/guardando_cambios_en_el_repositorio.html" title="Guardando cambios en el repositorio" class="chapter  " data-progress="7.2" style="left: 72.46376811594203%;"></a>
    
        <a href="../fundamentos_de_git/viendo_el_historico_de_confirmaciones.html" title="Viendo el histórico de confirmaciones" class="chapter  " data-progress="7.3" style="left: 73.91304347826087%;"></a>
    
        <a href="../fundamentos_de_git/deshaciendo_cosas.html" title="Deshaciendo cosas" class="chapter  " data-progress="7.4" style="left: 75.3623188405797%;"></a>
    
        <a href="../fundamentos_de_git/trabajando_con_repositorios_remotos.html" title="Trabajando con repositorios remotos" class="chapter  " data-progress="7.5" style="left: 76.81159420289855%;"></a>
    
        <a href="../fundamentos_de_git/creando_etiquetas.html" title="Creando etiquetas" class="chapter  " data-progress="7.6" style="left: 78.26086956521739%;"></a>
    
        <a href="../fundamentos_de_git/consejos_y_trucos.html" title="Consejos y trucos" class="chapter  " data-progress="7.7" style="left: 79.71014492753623%;"></a>
    
        <a href="../fundamentos_de_git/resumen.html" title="Resumen" class="chapter  " data-progress="7.8" style="left: 81.15942028985508%;"></a>
    
        <a href="../git_y_otros_sistemas/README.html" title="Git y Otros Sistemas" class="chapter  new-chapter" data-progress="8" style="left: 82.6086956521739%;"></a>
    
        <a href="../git_y_otros_sistemas/git_y_subversion.html" title="Git y Subversion" class="chapter  " data-progress="8.1" style="left: 84.05797101449275%;"></a>
    
        <a href="../git_y_otros_sistemas/migrating_to_git.html" title="Migrating to Git" class="chapter  " data-progress="8.2" style="left: 85.5072463768116%;"></a>
    
        <a href="../git_y_otros_sistemas/summary.html" title="Summary" class="chapter  " data-progress="8.3" style="left: 86.95652173913044%;"></a>
    
        <a href="../los_entresijos_internos_de_git/README.html" title="Los entresijos internos de Git" class="chapter  new-chapter" data-progress="9" style="left: 88.40579710144928%;"></a>
    
        <a href="../los_entresijos_internos_de_git/fontaneria_y_porcelana.html" title="Fontaneria y porcelana" class="chapter  " data-progress="9.1" style="left: 89.85507246376811%;"></a>
    
        <a href="../los_entresijos_internos_de_git/los_objetos_git.html" title="Los objetos Git" class="chapter  " data-progress="9.2" style="left: 91.30434782608695%;"></a>
    
        <a href="../los_entresijos_internos_de_git/referencias_git.html" title="Referencias Git" class="chapter  " data-progress="9.3" style="left: 92.7536231884058%;"></a>
    
        <a href="../los_entresijos_internos_de_git/archivos_empaquetadores.html" title="Archivos empaquetadores" class="chapter  " data-progress="9.4" style="left: 94.20289855072464%;"></a>
    
        <a href="../los_entresijos_internos_de_git/las_especificaciones_para_hacer_referencia_a__refspec.html" title="Las especificaciones para hacer referencia a...  (refspec)" class="chapter  " data-progress="9.5" style="left: 95.65217391304348%;"></a>
    
        <a href="../los_entresijos_internos_de_git/protocolos_de_transferencia.html" title="Protocolos de transferencia" class="chapter  " data-progress="9.6" style="left: 97.10144927536231%;"></a>
    
        <a href="../los_entresijos_internos_de_git/mantenimiento_y_recuperacion_de_datos.html" title="Mantenimiento y recuperación de datos" class="chapter  " data-progress="9.7" style="left: 98.55072463768116%;"></a>
    
        <a href="../los_entresijos_internos_de_git/recapitulacion.html" title="Recapitulación" class="chapter  " data-progress="9.8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_504">
                    
                        <h1 id="reescribiendo-la-historia">Reescribiendo la historia</h1>
<p>Por razones varias, hay ocasiones en que se desea revisar el historial de confirmaciones de cambio. Una de las grandes caracteristicas de Git es su capacidad de postponer las decisiones hasta el último momento. Las decisiones sobre qué archivos van en qué confirmaciones de cambio se toman justo inmediatamente antes de confirmar, utilizando para ello el área de preparación (staging area). En cualquier momento se puede decidir dejar de trabajar en una cierta vía y arrancar en otra, utilizando el comando de guardado rápido (stash). Y también es posible reescribir confirmaciones de cambio ya realizadas, para que se muestren como si hubieran sido realizadas de otra forma. Así, es posible cambiar el orden de las confirmaciones, cambiar sus mensajes, modificar los archivos comprendidos en ellas, juntar varias confirmaciones en una sola, partir una en varias,o incluso borrar alguna completamente. --Aunque todo ello es siempre recomendable hacerlo solo antes de compartir nuestro trabajo con otros.--</p>
<p>En esta sección, se verá cómo realizar todas esas útiles tareas. De tal forma que se pueda dejar el historial de cambios exactamente tal y como se desee. Eso sí, siempre antes de compartirlo con otros desarrolladores.</p>
<h2 id="modificar-la-ltima-confirmaci-n-de-cambios">Modificar la última confirmación de cambios</h2>
<p>Modificar la última confirmación de cambios (commit) es probablemente el arreglo realizado con más frecuencia. Dos suelen ser los cambios básicos a realizar: cambiar el mensaje o cambiar los archivos añadidos, modificados o borrados.</p>
<p>Cambiar el mensaje de la última confirmación de cambios, es muy sencillo:</p>
<pre><code><span class="hljs-comment">$</span> <span class="hljs-comment">git</span> <span class="hljs-comment">commit</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">amend</span>
</code></pre><p>Mediante este comando, el editor de textos arranca con el mensaje escrito en la última confirmación de cambios; listo para ser modificado. Al guardar y cerrar en el editor, este escribe una nueva confirmación de cambios y reemplaza con ella la última confirmación existente.</p>
<p>Si se desea cambiar la instantánea (snapshot) de archivos en la última confirmación de cambios, habitualmente por haber tenido algún descuido al añadir algún archivo de reciente creación. El proceso a seguir es básicamente el mismo. Se preparan en el área de preparación los archivos deseados; con los comandos <code>git add</code> o <code>git rm</code>, según corresponda. Y, a continuación, se lanza el comando <code>git commit --amend</code>. Este tendrá en cuenta dicha preparación para rehacer la instantánea de archivos en la nueva confirmación de cambios. </p>
<p>Es importante ser cuidadoso con esta técnica. Porque al modifcar cualquier confirmación de cambios, cambia también su código SHA-1. Es como si se realizara una pequeña reorganización (rebase). Y, por tanto, aquí también se aplica la regla de no modificar nunca una confirmación de cambios que ya haya sido enviada (push) a otros.</p>
<h2 id="modificar-m-ltiples-confirmaciones-de-cambios">Modificar múltiples confirmaciones de cambios</h2>
<p>Para modificar una confirmación de cambios situada bastante atrás en el historial, es necesario emplear herramientas más complejas. Git no dispone de herramientas directas para modifica el historial de confirmaciones de cambio. Pero es posible emplear la herramienta de reorganización (rebase) para modificar series de confirmaciones; en la propia cabeza (HEAD) donde estaban basadas originalmente, en lugar de moverlas a otra distinta. Dentro de la herramienta de reorganización interactiva, es posible detenerse justo tras cada confirmación de cambios a modificar. Para cambiar su mensaje, añadir archivos, o cualquier otra modificación. Este modo interactivo se activa utilizando la opción <code>-i</code> en el comando <code>git rebase</code>.  La profundidad en la historia a modificar vendrá dada por la confirmación de cambios (commit) que se indique al comando.</p>
<p>Por ejemplo, para modificar las tres últimas confirmaciones de cambios, se  indicara el padre de la última conformación a modificar, es decir habrá que escribir <code>HEAD~2^</code> or <code>HEAD~3</code> tras el comando <code>git rebase -i</code>. La nomenclatura  <code>~3</code> es la mas sencilla de recordar, porque lo que se desea es modificar las tres últimas confirmaciones. Pero sin perder de vista que realmente se está señalando a cuatro confirmaciones de cambio más atras, al padre de la última de las confirmaciones de cambio a modificar. </p>
<pre><code><span class="hljs-variable">$ </span>git rebase -i <span class="hljs-constant">HEAD</span>~<span class="hljs-number">3</span>
</code></pre><p>Es importante avisar de nuevo que se trata de un comando de reorganización: todas y cada una de las confirmaciones de cambios en el rango <code>HEAD~3..HEAD</code> van a ser reescritas, (cambia su código SHA-1), tanto si se modifica algo en ellas como si no. Por tanto, es importante no afectar a ninguna confirmación de cambios que haya sido ya enviada (push) a un servidor central. So pena de confundir a otros desarrolladores, a los cuales se estaria dando una versión alternativa de un mismo cambio.</p>
<p>Al lanzar este comando, se verán una lista de confirmaciones de cambio en la pantalla del editor de textos:</p>
<pre><code>pick f7f3f6d changed my name a bit
pick <span class="hljs-number">310154</span>e updated<span class="hljs-constant"> README </span>formatting and added blame
pick a5f4a0d added cat-filepick f7f3f6d changed my name a bit
pick <span class="hljs-number">310154</span>e updated<span class="hljs-constant"> README </span>formatting and added blame
pick a5f4a0d added cat-file

<span class="hljs-preprocessor"># Rebase 710f0f8..a5f4a0d onto 710f0f8</span>
<span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor"># Commands:</span>
<span class="hljs-preprocessor">#  p, pick = use commit</span>
<span class="hljs-preprocessor">#  e, edit = use commit, but stop for amending</span>
<span class="hljs-preprocessor">#  s, squash = use commit, but meld into previous commit</span>
<span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor"># If you remove a line here THAT COMMIT WILL BE LOST.</span>
<span class="hljs-preprocessor"># However, if you remove everything, the rebase will be aborted.</span>
<span class="hljs-preprocessor">###</span>
</code></pre><p>Es importante destacar que esas confirmaciones de cambios se han listado en el orden opuesto al que normalmente son mostradas en el comando <code>log</code>.  En este último, se suele ver algo así como:</p>
<pre><code>$ git <span class="hljs-keyword">log</span> --pretty=<span class="hljs-keyword">format</span>:<span class="hljs-string">"<span class="hljs-variable">%h</span> <span class="hljs-variable">%s</span>"</span> HEAD~<span class="hljs-number">3</span>..HEAD
a5f4a0d added cat-file
<span class="hljs-number">310154</span>e updated README formatting <span class="hljs-keyword">and</span> added blame
f7f3f6d changed <span class="hljs-keyword">my</span> name a bit
</code></pre><p>Prestar atención al orden inverso. La reorganización interactiva lanza un script. Un script que, comenzando por la confirmación de cambios indicada en la línea del comando (<code>HEAD~3</code>), va a reaplicar los cambios introducidos en cada una de las confirmaciones, desde arriba hasta abajo. En la lista se ven las mas antiguas encima, en lugar de las más recientes, precisamente porque esas van a ser las primeras en reaplicarse.</p>
<p>Para que el script se detenga en cada confirmación de cambios a modificar, hay que editarlo. Y se ha de cambiar la palabra &#39;pick&#39; por la palabra &#39;edit&#39; en cada una de las confirmaciones de cambio donde se desee detener el script. Por ejemplo, para modificar solo el mensaje de la tercera confirmación de cambios, el script quedaria:</p>
<pre><code>edit f7f3f6d changed <span class="hljs-keyword">my</span> <span class="hljs-property">name</span> a bit
pick <span class="hljs-number">310154</span>e updated README formatting <span class="hljs-keyword">and</span> added blame
pick a5f4a0d added cat-<span class="hljs-type">file</span>
</code></pre><p>Cuando se guarde y cierre en el editor, Git hará un rebobinado hacia atras hasta la última de las confirmaciones de cambios en la lista, y mostrará algo así como:</p>
<pre><code>$ git rebase -i HEAD~<span class="hljs-number">3</span>
Stopped <span class="hljs-keyword">at</span> <span class="hljs-number">7482e0</span>d... updated <span class="hljs-keyword">the</span> gemspec <span class="hljs-keyword">to</span> hopefully work better
You can amend <span class="hljs-keyword">the</span> commit now, <span class="hljs-keyword">with</span>

       git commit <span class="hljs-comment">--amend</span>

Once you’re satisfied <span class="hljs-keyword">with</span> your changes, <span class="hljs-command">run</span>

       git rebase <span class="hljs-comment">--continue</span>
</code></pre><p>Estas instrucciones indican exactamente lo que se ha de realizar. Teclear</p>
<pre><code><span class="hljs-comment">$</span> <span class="hljs-comment">git</span> <span class="hljs-comment">commit</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">amend</span>
</code></pre><p>Cambiar el mensaje de la confirmación de cambios y salir del editor. Para luego lanzar</p>
<pre><code>$ git rebase --<span class="hljs-keyword">continue</span>
</code></pre><p>Las otras dos confirmaciones de cambio serán reaplicadas automáticamene. Y ya estará completa la reorganización. Si se ha cambiado &#39;pick&#39; por &#39;edit&#39; en más de una línea, estos pasos se habrán de repetir por cada una de las confirmaciones de cambios a modificar. En cada una de ellas, Git se detendrá, permitiendo enmendar la confirmación de cambios y continuar tras la modificación.</p>
<h2 id="reordenar-confirmaciones-de-cambios">Reordenar confirmaciones de cambios</h2>
<p>Las reorganizaciones interactivas también se pueden emplear para reordenar o para eliminar completamente ciertas confirmaciones de cambios (commits). Por ejemplo, si se desea eliminar la confirmación de &quot;added cat-file&quot; y cambiar el orden en que se han introducido las otras dos confirmaciones de cambios, el script de reorganización pasaría de ser:</p>
<pre><code>pick f7f3f6d changed <span class="hljs-keyword">my</span> <span class="hljs-property">name</span> a bit
pick <span class="hljs-number">310154</span>e updated README formatting <span class="hljs-keyword">and</span> added blame
pick a5f4a0d added cat-filepick f7f3f6d changed <span class="hljs-keyword">my</span> <span class="hljs-property">name</span> a bit
pick <span class="hljs-number">310154</span>e updated README formatting <span class="hljs-keyword">and</span> added blame
pick a5f4a0d added cat-<span class="hljs-type">file</span>
</code></pre><p>a quedar en algo como:</p>
<pre><code>pick <span class="hljs-number">310154</span>e updated README formatting <span class="hljs-keyword">and</span> added blame
pick f7f3f6d changed <span class="hljs-keyword">my</span> <span class="hljs-property">name</span> a bit
</code></pre><p>Cuando se guarde y salga en el editor, Git rebobinará la rama hasta el padre de las confirmaciones de cambio indicadas, reaplicará <code>310154e</code> y luego <code>f7f3f6d</code>, para finalmente detenerse. De esta forma se habrá cambiado el orden de las dos confirmaciones de cambio, y se habrá eliminado completamente la de &quot;added cat-file&quot;.</p>
<h2 id="combinar-varias-confirmaciones-en-una-sola">Combinar varias confirmaciones en una sola</h2>
<p>Con la herramienta de reorganización interactiva, es posible recombinar una serie de confirmaciones de cambio y agruparlas todas en una sola. El propio script indica las instrucciones a seguir:</p>
<pre><code><span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor"># Commands:</span>
<span class="hljs-preprocessor">#  p, pick = use commit</span>
<span class="hljs-preprocessor">#  e, edit = use commit, but stop for amending</span>
<span class="hljs-preprocessor">#  s, squash = use commit, but meld into previous commit</span>
<span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor"># If you remove a line here THAT COMMIT WILL BE LOST.</span>
<span class="hljs-preprocessor"># However, if you remove everything, the rebase will be aborted.</span>
<span class="hljs-preprocessor">###</span>
</code></pre><p>Si, en lugar de &#39;pick&#39; o de &#39;edit&#39;, se indica &#39;squash&#39; delante de alguna de las confirmaciones de cambio, Git aplicará simultáneamente dicha confirmación y la que esté inmediatamente delante de ella.  Permitiendo también combinar los mensajes de ambas. Por ejemplo, si se desea hacer una única confirmación de cambios fusionando las tres, el script quedaría en algo como:</p>
<pre><code>pick f7f3f6d changed <span class="hljs-keyword">my</span> <span class="hljs-property">name</span> a bit
squash <span class="hljs-number">310154</span>e updated README formatting <span class="hljs-keyword">and</span> added blame
squash a5f4a0d added cat-<span class="hljs-type">file</span>
</code></pre><p>Cuando se guarde y salga en el editor, Git rebobinará la historia, reaplicará las tres confirmaciones de cambio, y volverá al editor para fusionar también los mensajes de esas tres confirmaciones. </p>
<pre><code># This <span class="hljs-keyword">is</span> a combination <span class="hljs-keyword">of</span> <span class="hljs-number">3</span> commits.
# The first commit<span class="hljs-attribute">'s</span> message <span class="hljs-keyword">is</span>:
changed my name a <span class="hljs-typename">bit</span>

# This <span class="hljs-keyword">is</span> the <span class="hljs-number">2</span>nd commit message:

updated README formatting <span class="hljs-keyword">and</span> added blame

# This <span class="hljs-keyword">is</span> the <span class="hljs-number">3</span>rd commit message:

added cat-<span class="hljs-keyword">file</span>
</code></pre><p>Al guardar esto, se tendrá una sola confirmación de cambios que introducirá todos los cambios que estaban en las tres confirmaciones de cambios previamente existentes.</p>
<h2 id="dividir-una-confirmaci-n-de-cambios-en-varias">Dividir una confirmación de cambios en varias</h2>
<p>Dividir una confirmación de cambios (commit), implica deshacerla y luego volver a preparar y confirmar trozos de la misma tantas veces como nuevas confirmaciones se desean tener al final.  Por ejemplo, si se desea dividir la confirmación de cambios de enmedio de entre las tres citadas en ejemplos anteriores. Es decir, si en lugar de &quot;updated README formatting and added blame&quot;, se desea separar esa confirmación en dos: &quot;updated README formatting&quot; y &quot;added blame&quot;.  Se puede realizar cambiando la instrucción en el script de <code>rebase -i</code>, desde &#39;split&#39; a &#39;edit&#39;: </p>
<pre><code>pick f7f3f6d changed <span class="hljs-keyword">my</span> <span class="hljs-property">name</span> a bit
edit <span class="hljs-number">310154</span>e updated README formatting <span class="hljs-keyword">and</span> added blame
pick a5f4a0d added cat-<span class="hljs-type">file</span>
</code></pre><p>Después, cuando el script devuelva la línea de comandos, se ha de deshacer (reset) esa confirmación de cambios, coger los cambios recién deshechos y crear multiples nuevas confirmaciones de cambios con ellos. Al guardar y salir en el editor, Git rebobinará la historia hasta el padre de la primera confirmación de cambios en la lista, reaplicará esa primera confirmación  (<code>f7f3f6d</code>), luego reaplicará la segunda (<code>310154e</code>) y luego devolverá la línea de comandos. En esta línea de comando, es donde se desharan los cambios tecleando el comando <code>git reset HEAD^</code> para dejar sin preparar (unstaged) los archivos cambiados. Para, seguidamente, elaborar tantas confirmaciones de cambios como se desee, a base de pasar archivos al área de preparación y confirmarlos. Y, finalmente, teclear el comando <code>git rebase --continue</code> para completar la tarea. </p>
<pre><code><span class="hljs-variable">$ </span>git reset <span class="hljs-constant">HEAD</span>^
<span class="hljs-variable">$ </span>git add <span class="hljs-constant">README</span>
<span class="hljs-variable">$ </span>git commit -m <span class="hljs-string">'updated README formatting'</span>
<span class="hljs-variable">$ </span>git add lib/simplegit.rb
<span class="hljs-variable">$ </span>git commit -m <span class="hljs-string">'added blame'</span>
<span class="hljs-variable">$ </span>git rebase --continue
</code></pre><p>Tras esto, Git reaplicará la última de las confirmaciones de cambios  (<code>a5f4a0d</code>) en el script. Quedando la historia: </p>
<pre><code>$ git <span class="hljs-keyword">log</span> -<span class="hljs-number">4</span> --pretty=<span class="hljs-keyword">format</span>:<span class="hljs-string">"<span class="hljs-variable">%h</span> <span class="hljs-variable">%s</span>"</span>
<span class="hljs-number">1</span>c002dd added cat-file
<span class="hljs-number">9</span>b29157 added blame
<span class="hljs-number">35</span>cfb2b updated README formatting
f3cc40e changed <span class="hljs-keyword">my</span> name a bit
</code></pre><p>De nuevo, merece recalcar el hecho de que estas operaciones cambian los códigos SHA-1 de todas las confirmaciones de cambio afectadas. Y que, por tanto, no se deben hacer sobre confirmaciones de cambio enviadas(push) a algún repositorio compartido.</p>
<h2 id="la-opci-n-nuclear-filter-branch">La opción nuclear: filter-branch</h2>
<p>Existe una opción de reescritura del historial que se puede utilizar si se necesita reescribir un gran número de confirmaciones de cambio de forma mas o menos automatizada. Por ejemplo, para cambiar una dirección de correo electrónico globalmente, o para quitar un archivo de todas y cada una de las confirmaciones de cambios en una determinada rama. El comando en cuestión es <code>filter-branch</code>, y permite reescribir automáticamente grandes porciones del historial. Precisamente por ello, no debería utilizarse a no ser que el proyecto aún no se haya hecho público (es decir, otras personas no han basado su trabajo en alguna de las confirmaciones de cambio que se van a modificar). De todas formas, allá donde sea aplicable, puede ser de gran utilidad. Se van a ilustrar unas cuantas de las ocasiones donde se podría utilizar,  para dar así una idea de sus capacidades.</p>
<h3 id="quitar-un-archivo-de-cada-confirmaci-n-de-cambios">Quitar un archivo de cada confirmación de cambios</h3>
<p>Es algo que frecuentemente suele ser necesario. Alguien confirma cambios y almacena accidentalmente un enorme archivo binario cuando lanza un <code>git add .</code> sin pensarlo demasiado. Y es necesario quitarlo del repositorio. O podria suceder que se haya confirmado y almacenado accidentalmente un archivo que contiene una contraseña importante, Y el proyecto se va a hacer de código abierto. En estos casos, la mejor opción es utilizar la herramienta <code>filter-branch</code> para limpiar todo el historial.  Por ejemplo, para quitar un archivo llamado passwords.txt del repositorio, se puede emplear la opción <code>--tree-filter</code> del comando <code>filter-branch</code>:</p>
<pre><code>$ git <span class="hljs-keyword">filter</span>-branch --tree-<span class="hljs-keyword">filter</span> <span class="hljs-string">'rm -f passwords.txt'</span> HEAD
Rewrite <span class="hljs-number">6</span>b9b3cf04e7c5686a9cb838c3f36a8cb6a0fc2bd (<span class="hljs-number">21</span>/<span class="hljs-number">21</span>)
Ref <span class="hljs-string">'refs/heads/master'</span> was rewritten
</code></pre><p>Esta opción <code>--tree-filter</code>, tras cada extracción (checkout) del proyecto, lanzará el comando especificado y reconfirmará los cambios resultantes(recommit). En esta ocasión, se eliminará un archivo llamado passwords.txt de todas y cada una de las instantáneas (snapshot) almacenadas, tanto si este existe como si no. Otro ejemplo: si se desean eliminar todos los archivos de respaldo del editor que han sido almacenados por error, se podría lanzar algo así como  <code>git filter-branch --tree-filter &quot;find * -type f -name &#39;*~&#39; -delete&quot; HEAD</code>.</p>
<p>Y se iria viendo como Git reescribe árboles y confirmaciones de cambio, hasta que el apuntador de la rama llegue al final. Una recomendación: en general, suele ser buena idea lanzar cualquiera de estas operaciones primero sobre una rama de pruebas y luego reinicializar (hard-reset) la rama maestra (master), una vez se haya comprobado que el resultado de las operaciones es el esperado. Si se desea lanzar <code>filter-branch</code> sobre todas las ramas del repositorio, se ha de pasar la opción <code>--all</code> al comando. </p>
<h3 id="haciendo-que-una-subcarpeta-sea-la-nueva-carpeta-raiz">Haciendo que una subcarpeta sea la nueva carpeta raiz</h3>
<p>Por ejemplo, en el caso de que se haya importado trabajo desde otro sistema de control de versiones, y se tengan algunas subcarpetas sin sentido (trunk, tags,...). <code>filter-branch</code> puede ser de utilidad para que, por ejemplo, la subcarpeta <code>trunk</code> sea la nueva carpeta raiz del proyecto en todas y cada una de las confirmaciones de cambios:</p>
<pre><code>$ git <span class="hljs-built_in">filter</span>-branch <span class="hljs-comment">--subdirectory-filter trunk HEAD</span>
Rewrite <span class="hljs-number">856</span>f0bf61e41a27326cdae8f09fe708d679f596f (<span class="hljs-number">12</span>/<span class="hljs-number">12</span>)
Ref <span class="hljs-string">'refs/heads/master'</span> was rewritten
</code></pre><p>Tras este comando, la nueva raiz del proyecto pasa a ser el contenido de la carpeta <code>trunk</code>. Y, además, Git elimina automáticamente todas las confirmaciones de cambio (commits) que no afectaban a  dicha subcarpeta. </p>
<h3 id="cambiando-direcciones-de-correo-e-de-forma-global">Cambiando direcciones de correo-e de forma global</h3>
<p>Otra utilidad típica para utilizar <code>filter-branch</code> es cuando alguien ha olvidado ejecutar <code>git config</code> para configurar su nombre y dirección de correo electrónico antes de comenzar a trabajar. O cuando se va a pasar a código abierto un proyecto, pero previamente se desea cambiar todas las direcciones de correo empresariales por direcciones personales. En cualquier caso, se pueden cambiar de un golpe las direcciones de correo en multiples confirmaciones de cambio. Aunque es necesario ser cuidadoso para actuar solo sobre aquellas direcciones que se deseen cambiar, utilizando para ello la opción <code>--commit-filter</code>: </p>
<pre><code>$ git filter-branch --commit-filter <span class="hljs-comment">'</span>
        <span class="hljs-keyword">if</span> [ <span class="hljs-string">"$GIT_AUTHOR_EMAIL"</span> = <span class="hljs-string">"schacon@localhost"</span> ];
        <span class="hljs-keyword">then</span>
                GIT_AUTHOR_NAME=<span class="hljs-string">"Scott Chacon"</span>;
                GIT_AUTHOR_EMAIL=<span class="hljs-string">"schacon@example.com"</span>;
                git commit-tree <span class="hljs-string">"$@"</span>;
        <span class="hljs-keyword">else</span>
                git commit-tree <span class="hljs-string">"$@"</span>;
        fi<span class="hljs-comment">' HEAD</span>
</code></pre><p>Este comando pasa por todo el repositorio y reescribe cada confirmación de cambios donde detecte la dirección de correo indicada, para reemplazarla por la nueva. Y, debido a que cada confirmación de cambios contiene el código SHA-1 de sus ancestros, este comando cambia también todos los códigos SHA del historial; no solamente los de las confirmaciones de cambio que contenian la dirección indicada.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../las_herramientas_de_git/guardado_rapido_provisional.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../las_herramientas_de_git/depuracion_con_git.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        
    </body>
</html>
