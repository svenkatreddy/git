<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Přispívání do projektu | Learn Git</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="GitbookIO">
        <meta name="description" content="The entire Pro Git book.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../distribuovany_charakter_systemu_git/sprava_projektu.html" />
        
        
        <link rel="prev" href="../distribuovany_charakter_systemu_git/distribuovane_pracovni_postupy.html" />
        

        <meta property="og:title" content="Přispívání do projektu | Learn Git">
        <meta property="og:site_name" content="Learn Git">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/GitbookIO">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

        
        <link rel="stylesheet" href="../gitbook/style.css">
        
        
    </head>
    <body>
        
<div class="book" data-github="GitbookIO/git" data-level="5.2" data-basepath=".." data-revision="1396895639019">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="https://github.com/GitbookIO/git" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    <a href="https://github.com/GitbookIO/git/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/GitbookIO/git/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>


    <!-- Title -->
    <h1><a href="../" >Learn Git</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        <li>
            <a href="https://github.com/GitbookIO" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/GitbookIO/git/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/GitbookIO/git/edit/master/distribuovany_charakter_systemu_git/prispivani_do_projektu.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="uvod/README.html">
                
                <a href="../uvod/README.html">
                    <i class="fa fa-check"></i> <b>1)</b> Úvod
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="uvod/sprava_verzi.html">
                            
                            <a href="../uvod/sprava_verzi.html">
                                <i class="fa fa-check"></i> <b>1.1)</b> Správa verzí
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="uvod/strucna_historie_systemu_git.html">
                            
                            <a href="../uvod/strucna_historie_systemu_git.html">
                                <i class="fa fa-check"></i> <b>1.2)</b> Stručná historie systému Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="uvod/zaklady_systemu_git.html">
                            
                            <a href="../uvod/zaklady_systemu_git.html">
                                <i class="fa fa-check"></i> <b>1.3)</b> Základy systému Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="uvod/instalace_systemu_git.html">
                            
                            <a href="../uvod/instalace_systemu_git.html">
                                <i class="fa fa-check"></i> <b>1.4)</b> Instalace systému Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="uvod/prvni_nastaveni_systemu_git.html">
                            
                            <a href="../uvod/prvni_nastaveni_systemu_git.html">
                                <i class="fa fa-check"></i> <b>1.5)</b> První nastavení systému Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.6" data-path="uvod/kde_hledat_pomoc.html">
                            
                            <a href="../uvod/kde_hledat_pomoc.html">
                                <i class="fa fa-check"></i> <b>1.6)</b> Kde hledat pomoc
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.7" data-path="uvod/shrnuti.html">
                            
                            <a href="../uvod/shrnuti.html">
                                <i class="fa fa-check"></i> <b>1.7)</b> Shrnutí
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="zaklady_prace_se_systemem_git/README.html">
                
                <a href="../zaklady_prace_se_systemem_git/README.html">
                    <i class="fa fa-check"></i> <b>2)</b> Základy práce se systémem Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="zaklady_prace_se_systemem_git/ziskani_repozitare_git.html">
                            
                            <a href="../zaklady_prace_se_systemem_git/ziskani_repozitare_git.html">
                                <i class="fa fa-check"></i> <b>2.1)</b> Získání repozitáře Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="zaklady_prace_se_systemem_git/nahravani_zmen_do_repozitare.html">
                            
                            <a href="../zaklady_prace_se_systemem_git/nahravani_zmen_do_repozitare.html">
                                <i class="fa fa-check"></i> <b>2.2)</b> Nahrávání změn do repozitáře
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="zaklady_prace_se_systemem_git/zobrazeni_historie_revizi.html">
                            
                            <a href="../zaklady_prace_se_systemem_git/zobrazeni_historie_revizi.html">
                                <i class="fa fa-check"></i> <b>2.3)</b> Zobrazení historie revizí
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="zaklady_prace_se_systemem_git/ruseni_zmen.html">
                            
                            <a href="../zaklady_prace_se_systemem_git/ruseni_zmen.html">
                                <i class="fa fa-check"></i> <b>2.4)</b> Rušení změn
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="zaklady_prace_se_systemem_git/prace_se_vzdalenymi_repozitari.html">
                            
                            <a href="../zaklady_prace_se_systemem_git/prace_se_vzdalenymi_repozitari.html">
                                <i class="fa fa-check"></i> <b>2.5)</b> Práce se vzdálenými repozitáři
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="zaklady_prace_se_systemem_git/znacky.html">
                            
                            <a href="../zaklady_prace_se_systemem_git/znacky.html">
                                <i class="fa fa-check"></i> <b>2.6)</b> Značky
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.7" data-path="zaklady_prace_se_systemem_git/tipy_a_triky.html">
                            
                            <a href="../zaklady_prace_se_systemem_git/tipy_a_triky.html">
                                <i class="fa fa-check"></i> <b>2.7)</b> Tipy a triky
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.8" data-path="zaklady_prace_se_systemem_git/shrnuti.html">
                            
                            <a href="../zaklady_prace_se_systemem_git/shrnuti.html">
                                <i class="fa fa-check"></i> <b>2.8)</b> Shrnutí
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="vetve_v_systemu_git/README.html">
                
                <a href="../vetve_v_systemu_git/README.html">
                    <i class="fa fa-check"></i> <b>3)</b> Větve v systému Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="vetve_v_systemu_git/co_je_to_vetev.html">
                            
                            <a href="../vetve_v_systemu_git/co_je_to_vetev.html">
                                <i class="fa fa-check"></i> <b>3.1)</b> Co je to větev
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="vetve_v_systemu_git/zaklady_vetveni_a_slucovani.html">
                            
                            <a href="../vetve_v_systemu_git/zaklady_vetveni_a_slucovani.html">
                                <i class="fa fa-check"></i> <b>3.2)</b> Základy větvení a slučování
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="vetve_v_systemu_git/sprava_vetvi.html">
                            
                            <a href="../vetve_v_systemu_git/sprava_vetvi.html">
                                <i class="fa fa-check"></i> <b>3.3)</b> Správa větví
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="vetve_v_systemu_git/moznosti_pri_praci_s_vetvemi.html">
                            
                            <a href="../vetve_v_systemu_git/moznosti_pri_praci_s_vetvemi.html">
                                <i class="fa fa-check"></i> <b>3.4)</b> Možnosti při práci s větvemi
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="vetve_v_systemu_git/vzdalene_vetve.html">
                            
                            <a href="../vetve_v_systemu_git/vzdalene_vetve.html">
                                <i class="fa fa-check"></i> <b>3.5)</b> Vzdálené větve
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="vetve_v_systemu_git/preskladani.html">
                            
                            <a href="../vetve_v_systemu_git/preskladani.html">
                                <i class="fa fa-check"></i> <b>3.6)</b> Přeskládání
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" data-path="vetve_v_systemu_git/shrnuti.html">
                            
                            <a href="../vetve_v_systemu_git/shrnuti.html">
                                <i class="fa fa-check"></i> <b>3.7)</b> Shrnutí
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="git_na_serveru/README.html">
                
                <a href="../git_na_serveru/README.html">
                    <i class="fa fa-check"></i> <b>4)</b> Git na serveru
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="git_na_serveru/protokoly.html">
                            
                            <a href="../git_na_serveru/protokoly.html">
                                <i class="fa fa-check"></i> <b>4.1)</b> Protokoly
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="git_na_serveru/jak_umistit_git_na_server.html">
                            
                            <a href="../git_na_serveru/jak_umistit_git_na_server.html">
                                <i class="fa fa-check"></i> <b>4.2)</b> Jak umístit Git na server
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="git_na_serveru/vygenerovani_verejneho_ssh_klice.html">
                            
                            <a href="../git_na_serveru/vygenerovani_verejneho_ssh_klice.html">
                                <i class="fa fa-check"></i> <b>4.3)</b> Vygenerování veřejného SSH klíče
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="git_na_serveru/nastaveni_serveru.html">
                            
                            <a href="../git_na_serveru/nastaveni_serveru.html">
                                <i class="fa fa-check"></i> <b>4.4)</b> Nastavení serveru
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="git_na_serveru/verejny_pristup.html">
                            
                            <a href="../git_na_serveru/verejny_pristup.html">
                                <i class="fa fa-check"></i> <b>4.5)</b> Veřejný přístup
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.6" data-path="git_na_serveru/gitweb.html">
                            
                            <a href="../git_na_serveru/gitweb.html">
                                <i class="fa fa-check"></i> <b>4.6)</b> GitWeb
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.7" data-path="git_na_serveru/gitosis.html">
                            
                            <a href="../git_na_serveru/gitosis.html">
                                <i class="fa fa-check"></i> <b>4.7)</b> Gitosis
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.8" data-path="git_na_serveru/gitolite.html">
                            
                            <a href="../git_na_serveru/gitolite.html">
                                <i class="fa fa-check"></i> <b>4.8)</b> Gitolite
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.9" data-path="git_na_serveru/demon_git.html">
                            
                            <a href="../git_na_serveru/demon_git.html">
                                <i class="fa fa-check"></i> <b>4.9)</b> Démon Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.10" data-path="git_na_serveru/hostovani_projektu_git.html">
                            
                            <a href="../git_na_serveru/hostovani_projektu_git.html">
                                <i class="fa fa-check"></i> <b>4.10)</b> Hostování projektů Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.11" data-path="git_na_serveru/shrnuti.html">
                            
                            <a href="../git_na_serveru/shrnuti.html">
                                <i class="fa fa-check"></i> <b>4.11)</b> Shrnutí
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="distribuovany_charakter_systemu_git/README.html">
                
                <a href="../distribuovany_charakter_systemu_git/README.html">
                    <i class="fa fa-check"></i> <b>5)</b> Distribuovaný charakter systému Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="distribuovany_charakter_systemu_git/distribuovane_pracovni_postupy.html">
                            
                            <a href="../distribuovany_charakter_systemu_git/distribuovane_pracovni_postupy.html">
                                <i class="fa fa-check"></i> <b>5.1)</b> Distribuované pracovní postupy
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="distribuovany_charakter_systemu_git/prispivani_do_projektu.html">
                            
                            <a href="../distribuovany_charakter_systemu_git/prispivani_do_projektu.html">
                                <i class="fa fa-check"></i> <b>5.2)</b> Přispívání do projektu
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="distribuovany_charakter_systemu_git/sprava_projektu.html">
                            
                            <a href="../distribuovany_charakter_systemu_git/sprava_projektu.html">
                                <i class="fa fa-check"></i> <b>5.3)</b> Správa projektu
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="distribuovany_charakter_systemu_git/shrnuti.html">
                            
                            <a href="../distribuovany_charakter_systemu_git/shrnuti.html">
                                <i class="fa fa-check"></i> <b>5.4)</b> Shrnutí
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="nastroje_systemu_git/README.html">
                
                <a href="../nastroje_systemu_git/README.html">
                    <i class="fa fa-check"></i> <b>6)</b> Nástroje systému Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="nastroje_systemu_git/vyber_revize.html">
                            
                            <a href="../nastroje_systemu_git/vyber_revize.html">
                                <i class="fa fa-check"></i> <b>6.1)</b> Výběr revize
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="nastroje_systemu_git/interaktivni_priprava_k_zapsani.html">
                            
                            <a href="../nastroje_systemu_git/interaktivni_priprava_k_zapsani.html">
                                <i class="fa fa-check"></i> <b>6.2)</b> Interaktivní příprava k zapsání
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="nastroje_systemu_git/odlozeni.html">
                            
                            <a href="../nastroje_systemu_git/odlozeni.html">
                                <i class="fa fa-check"></i> <b>6.3)</b> Odložení
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.4" data-path="nastroje_systemu_git/prepis_historie.html">
                            
                            <a href="../nastroje_systemu_git/prepis_historie.html">
                                <i class="fa fa-check"></i> <b>6.4)</b> Přepis historie
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.5" data-path="nastroje_systemu_git/ladeni_v_systemu_git.html">
                            
                            <a href="../nastroje_systemu_git/ladeni_v_systemu_git.html">
                                <i class="fa fa-check"></i> <b>6.5)</b> Ladění v systému Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.6" data-path="nastroje_systemu_git/submoduly.html">
                            
                            <a href="../nastroje_systemu_git/submoduly.html">
                                <i class="fa fa-check"></i> <b>6.6)</b> Submoduly
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.7" data-path="nastroje_systemu_git/zacleneni_podstromu.html">
                            
                            <a href="../nastroje_systemu_git/zacleneni_podstromu.html">
                                <i class="fa fa-check"></i> <b>6.7)</b> Začlenění podstromu
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.8" data-path="nastroje_systemu_git/shrnuti.html">
                            
                            <a href="../nastroje_systemu_git/shrnuti.html">
                                <i class="fa fa-check"></i> <b>6.8)</b> Shrnutí
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="individualni_prizpusobeni_systemu_git/README.html">
                
                <a href="../individualni_prizpusobeni_systemu_git/README.html">
                    <i class="fa fa-check"></i> <b>7)</b> Individuální přizpůsobení systému Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="individualni_prizpusobeni_systemu_git/konfigurace_systemu_git.html">
                            
                            <a href="../individualni_prizpusobeni_systemu_git/konfigurace_systemu_git.html">
                                <i class="fa fa-check"></i> <b>7.1)</b> Konfigurace systému Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.2" data-path="individualni_prizpusobeni_systemu_git/atributy_git.html">
                            
                            <a href="../individualni_prizpusobeni_systemu_git/atributy_git.html">
                                <i class="fa fa-check"></i> <b>7.2)</b> Atributy Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.3" data-path="individualni_prizpusobeni_systemu_git/zasuvne_moduly_git.html">
                            
                            <a href="../individualni_prizpusobeni_systemu_git/zasuvne_moduly_git.html">
                                <i class="fa fa-check"></i> <b>7.3)</b> Zásuvné moduly Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.4" data-path="individualni_prizpusobeni_systemu_git/priklad_standardu_kontrolovanych_systemem_git.html">
                            
                            <a href="../individualni_prizpusobeni_systemu_git/priklad_standardu_kontrolovanych_systemem_git.html">
                                <i class="fa fa-check"></i> <b>7.4)</b> Příklad standardů kontrolovaných systémem Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.5" data-path="individualni_prizpusobeni_systemu_git/shrnuti.html">
                            
                            <a href="../individualni_prizpusobeni_systemu_git/shrnuti.html">
                                <i class="fa fa-check"></i> <b>7.5)</b> Shrnutí
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="git_a_ostatni_systemy/README.html">
                
                <a href="../git_a_ostatni_systemy/README.html">
                    <i class="fa fa-check"></i> <b>8)</b> Git a ostatní systémy
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="8.1" data-path="git_a_ostatni_systemy/git_a_subversion.html">
                            
                            <a href="../git_a_ostatni_systemy/git_a_subversion.html">
                                <i class="fa fa-check"></i> <b>8.1)</b> Git a Subversion
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.2" data-path="git_a_ostatni_systemy/prechod_na_system_git.html">
                            
                            <a href="../git_a_ostatni_systemy/prechod_na_system_git.html">
                                <i class="fa fa-check"></i> <b>8.2)</b> Přechod na systém Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.3" data-path="git_a_ostatni_systemy/shrnuti.html">
                            
                            <a href="../git_a_ostatni_systemy/shrnuti.html">
                                <i class="fa fa-check"></i> <b>8.3)</b> Shrnutí
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="9" data-path="git_pod_poklickou/README.html">
                
                <a href="../git_pod_poklickou/README.html">
                    <i class="fa fa-check"></i> <b>9)</b> Git pod pokličkou
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="9.1" data-path="git_pod_poklickou/nizkourovnove_a_vysokourovnove_prikazy.html">
                            
                            <a href="../git_pod_poklickou/nizkourovnove_a_vysokourovnove_prikazy.html">
                                <i class="fa fa-check"></i> <b>9.1)</b> Nízkoúrovňové a vysokoúrovňové příkazy
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.2" data-path="git_pod_poklickou/objekty_git.html">
                            
                            <a href="../git_pod_poklickou/objekty_git.html">
                                <i class="fa fa-check"></i> <b>9.2)</b> Objekty Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.3" data-path="git_pod_poklickou/reference_git.html">
                            
                            <a href="../git_pod_poklickou/reference_git.html">
                                <i class="fa fa-check"></i> <b>9.3)</b> Reference Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.4" data-path="git_pod_poklickou/balickove_soubory.html">
                            
                            <a href="../git_pod_poklickou/balickove_soubory.html">
                                <i class="fa fa-check"></i> <b>9.4)</b> Balíčkové soubory
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.5" data-path="git_pod_poklickou/refspec.html">
                            
                            <a href="../git_pod_poklickou/refspec.html">
                                <i class="fa fa-check"></i> <b>9.5)</b> Refspec
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.6" data-path="git_pod_poklickou/prenosove_protokoly.html">
                            
                            <a href="../git_pod_poklickou/prenosove_protokoly.html">
                                <i class="fa fa-check"></i> <b>9.6)</b> Přenosové protokoly
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.7" data-path="git_pod_poklickou/sprava_a_obnova_dat.html">
                            
                            <a href="../git_pod_poklickou/sprava_a_obnova_dat.html">
                                <i class="fa fa-check"></i> <b>9.7)</b> Správa a obnova dat
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.8" data-path="git_pod_poklickou/shrnuti.html">
                            
                            <a href="../git_pod_poklickou/shrnuti.html">
                                <i class="fa fa-check"></i> <b>9.8)</b> Shrnutí
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.9" data-path="git_pod_poklickou/poznamky_k_prekladu.html">
                            
                            <a href="../git_pod_poklickou/poznamky_k_prekladu.html">
                                <i class="fa fa-check"></i> <b>9.9)</b> Poznámky k překladu
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
    </ul>
</div>

    <div class="book-body" tabindex="-1">
        <div class="body-inner">
            <div class="page-wrapper">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 56.33802816901409%;min-width: 54.929577464788736%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../uvod/README.html" title="Úvod" class="chapter done new-chapter" data-progress="1" style="left: 1.408450704225352%;"></a>
    
        <a href="../uvod/sprava_verzi.html" title="Správa verzí" class="chapter done " data-progress="1.1" style="left: 2.816901408450704%;"></a>
    
        <a href="../uvod/strucna_historie_systemu_git.html" title="Stručná historie systému Git" class="chapter done " data-progress="1.2" style="left: 4.225352112676056%;"></a>
    
        <a href="../uvod/zaklady_systemu_git.html" title="Základy systému Git" class="chapter done " data-progress="1.3" style="left: 5.633802816901408%;"></a>
    
        <a href="../uvod/instalace_systemu_git.html" title="Instalace systému Git" class="chapter done " data-progress="1.4" style="left: 7.042253521126761%;"></a>
    
        <a href="../uvod/prvni_nastaveni_systemu_git.html" title="První nastavení systému Git" class="chapter done " data-progress="1.5" style="left: 8.450704225352112%;"></a>
    
        <a href="../uvod/kde_hledat_pomoc.html" title="Kde hledat pomoc" class="chapter done " data-progress="1.6" style="left: 9.859154929577464%;"></a>
    
        <a href="../uvod/shrnuti.html" title="Shrnutí" class="chapter done " data-progress="1.7" style="left: 11.267605633802816%;"></a>
    
        <a href="../zaklady_prace_se_systemem_git/README.html" title="Základy práce se systémem Git" class="chapter done new-chapter" data-progress="2" style="left: 12.67605633802817%;"></a>
    
        <a href="../zaklady_prace_se_systemem_git/ziskani_repozitare_git.html" title="Získání repozitáře Git" class="chapter done " data-progress="2.1" style="left: 14.084507042253522%;"></a>
    
        <a href="../zaklady_prace_se_systemem_git/nahravani_zmen_do_repozitare.html" title="Nahrávání změn do repozitáře" class="chapter done " data-progress="2.2" style="left: 15.492957746478874%;"></a>
    
        <a href="../zaklady_prace_se_systemem_git/zobrazeni_historie_revizi.html" title="Zobrazení historie revizí" class="chapter done " data-progress="2.3" style="left: 16.901408450704224%;"></a>
    
        <a href="../zaklady_prace_se_systemem_git/ruseni_zmen.html" title="Rušení změn" class="chapter done " data-progress="2.4" style="left: 18.309859154929576%;"></a>
    
        <a href="../zaklady_prace_se_systemem_git/prace_se_vzdalenymi_repozitari.html" title="Práce se vzdálenými repozitáři" class="chapter done " data-progress="2.5" style="left: 19.718309859154928%;"></a>
    
        <a href="../zaklady_prace_se_systemem_git/znacky.html" title="Značky" class="chapter done " data-progress="2.6" style="left: 21.12676056338028%;"></a>
    
        <a href="../zaklady_prace_se_systemem_git/tipy_a_triky.html" title="Tipy a triky" class="chapter done " data-progress="2.7" style="left: 22.535211267605632%;"></a>
    
        <a href="../zaklady_prace_se_systemem_git/shrnuti.html" title="Shrnutí" class="chapter done " data-progress="2.8" style="left: 23.943661971830984%;"></a>
    
        <a href="../vetve_v_systemu_git/README.html" title="Větve v systému Git" class="chapter done new-chapter" data-progress="3" style="left: 25.35211267605634%;"></a>
    
        <a href="../vetve_v_systemu_git/co_je_to_vetev.html" title="Co je to větev" class="chapter done " data-progress="3.1" style="left: 26.760563380281692%;"></a>
    
        <a href="../vetve_v_systemu_git/zaklady_vetveni_a_slucovani.html" title="Základy větvení a slučování" class="chapter done " data-progress="3.2" style="left: 28.169014084507044%;"></a>
    
        <a href="../vetve_v_systemu_git/sprava_vetvi.html" title="Správa větví" class="chapter done " data-progress="3.3" style="left: 29.577464788732396%;"></a>
    
        <a href="../vetve_v_systemu_git/moznosti_pri_praci_s_vetvemi.html" title="Možnosti při práci s větvemi" class="chapter done " data-progress="3.4" style="left: 30.985915492957748%;"></a>
    
        <a href="../vetve_v_systemu_git/vzdalene_vetve.html" title="Vzdálené větve" class="chapter done " data-progress="3.5" style="left: 32.394366197183096%;"></a>
    
        <a href="../vetve_v_systemu_git/preskladani.html" title="Přeskládání" class="chapter done " data-progress="3.6" style="left: 33.80281690140845%;"></a>
    
        <a href="../vetve_v_systemu_git/shrnuti.html" title="Shrnutí" class="chapter done " data-progress="3.7" style="left: 35.2112676056338%;"></a>
    
        <a href="../git_na_serveru/README.html" title="Git na serveru" class="chapter done new-chapter" data-progress="4" style="left: 36.61971830985915%;"></a>
    
        <a href="../git_na_serveru/protokoly.html" title="Protokoly" class="chapter done " data-progress="4.1" style="left: 38.028169014084504%;"></a>
    
        <a href="../git_na_serveru/hostovani_projektu_git.html" title="Hostování projektů Git" class="chapter done " data-progress="4.10" style="left: 39.436619718309856%;"></a>
    
        <a href="../git_na_serveru/shrnuti.html" title="Shrnutí" class="chapter done " data-progress="4.11" style="left: 40.84507042253521%;"></a>
    
        <a href="../git_na_serveru/jak_umistit_git_na_server.html" title="Jak umístit Git na server" class="chapter done " data-progress="4.2" style="left: 42.25352112676056%;"></a>
    
        <a href="../git_na_serveru/vygenerovani_verejneho_ssh_klice.html" title="Vygenerování veřejného SSH klíče" class="chapter done " data-progress="4.3" style="left: 43.66197183098591%;"></a>
    
        <a href="../git_na_serveru/nastaveni_serveru.html" title="Nastavení serveru" class="chapter done " data-progress="4.4" style="left: 45.070422535211264%;"></a>
    
        <a href="../git_na_serveru/verejny_pristup.html" title="Veřejný přístup" class="chapter done " data-progress="4.5" style="left: 46.478873239436616%;"></a>
    
        <a href="../git_na_serveru/gitweb.html" title="GitWeb" class="chapter done " data-progress="4.6" style="left: 47.88732394366197%;"></a>
    
        <a href="../git_na_serveru/gitosis.html" title="Gitosis" class="chapter done " data-progress="4.7" style="left: 49.29577464788732%;"></a>
    
        <a href="../git_na_serveru/gitolite.html" title="Gitolite" class="chapter done " data-progress="4.8" style="left: 50.70422535211268%;"></a>
    
        <a href="../git_na_serveru/demon_git.html" title="Démon Git" class="chapter done " data-progress="4.9" style="left: 52.11267605633803%;"></a>
    
        <a href="../distribuovany_charakter_systemu_git/README.html" title="Distribuovaný charakter systému Git" class="chapter done new-chapter" data-progress="5" style="left: 53.521126760563384%;"></a>
    
        <a href="../distribuovany_charakter_systemu_git/distribuovane_pracovni_postupy.html" title="Distribuované pracovní postupy" class="chapter done " data-progress="5.1" style="left: 54.929577464788736%;"></a>
    
        <a href="../distribuovany_charakter_systemu_git/prispivani_do_projektu.html" title="Přispívání do projektu" class="chapter done " data-progress="5.2" style="left: 56.33802816901409%;"></a>
    
        <a href="../distribuovany_charakter_systemu_git/sprava_projektu.html" title="Správa projektu" class="chapter  " data-progress="5.3" style="left: 57.74647887323944%;"></a>
    
        <a href="../distribuovany_charakter_systemu_git/shrnuti.html" title="Shrnutí" class="chapter  " data-progress="5.4" style="left: 59.15492957746479%;"></a>
    
        <a href="../nastroje_systemu_git/README.html" title="Nástroje systému Git" class="chapter  new-chapter" data-progress="6" style="left: 60.563380281690144%;"></a>
    
        <a href="../nastroje_systemu_git/vyber_revize.html" title="Výběr revize" class="chapter  " data-progress="6.1" style="left: 61.971830985915496%;"></a>
    
        <a href="../nastroje_systemu_git/interaktivni_priprava_k_zapsani.html" title="Interaktivní příprava k zapsání" class="chapter  " data-progress="6.2" style="left: 63.38028169014085%;"></a>
    
        <a href="../nastroje_systemu_git/odlozeni.html" title="Odložení" class="chapter  " data-progress="6.3" style="left: 64.78873239436619%;"></a>
    
        <a href="../nastroje_systemu_git/prepis_historie.html" title="Přepis historie" class="chapter  " data-progress="6.4" style="left: 66.19718309859155%;"></a>
    
        <a href="../nastroje_systemu_git/ladeni_v_systemu_git.html" title="Ladění v systému Git" class="chapter  " data-progress="6.5" style="left: 67.6056338028169%;"></a>
    
        <a href="../nastroje_systemu_git/submoduly.html" title="Submoduly" class="chapter  " data-progress="6.6" style="left: 69.01408450704226%;"></a>
    
        <a href="../nastroje_systemu_git/zacleneni_podstromu.html" title="Začlenění podstromu" class="chapter  " data-progress="6.7" style="left: 70.4225352112676%;"></a>
    
        <a href="../nastroje_systemu_git/shrnuti.html" title="Shrnutí" class="chapter  " data-progress="6.8" style="left: 71.83098591549296%;"></a>
    
        <a href="../individualni_prizpusobeni_systemu_git/README.html" title="Individuální přizpůsobení systému Git" class="chapter  new-chapter" data-progress="7" style="left: 73.2394366197183%;"></a>
    
        <a href="../individualni_prizpusobeni_systemu_git/konfigurace_systemu_git.html" title="Konfigurace systému Git" class="chapter  " data-progress="7.1" style="left: 74.64788732394366%;"></a>
    
        <a href="../individualni_prizpusobeni_systemu_git/atributy_git.html" title="Atributy Git" class="chapter  " data-progress="7.2" style="left: 76.05633802816901%;"></a>
    
        <a href="../individualni_prizpusobeni_systemu_git/zasuvne_moduly_git.html" title="Zásuvné moduly Git" class="chapter  " data-progress="7.3" style="left: 77.46478873239437%;"></a>
    
        <a href="../individualni_prizpusobeni_systemu_git/priklad_standardu_kontrolovanych_systemem_git.html" title="Příklad standardů kontrolovaných systémem Git" class="chapter  " data-progress="7.4" style="left: 78.87323943661971%;"></a>
    
        <a href="../individualni_prizpusobeni_systemu_git/shrnuti.html" title="Shrnutí" class="chapter  " data-progress="7.5" style="left: 80.28169014084507%;"></a>
    
        <a href="../git_a_ostatni_systemy/README.html" title="Git a ostatní systémy" class="chapter  new-chapter" data-progress="8" style="left: 81.69014084507042%;"></a>
    
        <a href="../git_a_ostatni_systemy/git_a_subversion.html" title="Git a Subversion" class="chapter  " data-progress="8.1" style="left: 83.09859154929578%;"></a>
    
        <a href="../git_a_ostatni_systemy/prechod_na_system_git.html" title="Přechod na systém Git" class="chapter  " data-progress="8.2" style="left: 84.50704225352112%;"></a>
    
        <a href="../git_a_ostatni_systemy/shrnuti.html" title="Shrnutí" class="chapter  " data-progress="8.3" style="left: 85.91549295774648%;"></a>
    
        <a href="../git_pod_poklickou/README.html" title="Git pod pokličkou" class="chapter  new-chapter" data-progress="9" style="left: 87.32394366197182%;"></a>
    
        <a href="../git_pod_poklickou/nizkourovnove_a_vysokourovnove_prikazy.html" title="Nízkoúrovňové a vysokoúrovňové příkazy" class="chapter  " data-progress="9.1" style="left: 88.73239436619718%;"></a>
    
        <a href="../git_pod_poklickou/objekty_git.html" title="Objekty Git" class="chapter  " data-progress="9.2" style="left: 90.14084507042253%;"></a>
    
        <a href="../git_pod_poklickou/reference_git.html" title="Reference Git" class="chapter  " data-progress="9.3" style="left: 91.54929577464789%;"></a>
    
        <a href="../git_pod_poklickou/balickove_soubory.html" title="Balíčkové soubory" class="chapter  " data-progress="9.4" style="left: 92.95774647887323%;"></a>
    
        <a href="../git_pod_poklickou/refspec.html" title="Refspec" class="chapter  " data-progress="9.5" style="left: 94.36619718309859%;"></a>
    
        <a href="../git_pod_poklickou/prenosove_protokoly.html" title="Přenosové protokoly" class="chapter  " data-progress="9.6" style="left: 95.77464788732394%;"></a>
    
        <a href="../git_pod_poklickou/sprava_a_obnova_dat.html" title="Správa a obnova dat" class="chapter  " data-progress="9.7" style="left: 97.1830985915493%;"></a>
    
        <a href="../git_pod_poklickou/shrnuti.html" title="Shrnutí" class="chapter  " data-progress="9.8" style="left: 98.59154929577464%;"></a>
    
        <a href="../git_pod_poklickou/poznamky_k_prekladu.html" title="Poznámky k překladu" class="chapter  " data-progress="9.9" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_970">
                    
                        <h1 id="p-isp-v-n-do-projektu">Přispívání do projektu</h1>
<p>V tuto chvíli už znáte různé pracovní postupy a na velmi solidní úrovni byste měli ovládat základy systému Git. V této části ukážeme několik běžných schémat, podle nichž může přispívání do projektů probíhat.</p>
<p>Popsat tento proces není právě jednoduché, protože existuje obrovské množství variací, jak lze do projektů přispívat. Vzhledem k velké flexibilitě systému Git mohou uživatelé spolupracovat mnoha různými způsoby, a není proto snadné popsat, jak byste měli do projektu přispívat. Každý projekt je trochu jiný. Mezi proměnné patří v tomto procesu počet aktivních přispěvatelů, zvolený pracovní postup, vaše oprávnění pro odesílání revizí a případně i metoda externího přispívání.</p>
<p>První proměnnou je počet aktivních přispěvatelů. Kolik uživatelů aktivně přispívá kódem do projektu a jak často? V mnoha případech budete mít dva nebo tři vývojáře přispívající několika málo revizemi denně, u projektů s nízkou prioritou možná i méně. V opravdu velkých společnostech a u velkých projektů se může počet vývojářů vyšplhat do tisíců a počet revizí se může pohybovat v desítkách i stovkách záplat denně. To je důležité zejména z toho hlediska, že s rostoucím počtem vývojářů se také zvětšují starosti s tím, aby byl kód aplikován čistě a aby ho bylo možné snadno začlenit. U změn, které postoupíte vyšší instanci, může docházet k zastarávání nebo vážnému narušení jinými daty, která byla začleněna během vaší práce nebo ve chvíli, kdy vaše změny čekaly na schválení či aplikaci. Jak lze důsledně udržovat kód aktuální a záplaty vždy platné?</p>
<p>Další proměnnou je pracovní postup, který se u projektu využívá. Probíhá vývoj centralizovaně, má každý vývojář stejné oprávnění pro zápis do hlavní linie kódu? Má projekt svého správce nebo integračního manažera, který kontroluje všechny záplaty? Jsou všechny záplaty odborně posuzovány a schvalovány? Jste součástí tohoto procesu? Jsou součástí systému poručíci a musíte všechnu svou práci odesílat nejprve jim?</p>
<p>Další otázkou je vaše oprávnění k zapisování revizí. Pracovní postup při přispívání do projektu se velmi liší podle toho, zda máte, či nemáte oprávnění k zápisu do projektu. Pokud oprávnění k zápisu nemáte, jakou metodu projekt zvolí pro přijímání příspěvků? Má k tomu vůbec vyvinutou metodiku? Kolik práce představuje jeden váš příspěvek? A jak často přispíváte?</p>
<p>Všechny tyto otázky mohou mít vliv na efektivní přispívání do projektu a určují, jaký pracovní postup je vůbec možný a který bude upřednostněn. Všem těmto aspektům bych se teď chtěl věnovat na sérii praktických příkladů, od těch jednodušších až po složité. Z uvedených příkladů byste si pak měli být schopni odvodit vlastní pracovní postup, který budete v praxi využívat.</p>
<h2 id="pravidla-pro-revize">Pravidla pro revize</h2>
<p>Než se podíváme na konkrétní praktické příklady, přidávám malou poznámku o zprávách k revizím. Není od věci stanovit si a dodržovat kvalitní pravidla pro vytváření revizí. Výrazně vám mohou usnadnit práci v systému Git a spolupráci s kolegy. Projekt Git obsahuje dokument, v němž je navržena celá řada dobrých tipů pro vytváření revizí, z nichž se skládají jednotlivé záplaty. Dokument najdete ve zdrojovém kódu systému Git v souboru <code>Documentation/SubmittingPatches</code>.</p>
<p>Především nechcete, aby revize obsahovaly chyby způsobené prázdnými znaky. Git nabízí snadný způsob, jak tyto chyby zkontrolovat. Před zapsáním revize zadejte příkaz <code>git diff --check</code>, který zkontroluje prázdné znaky a vypíše vám jejich seznam. Zde uvádím jeden příklad, v němž jsem červenou barvu terminálu nahradil znaky <code>X</code>:</p>
<pre><code>$ git diff --check
lib/simplegit<span class="hljs-preprocessor">.rb</span>:<span class="hljs-number">5</span>: trailing whitespace.
+    @git_dir = File<span class="hljs-preprocessor">.expand</span>_path(git_dir)XX
lib/simplegit<span class="hljs-preprocessor">.rb</span>:<span class="hljs-number">7</span>: trailing whitespace.
+ XXXXXXXXXXX
lib/simplegit<span class="hljs-preprocessor">.rb</span>:<span class="hljs-number">26</span>: trailing whitespace.
+    def command(git_cmd)XXXX
</code></pre><p>Spustíte-li tento příkaz před zapsáním revize, můžete se rozhodnout, zda chcete zapsat i problematické prázdné znaky, které mohou obtěžovat ostatní vývojáře.</p>
<p>Dále se snažte provádět každou revizi jako logicky samostatný soubor změn. Pokud je to možné, snažte se provádět stravitelné změny. Není právě ideální pracovat celý víkend na pěti různých problémech a v pondělí je všechny najednou odeslat v jedné velké revizi. I pokud nebudete během víkendu zapisovat revize, využijte v pondělí oblasti připravených změn a rozdělte svou práci alespoň do stejného počtu revizí, kolik je řešených problémů, a přidejte k nim vysvětlující zprávy. Pokud některé změny modifikují tentýž soubor, zkuste použít příkaz <code>git add --patch</code> a připravit soubory k zapsání po částech (podrobnosti v kapitole 6). Snímek projektu na vrcholu větve bude stejný, ať zapíšete jednu revizi, nebo pět (za předpokladu, že vložíte všechny změny). Snažte se proto usnadnit práci svým kolegům, kteří – možná – budou vaše změny kontrolovat. Díky tomuto přístupu také později snáze vyjmete nebo vrátíte některou z provedených změn, bude-li to třeba. Kapitola 6 popisuje několik užitečných triků, jak v systému Git přepsat historii a jak interaktivně připravovat soubory k zapsání. Používejte tyto nástroje k udržení čisté a srozumitelné historie.</p>
<p>Poslední věcí, na niž se vyplatí soustředit pozornost, jsou zprávy k revizím. Pokud si zvyknete vytvářet k revizím kvalitní zprávy, bude pro vás práce a kooperace v systému Git mnohem jednodušší. Zpráva by měla obvykle začínat samostatným řádkem o maximálně 50 znacích, v níž stručně popíšete soubor provedených změn. Za ním by měl následovat prázdný řádek a za ním podrobnější popis revize. Projekt Git vyžaduje, aby podrobnější popis revize obsahoval vaši motivaci ke změnám a vymezil jejich implementaci na pozadí předchozích kroků. Tuto zásadu je dobré dodržovat. Vytváříte-li zprávy k revizím v angličtině, často se také doporučuje používat rozkazovací způsob, tj. příkazy. Místo „I added tests for“ nebo „Adding tests for“ používejte raději „Add tests for“.
Zde uvádíme vzor, jehož autorem je Tim Pope a v originále je k nalezení na stránkách tpope.net:</p>
<pre><code>Krátké (do 50 znaků) shrnutí změn

Podrobnější popis revize, je-li třeba. Snažte se nepřesáhnout
zhruba 72 znaků. V některých kontextech    je první řádek koncipován
jako předmět e-mailu a zbytek textu jako jeho tělo. Prázdný řádek
oddělující shrnutí od těla zprávy je nezbytně nutný (pokud
nehodláte vypustit celé tělo). Spojení obou částí může zmást
některé nástroje, např. přeskládání.

Další odstavce následují za prázdným řádkem.

 -<span class="ruby"> <span class="hljs-constant">M</span>ůžete používat i odrážky.
</span>
 -<span class="ruby"> <span class="hljs-constant">Jako</span> odrážka se nejčastěji používá pomlčka nebo hvězdička, před ně se vkládá
</span>   jedna mezera, mezi body výčtu prázdný řádek, avšak úzus tu není jednotný.
</code></pre><p>Budou-li takto vypadat všechny vaše zprávy k revizím, usnadníte tím práci sobě i svým spolupracovníkům. Projekt Git obsahuje kvalitně naformátované zprávy k revizím. Mohu vám doporučit, abyste v něm zkusili zadat příkaz <code>git log --no-merges</code> a podívali se, jak vypadá pěkně naformátovaná historie revizí projektu.</p>
<p>Já v následujících příkladech stejně jako ve většině případů v této knize v rámci zestručnění neformátuji zprávy podle uvedených zásad, naopak používám parametr <code>-m</code> za příkazem <code>git commit</code>. Řiďte se, prosím, podle toho, co říkám, ne podle toho, co dělám.</p>
<h2 id="mal-soukrom-t-m">Malý soukromý tým</h2>
<p>Nejjednodušší sestavou, s níž se pravděpodobně setkáte, je soukromý projekt, na němž kromě vás pracují ještě jeden nebo dva vývojáři. Soukromým projektem myslím uzavřený zdrojový kód – okolní svět k němu nemá oprávnění pro čtení. Vy a vaši ostatní vývojáři máte všichni oprávnění odesílat změny do repozitáře.</p>
<p>V takovém prostředí můžete uplatnit podobný pracovní postup, na jaký jste možná zvyklí ze systému Subversion nebo jiného centralizovaného systému. Se systémem Git ale budete stále ještě ve výhodě v takových ohledech, jako je zapisování revizí offline a podstatně snazší větvení a slučování. Pracovní postup však bude velmi podobný. Hlavním rozdílem je to, že slučování probíhá na straně klienta, ne během zapisování revize na straně serveru.
Podívejme se, jak to může vypadat, když dva vývojáři začnou spolupracovat na projektu se sdíleným repozitářem. První vývojář, John, naklonuje repozitář, provede změny a zapíše lokální revizi. (V následujících příkladech nahrazuji zprávy protokolů třemi tečkami, abych je trochu zkrátil.)</p>
<pre><code><span class="hljs-comment"># John's Machine</span>
$ git clone john@githost:simplegit.git
Initialized empty Git repository <span class="hljs-keyword">in</span> /home/john/simplegit/.git/
<span class="hljs-keyword">...</span>
$ cd simplegit/
$ vim lib/simplegit.rb
$ git commit -am <span class="hljs-string">'removed invalid default value'</span>
[master 738ee87] removed invalid default value
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>Druhý vývojář, Jessica, učiní totéž – naklonuje repozitář a zapíše provedené změny:</p>
<pre><code><span class="hljs-comment"># Jessica's Machine</span>
$ git clone jessica@githost:simplegit.git
Initialized empty Git repository <span class="hljs-keyword">in</span> /home/jessica/simplegit/.git/
<span class="hljs-keyword">...</span>
$ cd simplegit/
$ vim TODO
$ git commit -am <span class="hljs-string">'add reset task'</span>
[master fbff5bc] add reset task
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">0</span> deletions(-)
</code></pre><p>Jessica nyní odešle svou práci na server:</p>
<pre><code><span class="hljs-comment"># Jessica's Machine</span>
$ git push origin master
<span class="hljs-keyword">...</span>
To jessica@githost:simplegit.git
   1edee6b..fbff5bc  master -&gt; master
</code></pre><p>Také John se pokusí odeslat své změny na server:</p>
<pre><code><span class="hljs-preprocessor"># John's Machine</span>
$ git push origin master
<span class="hljs-keyword">To</span> john@githost:simplegit.git
 ! [rejected]        master -&gt; master (non-fast forward)
<span class="hljs-keyword">error</span>: failed <span class="hljs-keyword">to</span> push some refs <span class="hljs-keyword">to</span> <span class="hljs-comment">'john@githost:simplegit.git'</span>
</code></pre><p>John nyní nesmí odeslat revize, protože mezitím odeslala své změny Jessica. To je třeba si uvědomit, zejména pokud jste zvyklí na systém Subversion. Oba vývojáři totiž neupravovali stejný soubor. Přestože Subversion provádí takové sloučení na serveru automaticky, pokud byly upraveny různé soubory, v systému Git musíte provést sloučení lokálně. John musí vyzvednout změny, které provedla Jessica, a začlenit je do své práce, než ji bude moci odeslat:</p>
<pre><code>$ git fetch origin
<span class="hljs-keyword">...</span>
From john@githost:simplegit
 + 049d078...fbff5bc master     -&gt; origin/master
</code></pre><p>V tomto okamžiku vypadá Johnův lokální repozitář jako na obrázku 5-4.</p>
<p><img src="http://git-scm.com/figures/18333fig0504-tn.png" alt=""></p>
<p>Obrázek 5-4. Johnův výchozí repozitář</p>
<p>John má referenci ke změnám, které odeslala Jessica, ale než bude moci sám odeslat svá data, bude muset začlenit její práci:</p>
<pre><code>$ git <span class="hljs-operator"><span class="hljs-keyword">merge</span> origin/master
<span class="hljs-keyword">Merge</span> made <span class="hljs-keyword">by</span> recursive.
 TODO |    <span class="hljs-number">1</span> +
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">0</span> deletions(-)</span>
</code></pre><p>Sloučení probíhá hladce, Johnova historie revizí teď vypadá jako na obrázku 5-5.</p>
<p><img src="http://git-scm.com/figures/18333fig0505-tn.png" alt=""></p>
<p>Obrázek 5-5. Johnův repozitář po začlenění větve origin/master</p>
<p>John nyní může otestovat svůj kód, aby se ujistil, že stále pracuje správně, a pak může odeslat svou novou sloučenou práci na server:</p>
<pre><code>$ git push origin master
<span class="hljs-keyword">...</span>
To john@githost:simplegit.git
   fbff5bc..72bbc59  master -&gt; master
</code></pre><p>Johnova historie revizí bude nakonec vypadat jako na obrázku 5-6.</p>
<p><img src="http://git-scm.com/figures/18333fig0506-tn.png" alt=""></p>
<p>Obrázek 5-6. Johnova historie po odeslání revize na server origin</p>
<p>Jessica mezitím pracovala na tematické větvi. Vytvořila tematickou větev s názvem <code>issue54</code> a zapsala do ní tři revize. Zatím ještě nevyzvedla Johnovy změny, a proto její historie revizí vypadá jako na obrázku 5-7.</p>
<p><img src="http://git-scm.com/figures/18333fig0507-tn.png" alt=""></p>
<p>Obrázek 5-7. Výchozí historie revizí – Jessica</p>
<p>Jessica chce synchronizovat svou práci s Johnem, a proto vyzvedne jeho data:</p>
<pre><code><span class="hljs-comment"># Jessica's Machine</span>
$ git fetch origin
<span class="hljs-keyword">...</span>
From jessica@githost:simplegit
   fbff5bc..72bbc59  master     -&gt; origin/master
</code></pre><p>Tím stáhne práci, kterou mezitím odeslal John. Historie revizí Jessicy teď vypadá jako na obrázku 5-8.</p>
<p><img src="http://git-scm.com/figures/18333fig0508-tn.png" alt=""></p>
<p>Obrázek 5-8. Historie Jessicy po vyzvednutí Johnových změn</p>
<p>Jessica považuje svou tematickou větev za dokončenou, ale chce vědět, do čeho má svou práci začlenit, aby mohla změny odeslat. Spustí proto příkaz <code>git log</code>:</p>
<pre><code>$ git log <span class="hljs-comment">--no-merges origin/master ^issue54</span>
<span class="hljs-operator"><span class="hljs-keyword">commit</span> <span class="hljs-number">738</span>ee872852dfaa9d6634e0dea7a324040193016
Author: John Smith &lt;jsmith@example.com&gt;
<span class="hljs-keyword">Date</span>:   Fri May <span class="hljs-number">29</span> <span class="hljs-number">16</span>:<span class="hljs-number">01</span>:<span class="hljs-number">27</span> <span class="hljs-number">2009</span> -<span class="hljs-number">0700</span>

    removed invalid <span class="hljs-keyword">default</span> <span class="hljs-keyword">value</span></span>
</code></pre><p>Jessica nyní může začlenit tematickou větev do své hlavní větve, tamtéž začlenit i Johnovu práci (<code>origin/master</code>) do své větve <code>master</code> a vše odeslat zpět na server. Nejprve se přepne zpět na svou hlavní větev, aby do ní mohla vše integrovat:</p>
<pre><code>$ git checkout master
Switched <span class="hljs-keyword">to</span> branch <span class="hljs-string">"master"</span>
Your branch <span class="hljs-keyword">is</span> <span class="hljs-keyword">behind</span> 'origin/master' <span class="hljs-keyword">by</span> <span class="hljs-number">2</span> commits, <span class="hljs-keyword">and</span> can be fast-forwarded.
</code></pre><p>Jako první může začlenit buď větev <code>origin/master</code> nebo <code>issue54</code>. Obě směřují vpřed, a tak jejich pořadí nehraje žádnou roli. Konečný snímek bude stejný, ať zvolí jakékoli pořadí, mírně se bude lišit jen historie revizí. Jessica se rozhodne začlenit jako první větev <code>issue54</code>:</p>
<pre><code>$ git merge issue54
Updating fbff5bc..<span class="hljs-number">4</span>af4298
Fast forward
 README           <span class="hljs-string">|    1 +</span>
 lib/simplegit.rb <span class="hljs-string">|    6 +++++-</span>
 <span class="hljs-number">2</span> files changed, <span class="hljs-number">6</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>Tento postup je bezproblémový. Jak vidíte, šlo o jednoduchý posun „rychle vpřed“. Nyní Jessica začlení Johnovu práci (<code>origin/master</code>):</p>
<pre><code>$ git merge origin/master
<span class="hljs-keyword">Auto</span>-merging <span class="hljs-keyword">lib</span>/simplegit.rb
Merge made <span class="hljs-keyword">by</span> recursive.
 <span class="hljs-keyword">lib</span>/simplegit.rb |    <span class="hljs-number">2</span> +-
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>Začlenění proběhne čistě a historie Jessicy bude vypadat jako na obrázku 5-9.</p>
<p><img src="http://git-scm.com/figures/18333fig0509-tn.png" alt=""></p>
<p>Obrázek 5-9. Historie Jessicy po začlenění Johnových změn</p>
<p>Větev <code>origin/master</code> teď má Jessica dostupnou ze své větve <code>master</code>, takže může svou práci úspěšně odeslat (za předpokladu, že John mezitím neodeslal další revize):</p>
<pre><code>$ git push origin master
<span class="hljs-keyword">...</span>
To jessica@githost:simplegit.git
   72bbc59..8059c15  master -&gt; master
</code></pre><p>Všichni vývojáři zapsali několik revizí a úspěšně začlenili práci ostatních do své – viz obrázek 5-10.</p>
<p><img src="http://git-scm.com/figures/18333fig0510-tn.png" alt=""></p>
<p>Obrázek 5-10. Historie Jessicy po odeslání všech změn zpět na server</p>
<p>Toto je jeden z nejjednodušších pracovních postupů. Po určitou dobu pracujete, obvykle na nějaké tematické větvi, a když je připravena k integraci, začleníte ji do hlavní větve. Chcete-li tuto práci sdílet, začleníte ji do své hlavní větve. Poté vyzvednete a začleníte větev <code>origin/master</code>, jestliže se změnila. Nakonec odešlete všechna data do větve <code>master</code> na serveru. Obecná posloupnost kroků je naznačena na obrázku 5-11.</p>
<p><img src="http://git-scm.com/figures/18333fig0511-tn.png" alt=""></p>
<p>Obrázek 5-11. Obecná posloupnost kroků u jednoduchého pracovního postupu s více vývojáři v systému Git</p>
<h2 id="soukrom-zen-t-m">Soukromý řízený tým</h2>
<p>V následujícím scénáři se podíváme na role přispěvatelů ve větší soukromé skupině. Naučíte se, jak pracovat v prostředí, v němž na jednotlivých úkolech spolupracují malé skupiny a tyto týmové příspěvky jsou poté integrovány druhou stranou.</p>
<p>Řekněme, že John a Jessica spolupracují na jednom úkolu a Jessica a Josie spolupracují na jiném. Společnost v tomto případě používá typ pracovního postupu s integračním manažerem, kdy práci jednotlivých skupin integrují pouze někteří technici a větev <code>master</code> hlavního repozitáře mohou aktualizovat pouze oni. V tomto scénáři se veškerá práce provádí ve větvích jednotlivých týmů a později je spojována zprostředkovateli integrace.</p>
<p>Sledujme pracovní postup Jessicy pracující na dvou úkolech a spolupracující v tomto prostředí paralelně s dvěma různými vývojáři. Protože už má naklonovaný repozitář, rozhodne se pracovat nejprve na úkolu A – <code>featureA</code>. Vytvoří si pro něj novou větev a udělá v ní určité penzum práce.</p>
<pre><code># Jessica<span class="hljs-attribute">'s</span> Machine
$ git checkout -b featureA
Switched <span class="hljs-keyword">to</span> a <span class="hljs-keyword">new</span> branch <span class="hljs-string">"featureA"</span>
$ vim lib/simplegit.rb
$ git commit -am <span class="hljs-attribute">'add</span> limit <span class="hljs-keyword">to</span> log <span class="hljs-keyword">function</span>'
[featureA <span class="hljs-number">3300904</span>] add limit <span class="hljs-keyword">to</span> log <span class="hljs-keyword">function</span>
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>V tomto okamžiku potřebuje sdílet svou práci s Johnem, a tak odešle revize své větve <code>featureA</code> na server. Jessica nemá oprávnění pro odesílání dat do větve <code>master</code> (ten mají pouze zprostředkovatelé integrace), a proto musí své revize odeslat do jiné větve, aby mohla s Johnem spolupracovat:</p>
<pre><code>$ git push origin featureA
<span class="hljs-keyword">...</span>
To jessica@githost:simplegit.git
 * [new branch]      featureA -&gt; featureA
</code></pre><p>Jessica pošle Johnovi e-mail s informací, že odeslala svou práci do větve pojmenované <code>featureA</code> a že se na ni může podívat. Zatímco čeká na zpětnou vazbu od Johna, rozhodne se, že začne pracovat spolu s Josie na úkolu <code>featureB</code>. Začne tím, že založí novou větev, která bude založena na větvi <code>master</code> ze serveru:</p>
<pre><code><span class="hljs-comment"># Jessica's Machine</span>
$ git fetch origin
$ git checkout -b featureB origin/master
Switched <span class="hljs-built_in">to</span> <span class="hljs-operator">a</span> <span class="hljs-built_in">new</span> branch <span class="hljs-string">"featureB"</span>
</code></pre><p>Jessica nyní vytvoří několik revizí ve větvi <code>featureB</code>:</p>
<pre><code><span class="hljs-variable">$ </span>vim lib/simplegit.rb
<span class="hljs-variable">$ </span>git commit -am <span class="hljs-string">'made the ls-tree function recursive'</span>
[featureB e5b0fdc] made the ls-tree function recursive
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
<span class="hljs-variable">$ </span>vim lib/simplegit.rb
<span class="hljs-variable">$ </span>git commit -am <span class="hljs-string">'add ls-files'</span>
[featureB <span class="hljs-number">8512791</span>] add ls-files
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">5</span> insertions(+), <span class="hljs-number">0</span> deletions(-)
</code></pre><p>Repozitář Jessicy vypadá jako na obrázku 5-12.</p>
<p><img src="http://git-scm.com/figures/18333fig0512-tn.png" alt=""></p>
<p>Obrázek 5-12. Výchozí historie revizí – Jessica</p>
<p>Jessica je připravena odeslat svou práci, ale dostane e-mail od Josie, že již na server odeslala větev <code>featureBee</code>, v níž už je část práce hotová. Než bude Jessica moci odeslat svou práci na server, bude do ní nejprve muset začlenit práci Josie. Změny, které Josie provedla, vyzvedne příkazem <code>git fetch</code>:</p>
<pre><code>$ git fetch origin
<span class="hljs-keyword">...</span>
From jessica@githost:simplegit
 * [new branch]      featureBee -&gt; origin/featureBee
</code></pre><p>Nyní může Jessica začlenit tyto změny do své práce pomocí příkazu <code>git merge</code>:</p>
<pre><code>$ git merge origin/featureBee
<span class="hljs-keyword">Auto</span>-merging <span class="hljs-keyword">lib</span>/simplegit.rb
Merge made <span class="hljs-keyword">by</span> recursive.
 <span class="hljs-keyword">lib</span>/simplegit.rb |    <span class="hljs-number">4</span> ++++
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">4</span> insertions(+), <span class="hljs-number">0</span> deletions(-)
</code></pre><p>Tady nastává určitý problém. Musí odeslat práci začleněnou ve své větvi <code>featureB</code> do větve <code>featureBee</code> na serveru. Může tak učinit příkazem <code>git push</code> s určením lokální větve, za níž bude následovat dvojtečka (:) a za ní vzdálená větev:</p>
<pre><code>$ git push origin featureB:featureBee
<span class="hljs-keyword">...</span>
To jessica@githost:simplegit.git
   fba9af8..cd685d1  featureB -&gt; featureBee
</code></pre><p>Říká se tomu refspec. Více o vzorcích refspec systému Git a různých možnostech, k nimž je lze využít, najdete v kapitole 9.</p>
<p>Poté pošle John Jessice e-mail, že odeslal několik změn do větve <code>featureA</code>, a poprosí ji, aby je ověřila. Jessica spustí příkaz <code>git fetch</code>, jímž tyto změny stáhne.</p>
<pre><code>$ git fetch origin
<span class="hljs-keyword">...</span>
From jessica@githost:simplegit
   <span class="hljs-number">3300904.</span>.aad881d  featureA   -&gt; origin/featureA
</code></pre><p>Poté si může příkazem <code>git log</code> prohlédnout, co všechno bylo změněno:</p>
<pre><code>$ git log origin/featureA ^featureA
<span class="hljs-operator"><span class="hljs-keyword">commit</span> aad881d154acdaeb2b6b18ea0e827ed8a6d671e6
Author: John Smith &lt;jsmith@example.com&gt;
<span class="hljs-keyword">Date</span>:   Fri May <span class="hljs-number">29</span> <span class="hljs-number">19</span>:<span class="hljs-number">57</span>:<span class="hljs-number">33</span> <span class="hljs-number">2009</span> -<span class="hljs-number">0700</span>

    changed log <span class="hljs-keyword">output</span> <span class="hljs-keyword">to</span> <span class="hljs-number">30</span> <span class="hljs-keyword">from</span> <span class="hljs-number">25</span></span>
</code></pre><p>Nakonec začlení Johnovu práci do své vlastní větve <code>featureA</code>:</p>
<pre><code>$ git checkout featureA
Switched <span class="hljs-built_in">to</span> branch <span class="hljs-string">"featureA"</span>
$ git <span class="hljs-built_in">merge</span> origin/featureA
Updating <span class="hljs-number">3300904.</span>.aad881d
Fast forward
 lib/simplegit.rb |   <span class="hljs-number">10</span> +++++++++-
<span class="hljs-number">1</span> <span class="hljs-built_in">files</span> changed, <span class="hljs-number">9</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>Jessica by ráda něco vylepšila, a proto vytvoří novou revizi a odešle ji zpět na server:</p>
<pre><code>$ git commit -am <span class="hljs-string">'small tweak'</span>
[featureA 774b3ed] small tweak
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
$ git push origin featureA
<span class="hljs-keyword">...</span>
To jessica@githost:simplegit.git
   <span class="hljs-number">3300904.</span>.774b3ed  featureA -&gt; featureA
</code></pre><p>Historie revizí Jessicy bude nyní vypadat jako na obrázku 5-13.</p>
<p><img src="http://git-scm.com/figures/18333fig0513-tn.png" alt=""></p>
<p>Obrázek 5-13. Historie Jessicy po zapsání revizí do větve s úkolem</p>
<p>Jessica, Josie a John pošlou zprávu zprostředkovatelům integrace, že větve <code>featureA</code> a <code>featureBee</code> jsou na serveru připraveny k integraci do hlavní linie. Poté, co budou tyto větve do hlavní linie integrovány, vyzvednutím dat bude možné stáhnout nové revize vzniklé začleněním změn a historie revizí bude vypadat jako na obrázku 5-14.</p>
<p><img src="http://git-scm.com/figures/18333fig0514-tn.png" alt=""></p>
<p>Obrázek 5-14. Historie Jessicy po začlenění obou jejích tematických větví</p>
<p>Mnoho skupin přechází na systém Git právě kvůli této možnosti paralelní spolupráce několika týmů a následného slučování různých linií práce. Možnost, aby několik menších podskupin jednoho týmu spolupracovalo prostřednictvím vzdálených větví a aby si práce nevyžádala účast celého týmu nebo nebránila ostatním v jiné práci, je velkou devízou systému Git. Posloupnost kroků vypadá v případě pracovního postupu, který jsme si právě ukázali, jako na obrázku 5-15.</p>
<p><img src="http://git-scm.com/figures/18333fig0515-tn.png" alt=""></p>
<p>Obrázek 5-15. Základní posloupnost kroků u pracovního postupu v řízeném týmu</p>
<h2 id="mal-ve-ejn-projekt">Malý veřejný projekt</h2>
<p>Přispívání do veřejných projektů se poněkud liší. Protože nemáte oprávnění aktualizovat větve projektu přímo, musíte svou práci doručit správcům jinak. První příklad popisuje, jak se přispívá s využitím rozštěpení na hostitelských serverech Git, které podporují snadné štěpení. Jak server repo.or.cz, tak místa pro hostování podporují štěpení a mnoho správců projektů tento styl přispívání vyžaduje. Další část se pak zabývá projekty, u nichž je upřednostňováno doručování záplat e-mailem.</p>
<p>Nejprve patrně bude nutné, abyste naklonovali hlavní repozitář, vytvořili tematickou větev pro záplatu nebo sérii záplat, které hodláte vytvořit, a udělali v nich zamýšlenou práci. Posloupnost příkazů bude tedy následující:</p>
<pre><code><span class="hljs-variable">$ </span>git clone (url)
<span class="hljs-variable">$ </span>cd project
<span class="hljs-variable">$ </span>git checkout -b featureA
<span class="hljs-variable">$ </span>(work)
<span class="hljs-variable">$ </span>git commit
<span class="hljs-variable">$ </span>(work)
<span class="hljs-variable">$ </span>git commit
</code></pre><p>Možná budete chtít využít příkaz <code>rebase -i</code> a zkomprimovat svou práci do jediné revize nebo přeorganizovat práci v revizích tak, aby byla kontrola záplaty pro správce jednodušší – další informace o interaktivním přeskládání najdete v kapitole 6.</p>
<p>Až budete s prací ve větvi hotovi a budete ji chtít poslat zpět správcům, přejděte na původní stránku projektu a klikněte na tlačítko „Fork“, jímž vytvoříte vlastní odštěpenou větev projektu, do níž budete moci zapisovat. Poté bude třeba, abyste tuto novou adresu URL repozitáře přidali jako druhý vzdálený repozitář, v tomto případě pojmenovaný <code>myfork</code>:</p>
<pre><code><span class="hljs-variable">$ </span>git remote add myfork (url)
</code></pre><p>Do něj teď musíte odeslat svou práci. Lepším řešením bude odeslat vzdálenou větev, na níž pracujete, do svého repozitáře, než ji začlenit do hlavní větve a tu pak celou odeslat. Důvod je prostý: pokud nebude vaše práce přijata nebo bude převzata částečně, nebudete muset vracet změny začleněné do vaší hlavní větve. Pokud správci začlení či přeskládají vaši práci (nebo její část), získáte ji zpět stažením z repozitáře:</p>
<pre><code><span class="hljs-variable">$ </span>git push myfork featureA
</code></pre><p>Až svou práci odešlete do odštěpené větve, budete na ni muset upozornit správce. Tomu se říká „žádost o natažení“ (angl. pull request). Můžete ji vygenerovat buď na webové stránce – server GitHub má tlačítko „pull request“, které automaticky odešle správci upozornění – nebo můžete zadat příkaz <code>git request-pull</code> a jeho výstup e-mailem ručně odeslat správci projektu.</p>
<p>Příkaz <code>request-pull</code> vezme základní větev (základnu), do níž chcete natáhnout svou tematickou větev, a adresu URL repozitáře Git, z nějž chcete práci natáhnout, a vytvoří shrnutí všech změn, které by měl správce podle vaší žádosti natáhnout. Pokud chce například Jessica poslat Johnovi žádost o natažení a vytvořila předtím dvě revize v tematické větvi, kterou právě odeslala, může zadat tento příkaz:</p>
<pre><code>$ git request-pull origin/master myfork
The following changes since commit <span class="hljs-number">1</span>edee6b1d61823a2de3b09c160d7080b8d1b3a40:
  John Smith (<span class="hljs-number">1</span>):
        added <span class="hljs-operator">a</span> <span class="hljs-built_in">new</span> <span class="hljs-function"><span class="hljs-keyword">function</span></span>

are available <span class="hljs-operator">in</span> <span class="hljs-operator">the</span> git repository <span class="hljs-keyword">at</span>:

  git://githost/simplegit.git featureA

Jessica Smith (<span class="hljs-number">2</span>):
      <span class="hljs-built_in">add</span> limit <span class="hljs-built_in">to</span> <span class="hljs-built_in">log</span> <span class="hljs-function"><span class="hljs-keyword">function</span></span>
      change <span class="hljs-built_in">log</span> output <span class="hljs-built_in">to</span> <span class="hljs-number">30</span> <span class="hljs-built_in">from</span> <span class="hljs-number">25</span>

 lib/simplegit.rb |   <span class="hljs-number">10</span> +++++++++-
 <span class="hljs-number">1</span> <span class="hljs-built_in">files</span> changed, <span class="hljs-number">9</span> insertions(+), <span class="hljs-number">1</span> deletions(-)
</code></pre><p>Výstup příkazu lze odeslat správci. Sdělí mu, odkud daná větev pochází, podá mu přehled o revizích a řekne mu, odkud lze práci stáhnout.</p>
<p>U projektů, u nichž nejste v roli správce, je většinou jednodušší, aby vaše větev <code>master</code> stále sledovala větev <code>origin/master</code> a abyste práci prováděli v tematických větvích, jichž se můžete beze všeho vzdát v případě, že budou odmítnuty. Jednotlivé úkoly izolované v tematických větvích mají také tu výhodu, že snáze přeskládáte svou práci, jestliže se průběžně posouvá konec hlavního repozitáře a vaše revize už nelze aplikovat čistě. Pokud například chcete do projektu přispět druhým tématem, nerozvíjejte svou práci v tematické větvi, kterou jste právě odeslali. Začněte znovu od začátku z větve <code>master</code> hlavního repozitáře:</p>
<pre><code><span class="hljs-variable">$ </span>git checkout -b featureB origin/master
<span class="hljs-variable">$ </span>(work)
<span class="hljs-variable">$ </span>git commit
<span class="hljs-variable">$ </span>git push myfork featureB
<span class="hljs-variable">$ </span>(email maintainer)
<span class="hljs-variable">$ </span>git fetch origin
</code></pre><p>Nyní mají obě vaše témata samostatný zásobník – podobně jako řada záplat – které můžete přepsat, přeskládat a upravit, aniž by se tím obě témata navzájem ovlivňovala nebo omezovala (viz obrázek 5-16).</p>
<p><img src="http://git-scm.com/figures/18333fig0516-tn.png" alt=""></p>
<p>Obrázek 5-16. Výchozí historie revizí s větví featureB</p>
<p>Řekněme, že správce projektu natáhl do projektu několik jiných záplat a nyní vyzkoušel vaši první větev, jenže tu už nelze čistě začlenit. V takovém případě můžete zkusit přeskládat tuto větev na vrcholu větve <code>origin/master</code>, vyřešit za správce vzniklé konflikty a poté své změny ještě jednou odeslat:</p>
<pre><code><span class="hljs-variable">$ </span>git checkout featureA
<span class="hljs-variable">$ </span>git rebase origin/master
<span class="hljs-variable">$ </span>git push -f myfork featureA
</code></pre><p>Tím přepíšete svou historii, která teď bude vypadat jako na obrázku 5-17.</p>
<p><img src="http://git-scm.com/figures/18333fig0517-tn.png" alt=""></p>
<p>Obrázek 5-17. Historie revizí s větví featureA</p>
<p>Protože jste větev přeskládali, musíte k příkazu git push přidat parametr <code>-f</code>, abyste mohli větev <code>featureA</code> na serveru nahradit revizí, která není jejím potomkem. Druhou možností je odeslat tuto novou práci do jiné větve na serveru (nazvané např. <code>featureAv2</code>).</p>
<p>Podívejme se ještě na jeden pravděpodobnější scénář: Správce se podíval na práci ve vaší druhé větvi, váš koncept se mu líbí, ale rád by, abyste změnili jeden implementační detail. Vy tuto příležitost využijete zároveň k tomu, abyste práci přesunuli tak, aby byla založena na aktuálním stavu projektu ve větvi <code>master</code>. Začnete vytvořením nové větve z aktuální větve <code>origin/master</code>, zkomprimujete do ní změny z větve <code>featureB</code>, vyřešíte všechny konflikty, provedete změnu v implementaci a to vše odešlete jako novou větev:</p>
<pre><code><span class="hljs-variable">$ </span>git checkout -b featureBv2 origin/master
<span class="hljs-variable">$ </span>git merge --no-commit --squash featureB
<span class="hljs-variable">$ </span>(change implementation)
<span class="hljs-variable">$ </span>git commit
<span class="hljs-variable">$ </span>git push myfork featureBv2
</code></pre><p>Parametr <code>--squash</code> (komprimovat) vezme všechnu vaši práci v začleněné větvi a zkomprimuje ji do jedné revize, která nevznikla jako výsledek sloučení a leží na vrcholu větve, na níž se právě nacházíte. Parametr <code>--no-commit</code> říká systému Git, aby revizi automaticky nezaznamenával. To vám umožní provést všechny změny z jiné větve a poté udělat více změn, než zaznamenáte novou revizi.</p>
<p>Nyní můžete správci oznámit, že jste provedli požadované změny a že je najde ve vaší větvi <code>featureBv2</code> (viz obrázek 5-18).</p>
<p><img src="http://git-scm.com/figures/18333fig0518-tn.png" alt=""></p>
<p>Obrázek 5-18. Historie revizí s větví featureBv2</p>
<h2 id="velk-ve-ejn-projekt">Velký veřejný projekt</h2>
<p>Mnoho větších projektů si vytvořilo vlastní, odlišné procedury k doručování záplat. U každého projektu se tak budete muset informovat o konkrétních pravidlech. U mnoha větších veřejných projektů se však záplaty doručují na základě poštovní konference vývojářů, a proto se teď zaměřím na tento případ.</p>
<p>Pracovní postup je podobný jako v předchozím případě. Pro každou sérii záplat, na níž pracujete, vytvoříte samostatnou tematickou větev. Liší se to, jak je budete doručovat do projektu. Místo toho, abyste rozštěpili projekt a odeslali své změny do vlastní zapisovatelné verze, vygenerujete e-mailovou verzi každé série revizí a pošlete je e-mailem do poštovní konference vývojářů:</p>
<pre><code><span class="hljs-variable">$ </span>git checkout -b topicA
<span class="hljs-variable">$ </span>(work)
<span class="hljs-variable">$ </span>git commit
<span class="hljs-variable">$ </span>(work)
<span class="hljs-variable">$ </span>git commit
</code></pre><p>Nyní máte dvě revize, které chcete odeslat do poštovní konference. Pro vygenerování emailových zpráv ve formátu mbox použijte příkaz <code>git format-patch</code>. Každá revize se přetransformuje na e-mailovou zprávu, jejíž předmět bude tvořit první řádek zprávy k revizi a tělo e-mailu bude tvořeno zbytkem zprávy a samotnou záplatou. Výhodou tohoto postupu je, že aplikace záplaty z e-mailu, který byl vygenerován příkazem <code>format-patch</code>, v pořádku uchová všechny informace o revizi. Podrobněji si to ukážeme v následující části, až budeme aplikovat tyto revize:</p>
<pre><code>$ git format<span class="hljs-attribute">-patch</span> <span class="hljs-attribute">-M</span> origin/master
<span class="hljs-number">0001</span><span class="hljs-attribute">-add</span><span class="hljs-attribute">-limit</span><span class="hljs-attribute">-to</span><span class="hljs-attribute">-log</span><span class="hljs-attribute">-function</span><span class="hljs-built_in">.</span>patch
<span class="hljs-number">0002</span><span class="hljs-attribute">-changed</span><span class="hljs-attribute">-log</span><span class="hljs-attribute">-output</span><span class="hljs-attribute">-to</span><span class="hljs-subst">-</span><span class="hljs-number">30</span><span class="hljs-attribute">-from</span><span class="hljs-subst">-</span><span class="hljs-number">25.</span>patch
</code></pre><p>Příkaz <code>format-patch</code> vypíše názvy souborů záplaty, kterou vytváří. Přepínač <code>-M</code> řekne systému Git, aby zkontroloval případné přejmenování. Soubory nakonec vypadají takto:</p>
<pre><code>$ cat <span class="hljs-number">0001</span>-<span class="hljs-built_in">add</span>-limit-<span class="hljs-built_in">to</span>-<span class="hljs-built_in">log</span>-<span class="hljs-function"><span class="hljs-keyword">function</span>.<span class="hljs-title">patch</span></span>
From <span class="hljs-number">330090432754092</span>d704da8e76ca5c05c198e71a8 Mon Sep <span class="hljs-number">17</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> <span class="hljs-number">2001</span>
From: Jessica Smith &lt;jessica@example.com&gt;
Date: Sun, <span class="hljs-number">6</span> Apr <span class="hljs-number">2008</span> <span class="hljs-number">10</span>:<span class="hljs-number">17</span>:<span class="hljs-number">23</span> -<span class="hljs-number">0700</span>
Subject: [PATCH <span class="hljs-number">1</span>/<span class="hljs-number">2</span>] <span class="hljs-built_in">add</span> limit <span class="hljs-built_in">to</span> <span class="hljs-built_in">log</span> <span class="hljs-function"><span class="hljs-keyword">function</span></span>

Limit <span class="hljs-built_in">log</span> functionality <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> <span class="hljs-keyword">first</span> <span class="hljs-number">20</span>

<span class="hljs-comment">---</span>
 lib/simplegit.rb |    <span class="hljs-number">2</span> +-
 <span class="hljs-number">1</span> <span class="hljs-built_in">files</span> changed, <span class="hljs-number">1</span> insertions(+), <span class="hljs-number">1</span> deletions(-)

diff <span class="hljs-comment">--git a/lib/simplegit.rb b/lib/simplegit.rb</span>
index <span class="hljs-number">76</span>f47bc..f9815f1 <span class="hljs-number">100644</span>
<span class="hljs-comment">--- a/lib/simplegit.rb</span>
+++ b/lib/simplegit.rb
@@ -<span class="hljs-number">14</span>,<span class="hljs-number">7</span> +<span class="hljs-number">14</span>,<span class="hljs-number">7</span> @@ class SimpleGit
   <span class="hljs-function"><span class="hljs-keyword">end</span></span>

   def <span class="hljs-built_in">log</span>(treeish = <span class="hljs-string">'master'</span>)
-    <span class="hljs-command"><span class="hljs-keyword">command</span>(<span class="hljs-string">"git log #{treeish}"</span>)</span>
+    <span class="hljs-command"><span class="hljs-keyword">command</span>(<span class="hljs-string">"git log -n 20 #{treeish}"</span>)</span>
   <span class="hljs-function"><span class="hljs-keyword">end</span></span>

   def ls_tree(treeish = <span class="hljs-string">'master'</span>)
<span class="hljs-comment">--</span>
<span class="hljs-number">1.6</span><span class="hljs-number">.2</span>.rc1<span class="hljs-number">.20</span>.g8c5b.dirty
</code></pre><p>Tyto soubory záplaty můžete také upravit a přidat k nim další informace určené pro seznam příjemců e-mailu, u nichž nechcete, aby byly obsaženy ve zprávě k revizi. Přidáte-li text mezi řádek <code>---</code> a začátek záplaty (řádek <code>lib/simplegit.rb</code>), vývojářům se zobrazí, ale aplikace záplaty ho obsahovat nebude.</p>
<p>Chcete-li e-mail odeslat do poštovní konference, můžete soubor buď vložit do svého e-mailového programu, nebo ho odeslat pomocí příkazového řádku. Vložení textu může často způsobovat problémy s formátováním, zvlášť v případě některých „chytřejších“ klientů, kteří správně nezachovávají nové řádky a jiné prázdné znaky. Git naštěstí nabízí nástroj, který vám pomůže odeslat správně formátované patche pomocí protokolu IMAP. Já budu dokumentovat odeslání záplaty na příkladu Gmailu, který používám jako svého e-mailového agenta. Podrobné instrukce pro celou řadu poštovních programů najdete na konci již dříve zmíněného souboru <code>Documentation/SubmittingPatches</code> ve zdrojovém kódu systému Git.</p>
<p>Nejprve je třeba nastavit sekci „imap“ v souboru <code>~/.gitconfig</code>. Každou hodnotu můžete nastavit zvlášť pomocí série příkazů <code>git config</code> nebo můžete vložit hodnoty ručně. Na konci by ale měl váš soubor config vypadat přibližně takto:</p>
<pre><code>[imap]
  folder = <span class="hljs-string">"[Gmail]/Drafts"</span>
  host = imaps:<span class="hljs-comment">//imap.gmail.com</span>
  user = user<span class="hljs-annotation">@gmail</span>.com
  pass = p4ssw0rd
  port = <span class="hljs-number">993</span>
  sslverify = <span class="hljs-keyword">false</span>
</code></pre><p>Pokud váš server IMAP nepoužívá SSL, dva poslední řádky zřejmě nebudou vůbec třeba a hodnota hostitele bude <code>imap://</code>, a nikoli <code>imaps://</code>.
Až toto nastavení dokončíte, můžete použít příkaz <code>git send-email</code>, jímž umístíte sérii patchů do složky Koncepty (Drafts) zadaného serveru IMAP:</p>
<pre><code>$ git <span class="hljs-built_in">send</span>-email *.patch
<span class="hljs-number">0001</span>-added-limit-<span class="hljs-built_in">to</span>-<span class="hljs-built_in">log</span>-<span class="hljs-function"><span class="hljs-keyword">function</span>.<span class="hljs-title">patch</span></span>
<span class="hljs-number">0002</span>-changed-<span class="hljs-built_in">log</span>-output-<span class="hljs-built_in">to</span>-<span class="hljs-number">30</span>-<span class="hljs-built_in">from</span>-<span class="hljs-number">25.</span>patch
Who should <span class="hljs-operator">the</span> emails appear <span class="hljs-built_in">to</span> be <span class="hljs-built_in">from</span>? [Jessica Smith &lt;jessica@example.com&gt;]
Emails will be sent <span class="hljs-built_in">from</span>: Jessica Smith &lt;jessica@example.com&gt;
Who should <span class="hljs-operator">the</span> emails be sent <span class="hljs-built_in">to</span>? jessica@example.com
Message-ID <span class="hljs-built_in">to</span> be used <span class="hljs-keyword">as</span> In-Reply-To <span class="hljs-keyword">for</span> <span class="hljs-operator">the</span> <span class="hljs-keyword">first</span> email? y
</code></pre><p>Git poté vytvoří log s určitými informacemi, který bude pro každou záplatu, kterou posíláte, vypadat asi takto:</p>
<pre><code>(mbox) Adding cc: Jessica Smith &lt;jessica@example.com&gt; <span class="hljs-keyword">from</span>
  \line <span class="hljs-comment">'From: Jessica Smith <span class="hljs-xmlDocTag">&lt;jessica@example.com&gt;</span>'</span>
OK. Log says:
Sendmail: /usr/sbin/sendmail -i jessica@example.com
<span class="hljs-keyword">From</span>: Jessica Smith &lt;jessica@example.com&gt;
<span class="hljs-keyword">To</span>: jessica@example.com
Subject: [PATCH <span class="hljs-number">1</span>/<span class="hljs-number">2</span>] added limit <span class="hljs-keyword">to</span> log <span class="hljs-keyword">function</span>
<span class="hljs-built_in">Date</span>: Sat, <span class="hljs-number">30</span> May <span class="hljs-number">2009</span> <span class="hljs-number">13</span>:<span class="hljs-number">29</span>:<span class="hljs-number">15</span> -<span class="hljs-number">0700</span>
Message-Id: &lt;<span class="hljs-number">1243715356</span>-<span class="hljs-number">61726</span>-<span class="hljs-number">1</span>-git-send-email-jessica@example.com&gt;
X-Mailer: git-send-email <span class="hljs-number">1.6</span><span class="hljs-number">.2</span>.rc1<span class="hljs-number">.20</span>.g8c5b.dirty
<span class="hljs-keyword">In</span>-Reply-<span class="hljs-keyword">To</span>: &lt;y&gt;
References: &lt;y&gt;

Result: OK
</code></pre><p>V tomto okamžiku můžete přejít do své složky Koncepty, změnit pole Komu na adresáty z poštovní konference, jimž chcete záplatu odeslat, případně přidat kopii na správce nebo osobu odpovědnou za tuto část a e-mail odeslat.</p>
<h2 id="shrnut-">Shrnutí</h2>
<p>V této části jsme popsali několik obvyklých pracovních postupů při přispívání do velmi odlišných typů projektů Git, s nimiž se můžete setkat. Představili jsme k nim také nové nástroje, které vám mohou v těchto procesech pomoci. V další části se na projekty podíváme z té druhé strany – ukážeme, jak může vypadat jejich správa. Dozvíte se, jak být benevolentním diktátorem nebo integračním manažerem.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../distribuovany_charakter_systemu_git/distribuovane_pracovni_postupy.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../distribuovany_charakter_systemu_git/sprava_projektu.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        
    </body>
</html>
