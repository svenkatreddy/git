<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Konserwacja i Odzyskiwanie Danych | Learn Git</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="GitbookIO">
        <meta name="description" content="The entire Pro Git book.">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../mechanizmy_wewnetrzne_w_git/podsumowanie.html" />
        
        
        <link rel="prev" href="../mechanizmy_wewnetrzne_w_git/protokoly_transferu.html" />
        

        <meta property="og:title" content="Konserwacja i Odzyskiwanie Danych | Learn Git">
        <meta property="og:site_name" content="Learn Git">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/GitbookIO">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

        
        <link rel="stylesheet" href="../gitbook/style.css">
        
        
    </head>
    <body>
        
<div class="book" data-github="GitbookIO/git" data-level="9.7" data-basepath=".." data-revision="1396895622000">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="https://github.com/GitbookIO/git" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    <a href="https://github.com/GitbookIO/git/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/GitbookIO/git/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>


    <!-- Title -->
    <h1><a href="../" >Learn Git</a></h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        <li>
            <a href="https://github.com/GitbookIO" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/GitbookIO/git/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/GitbookIO/git/edit/master/mechanizmy_wewnetrzne_w_git/konserwacja_i_odzyskiwanie_danych.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="pierwsze_kroki/README.html">
                
                <a href="../pierwsze_kroki/README.html">
                    <i class="fa fa-check"></i> <b>1)</b> Pierwsze kroki
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="pierwsze_kroki/wprowadzenie_do_kontroli_wersji.html">
                            
                            <a href="../pierwsze_kroki/wprowadzenie_do_kontroli_wersji.html">
                                <i class="fa fa-check"></i> <b>1.1)</b> Wprowadzenie do kontroli wersji
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="pierwsze_kroki/krotka_historia_git.html">
                            
                            <a href="../pierwsze_kroki/krotka_historia_git.html">
                                <i class="fa fa-check"></i> <b>1.2)</b> Krótka historia Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="pierwsze_kroki/podstawy_git.html">
                            
                            <a href="../pierwsze_kroki/podstawy_git.html">
                                <i class="fa fa-check"></i> <b>1.3)</b> Podstawy Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="pierwsze_kroki/instalacja_git.html">
                            
                            <a href="../pierwsze_kroki/instalacja_git.html">
                                <i class="fa fa-check"></i> <b>1.4)</b> Instalacja Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="pierwsze_kroki/wstepna_konfiguracja_git.html">
                            
                            <a href="../pierwsze_kroki/wstepna_konfiguracja_git.html">
                                <i class="fa fa-check"></i> <b>1.5)</b> Wstępna konfiguracja Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.6" data-path="pierwsze_kroki/uzyskiwanie_pomocy.html">
                            
                            <a href="../pierwsze_kroki/uzyskiwanie_pomocy.html">
                                <i class="fa fa-check"></i> <b>1.6)</b> Uzyskiwanie pomocy
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.7" data-path="pierwsze_kroki/podsumowanie.html">
                            
                            <a href="../pierwsze_kroki/podsumowanie.html">
                                <i class="fa fa-check"></i> <b>1.7)</b> Podsumowanie
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="podstawy_gita/README.html">
                
                <a href="../podstawy_gita/README.html">
                    <i class="fa fa-check"></i> <b>2)</b> Podstawy Gita
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="podstawy_gita/pierwsze_repozytorium_gita.html">
                            
                            <a href="../podstawy_gita/pierwsze_repozytorium_gita.html">
                                <i class="fa fa-check"></i> <b>2.1)</b> Pierwsze repozytorium Gita
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="podstawy_gita/rejestrowanie_zmian_w_repozytorium.html">
                            
                            <a href="../podstawy_gita/rejestrowanie_zmian_w_repozytorium.html">
                                <i class="fa fa-check"></i> <b>2.2)</b> Rejestrowanie zmian w repozytorium
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="podstawy_gita/podglad_historii_rewizji.html">
                            
                            <a href="../podstawy_gita/podglad_historii_rewizji.html">
                                <i class="fa fa-check"></i> <b>2.3)</b> Podgląd historii rewizji
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.4" data-path="podstawy_gita/cofanie_zmian.html">
                            
                            <a href="../podstawy_gita/cofanie_zmian.html">
                                <i class="fa fa-check"></i> <b>2.4)</b> Cofanie zmian
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.5" data-path="podstawy_gita/praca_ze_zdalnym_repozytorium.html">
                            
                            <a href="../podstawy_gita/praca_ze_zdalnym_repozytorium.html">
                                <i class="fa fa-check"></i> <b>2.5)</b> Praca ze zdalnym repozytorium
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.6" data-path="podstawy_gita/tagowanie_etykietowanie.html">
                            
                            <a href="../podstawy_gita/tagowanie_etykietowanie.html">
                                <i class="fa fa-check"></i> <b>2.6)</b> Tagowanie (etykietowanie)
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.7" data-path="podstawy_gita/sztuczki_i_kruczki.html">
                            
                            <a href="../podstawy_gita/sztuczki_i_kruczki.html">
                                <i class="fa fa-check"></i> <b>2.7)</b> Sztuczki i kruczki
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.8" data-path="podstawy_gita/podsumowanie.html">
                            
                            <a href="../podstawy_gita/podsumowanie.html">
                                <i class="fa fa-check"></i> <b>2.8)</b> Podsumowanie
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="3" data-path="galezie_gita/README.html">
                
                <a href="../galezie_gita/README.html">
                    <i class="fa fa-check"></i> <b>3)</b> Gałęzie Gita
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="3.1" data-path="galezie_gita/czym_jest_galaz.html">
                            
                            <a href="../galezie_gita/czym_jest_galaz.html">
                                <i class="fa fa-check"></i> <b>3.1)</b> Czym jest gałąź
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.2" data-path="galezie_gita/podstawy_rozgaleziania_i_scalania.html">
                            
                            <a href="../galezie_gita/podstawy_rozgaleziania_i_scalania.html">
                                <i class="fa fa-check"></i> <b>3.2)</b> Podstawy rozgałęziania i scalania
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.3" data-path="galezie_gita/zarzadzanie_galeziami.html">
                            
                            <a href="../galezie_gita/zarzadzanie_galeziami.html">
                                <i class="fa fa-check"></i> <b>3.3)</b> Zarządzanie gałęziami
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.4" data-path="galezie_gita/sposoby_pracy_z_galeziami.html">
                            
                            <a href="../galezie_gita/sposoby_pracy_z_galeziami.html">
                                <i class="fa fa-check"></i> <b>3.4)</b> Sposoby pracy z gałęziami
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.5" data-path="galezie_gita/galezie_zdalne.html">
                            
                            <a href="../galezie_gita/galezie_zdalne.html">
                                <i class="fa fa-check"></i> <b>3.5)</b> Gałęzie zdalne
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.6" data-path="galezie_gita/zmiana_bazy.html">
                            
                            <a href="../galezie_gita/zmiana_bazy.html">
                                <i class="fa fa-check"></i> <b>3.6)</b> Zmiana bazy
                            </a>
                            
                        </li>
                    
                        <li  data-level="3.7" data-path="galezie_gita/podsumowanie.html">
                            
                            <a href="../galezie_gita/podsumowanie.html">
                                <i class="fa fa-check"></i> <b>3.7)</b> Podsumowanie
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="4" data-path="git_na_serwerze/README.html">
                
                <a href="../git_na_serwerze/README.html">
                    <i class="fa fa-check"></i> <b>4)</b> Git na serwerze
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="4.1" data-path="git_na_serwerze/protokoly.html">
                            
                            <a href="../git_na_serwerze/protokoly.html">
                                <i class="fa fa-check"></i> <b>4.1)</b> Protokoły
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.2" data-path="git_na_serwerze/uruchomienie_git_na_serwerze.html">
                            
                            <a href="../git_na_serwerze/uruchomienie_git_na_serwerze.html">
                                <i class="fa fa-check"></i> <b>4.2)</b> Uruchomienie Git na serwerze
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.3" data-path="git_na_serwerze/generacja_pary_kluczy_ssh.html">
                            
                            <a href="../git_na_serwerze/generacja_pary_kluczy_ssh.html">
                                <i class="fa fa-check"></i> <b>4.3)</b> Generacja pary kluczy SSH
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.4" data-path="git_na_serwerze/konfiguracja_serwera.html">
                            
                            <a href="../git_na_serwerze/konfiguracja_serwera.html">
                                <i class="fa fa-check"></i> <b>4.4)</b> Konfiguracja serwera
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.5" data-path="git_na_serwerze/dostep_publiczny.html">
                            
                            <a href="../git_na_serwerze/dostep_publiczny.html">
                                <i class="fa fa-check"></i> <b>4.5)</b> Dostęp publiczny
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.6" data-path="git_na_serwerze/gitolite.html">
                            
                            <a href="../git_na_serwerze/gitolite.html">
                                <i class="fa fa-check"></i> <b>4.6)</b> Gitolite
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.7" data-path="git_na_serwerze/git_demon.html">
                            
                            <a href="../git_na_serwerze/git_demon.html">
                                <i class="fa fa-check"></i> <b>4.7)</b> Git Demon
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.8" data-path="git_na_serwerze/hosting_gita.html">
                            
                            <a href="../git_na_serwerze/hosting_gita.html">
                                <i class="fa fa-check"></i> <b>4.8)</b> Hosting Gita
                            </a>
                            
                        </li>
                    
                        <li  data-level="4.9" data-path="git_na_serwerze/podsumowanie.html">
                            
                            <a href="../git_na_serwerze/podsumowanie.html">
                                <i class="fa fa-check"></i> <b>4.9)</b> Podsumowanie
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="5" data-path="rozproszony_git/README.html">
                
                <a href="../rozproszony_git/README.html">
                    <i class="fa fa-check"></i> <b>5)</b> Rozproszony Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="5.1" data-path="rozproszony_git/rozproszone_przeplywy_pracy.html">
                            
                            <a href="../rozproszony_git/rozproszone_przeplywy_pracy.html">
                                <i class="fa fa-check"></i> <b>5.1)</b> Rozproszone przepływy pracy
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.2" data-path="rozproszony_git/wgrywanie_zmian_do_projektu.html">
                            
                            <a href="../rozproszony_git/wgrywanie_zmian_do_projektu.html">
                                <i class="fa fa-check"></i> <b>5.2)</b> Wgrywanie zmian do projektu
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.3" data-path="rozproszony_git/utrzymywanie_projektu.html">
                            
                            <a href="../rozproszony_git/utrzymywanie_projektu.html">
                                <i class="fa fa-check"></i> <b>5.3)</b> Utrzymywanie projektu
                            </a>
                            
                        </li>
                    
                        <li  data-level="5.4" data-path="rozproszony_git/podsumowanie.html">
                            
                            <a href="../rozproszony_git/podsumowanie.html">
                                <i class="fa fa-check"></i> <b>5.4)</b> Podsumowanie
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="6" data-path="narzedzia_gita/README.html">
                
                <a href="../narzedzia_gita/README.html">
                    <i class="fa fa-check"></i> <b>6)</b> Narzędzia Gita
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="6.1" data-path="narzedzia_gita/wskazywanie_rewizji.html">
                            
                            <a href="../narzedzia_gita/wskazywanie_rewizji.html">
                                <i class="fa fa-check"></i> <b>6.1)</b> Wskazywanie rewizji
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.2" data-path="narzedzia_gita/interaktywne_uzywanie_przechowali.html">
                            
                            <a href="../narzedzia_gita/interaktywne_uzywanie_przechowali.html">
                                <i class="fa fa-check"></i> <b>6.2)</b> Interaktywne używanie przechowali
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.3" data-path="narzedzia_gita/schowek.html">
                            
                            <a href="../narzedzia_gita/schowek.html">
                                <i class="fa fa-check"></i> <b>6.3)</b> Schowek
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.4" data-path="narzedzia_gita/przepisywanie_historii.html">
                            
                            <a href="../narzedzia_gita/przepisywanie_historii.html">
                                <i class="fa fa-check"></i> <b>6.4)</b> Przepisywanie Historii
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.5" data-path="narzedzia_gita/debugowanie_z_gitem.html">
                            
                            <a href="../narzedzia_gita/debugowanie_z_gitem.html">
                                <i class="fa fa-check"></i> <b>6.5)</b> Debugowanie z Gitem
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.6" data-path="narzedzia_gita/moduly_zalezne.html">
                            
                            <a href="../narzedzia_gita/moduly_zalezne.html">
                                <i class="fa fa-check"></i> <b>6.6)</b> Moduły zależne
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.7" data-path="narzedzia_gita/wlaczanie_innych_projektow.html">
                            
                            <a href="../narzedzia_gita/wlaczanie_innych_projektow.html">
                                <i class="fa fa-check"></i> <b>6.7)</b> Włączanie innych projektów
                            </a>
                            
                        </li>
                    
                        <li  data-level="6.8" data-path="narzedzia_gita/podsumowanie.html">
                            
                            <a href="../narzedzia_gita/podsumowanie.html">
                                <i class="fa fa-check"></i> <b>6.8)</b> Podsumowanie
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="7" data-path="dostosowywanie_gita/README.html">
                
                <a href="../dostosowywanie_gita/README.html">
                    <i class="fa fa-check"></i> <b>7)</b> Dostosowywanie Gita
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="7.1" data-path="dostosowywanie_gita/konfiguracja_gita.html">
                            
                            <a href="../dostosowywanie_gita/konfiguracja_gita.html">
                                <i class="fa fa-check"></i> <b>7.1)</b> Konfiguracja Gita
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.2" data-path="dostosowywanie_gita/git_attributes.html">
                            
                            <a href="../dostosowywanie_gita/git_attributes.html">
                                <i class="fa fa-check"></i> <b>7.2)</b> Git Attributes
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.3" data-path="dostosowywanie_gita/git_hooks.html">
                            
                            <a href="../dostosowywanie_gita/git_hooks.html">
                                <i class="fa fa-check"></i> <b>7.3)</b> Git Hooks
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.4" data-path="dostosowywanie_gita/an_example_git_enforced_policy.html">
                            
                            <a href="../dostosowywanie_gita/an_example_git_enforced_policy.html">
                                <i class="fa fa-check"></i> <b>7.4)</b> An Example Git-Enforced Policy
                            </a>
                            
                        </li>
                    
                        <li  data-level="7.5" data-path="dostosowywanie_gita/summary.html">
                            
                            <a href="../dostosowywanie_gita/summary.html">
                                <i class="fa fa-check"></i> <b>7.5)</b> Summary
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="8" data-path="git_i_inne_systemy/README.html">
                
                <a href="../git_i_inne_systemy/README.html">
                    <i class="fa fa-check"></i> <b>8)</b> Git i inne systemy
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="8.1" data-path="git_i_inne_systemy/git_i_subversion.html">
                            
                            <a href="../git_i_inne_systemy/git_i_subversion.html">
                                <i class="fa fa-check"></i> <b>8.1)</b> Git i Subversion
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.2" data-path="git_i_inne_systemy/migracja_do_gita.html">
                            
                            <a href="../git_i_inne_systemy/migracja_do_gita.html">
                                <i class="fa fa-check"></i> <b>8.2)</b> Migracja do Gita
                            </a>
                            
                        </li>
                    
                        <li  data-level="8.3" data-path="git_i_inne_systemy/podsumowanie.html">
                            
                            <a href="../git_i_inne_systemy/podsumowanie.html">
                                <i class="fa fa-check"></i> <b>8.3)</b> Podsumowanie
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="9" data-path="mechanizmy_wewnetrzne_w_git/README.html">
                
                <a href="../mechanizmy_wewnetrzne_w_git/README.html">
                    <i class="fa fa-check"></i> <b>9)</b> Mechanizmy wewnętrzne w Git
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="9.1" data-path="mechanizmy_wewnetrzne_w_git/komendy_plumbing_i_porcelain.html">
                            
                            <a href="../mechanizmy_wewnetrzne_w_git/komendy_plumbing_i_porcelain.html">
                                <i class="fa fa-check"></i> <b>9.1)</b> Komendy Plumbing i Porcelain
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.2" data-path="mechanizmy_wewnetrzne_w_git/obiekty_gita.html">
                            
                            <a href="../mechanizmy_wewnetrzne_w_git/obiekty_gita.html">
                                <i class="fa fa-check"></i> <b>9.2)</b> Obiekty Gita
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.3" data-path="mechanizmy_wewnetrzne_w_git/referencje_w_git.html">
                            
                            <a href="../mechanizmy_wewnetrzne_w_git/referencje_w_git.html">
                                <i class="fa fa-check"></i> <b>9.3)</b> Referencje w Git
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.4" data-path="mechanizmy_wewnetrzne_w_git/spakowane_pliki_packfiles.html">
                            
                            <a href="../mechanizmy_wewnetrzne_w_git/spakowane_pliki_packfiles.html">
                                <i class="fa fa-check"></i> <b>9.4)</b> Spakowane pliki (packfiles)
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.5" data-path="mechanizmy_wewnetrzne_w_git/refspec.html">
                            
                            <a href="../mechanizmy_wewnetrzne_w_git/refspec.html">
                                <i class="fa fa-check"></i> <b>9.5)</b> Refspec
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.6" data-path="mechanizmy_wewnetrzne_w_git/protokoly_transferu.html">
                            
                            <a href="../mechanizmy_wewnetrzne_w_git/protokoly_transferu.html">
                                <i class="fa fa-check"></i> <b>9.6)</b> Protokoły transferu
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.7" data-path="mechanizmy_wewnetrzne_w_git/konserwacja_i_odzyskiwanie_danych.html">
                            
                            <a href="../mechanizmy_wewnetrzne_w_git/konserwacja_i_odzyskiwanie_danych.html">
                                <i class="fa fa-check"></i> <b>9.7)</b> Konserwacja i Odzyskiwanie Danych
                            </a>
                            
                        </li>
                    
                        <li  data-level="9.8" data-path="mechanizmy_wewnetrzne_w_git/podsumowanie.html">
                            
                            <a href="../mechanizmy_wewnetrzne_w_git/podsumowanie.html">
                                <i class="fa fa-check"></i> <b>9.8)</b> Podsumowanie
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
    </ul>
</div>

    <div class="book-body" tabindex="-1">
        <div class="body-inner">
            <div class="page-wrapper">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 98.52941176470588%;min-width: 97.05882352941177%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../pierwsze_kroki/README.html" title="Pierwsze kroki" class="chapter done new-chapter" data-progress="1" style="left: 1.4705882352941178%;"></a>
    
        <a href="../pierwsze_kroki/wprowadzenie_do_kontroli_wersji.html" title="Wprowadzenie do kontroli wersji" class="chapter done " data-progress="1.1" style="left: 2.9411764705882355%;"></a>
    
        <a href="../pierwsze_kroki/krotka_historia_git.html" title="Krótka historia Git" class="chapter done " data-progress="1.2" style="left: 4.411764705882353%;"></a>
    
        <a href="../pierwsze_kroki/podstawy_git.html" title="Podstawy Git" class="chapter done " data-progress="1.3" style="left: 5.882352941176471%;"></a>
    
        <a href="../pierwsze_kroki/instalacja_git.html" title="Instalacja Git" class="chapter done " data-progress="1.4" style="left: 7.352941176470588%;"></a>
    
        <a href="../pierwsze_kroki/wstepna_konfiguracja_git.html" title="Wstępna konfiguracja Git" class="chapter done " data-progress="1.5" style="left: 8.823529411764707%;"></a>
    
        <a href="../pierwsze_kroki/uzyskiwanie_pomocy.html" title="Uzyskiwanie pomocy" class="chapter done " data-progress="1.6" style="left: 10.294117647058824%;"></a>
    
        <a href="../pierwsze_kroki/podsumowanie.html" title="Podsumowanie" class="chapter done " data-progress="1.7" style="left: 11.764705882352942%;"></a>
    
        <a href="../podstawy_gita/README.html" title="Podstawy Gita" class="chapter done new-chapter" data-progress="2" style="left: 13.235294117647058%;"></a>
    
        <a href="../podstawy_gita/pierwsze_repozytorium_gita.html" title="Pierwsze repozytorium Gita" class="chapter done " data-progress="2.1" style="left: 14.705882352941176%;"></a>
    
        <a href="../podstawy_gita/rejestrowanie_zmian_w_repozytorium.html" title="Rejestrowanie zmian w repozytorium" class="chapter done " data-progress="2.2" style="left: 16.176470588235293%;"></a>
    
        <a href="../podstawy_gita/podglad_historii_rewizji.html" title="Podgląd historii rewizji" class="chapter done " data-progress="2.3" style="left: 17.647058823529413%;"></a>
    
        <a href="../podstawy_gita/cofanie_zmian.html" title="Cofanie zmian" class="chapter done " data-progress="2.4" style="left: 19.11764705882353%;"></a>
    
        <a href="../podstawy_gita/praca_ze_zdalnym_repozytorium.html" title="Praca ze zdalnym repozytorium" class="chapter done " data-progress="2.5" style="left: 20.58823529411765%;"></a>
    
        <a href="../podstawy_gita/tagowanie_etykietowanie.html" title="Tagowanie (etykietowanie)" class="chapter done " data-progress="2.6" style="left: 22.058823529411764%;"></a>
    
        <a href="../podstawy_gita/sztuczki_i_kruczki.html" title="Sztuczki i kruczki" class="chapter done " data-progress="2.7" style="left: 23.529411764705884%;"></a>
    
        <a href="../podstawy_gita/podsumowanie.html" title="Podsumowanie" class="chapter done " data-progress="2.8" style="left: 25%;"></a>
    
        <a href="../galezie_gita/README.html" title="Gałęzie Gita" class="chapter done new-chapter" data-progress="3" style="left: 26.470588235294116%;"></a>
    
        <a href="../galezie_gita/czym_jest_galaz.html" title="Czym jest gałąź" class="chapter done " data-progress="3.1" style="left: 27.941176470588236%;"></a>
    
        <a href="../galezie_gita/podstawy_rozgaleziania_i_scalania.html" title="Podstawy rozgałęziania i scalania" class="chapter done " data-progress="3.2" style="left: 29.41176470588235%;"></a>
    
        <a href="../galezie_gita/zarzadzanie_galeziami.html" title="Zarządzanie gałęziami" class="chapter done " data-progress="3.3" style="left: 30.88235294117647%;"></a>
    
        <a href="../galezie_gita/sposoby_pracy_z_galeziami.html" title="Sposoby pracy z gałęziami" class="chapter done " data-progress="3.4" style="left: 32.35294117647059%;"></a>
    
        <a href="../galezie_gita/galezie_zdalne.html" title="Gałęzie zdalne" class="chapter done " data-progress="3.5" style="left: 33.8235294117647%;"></a>
    
        <a href="../galezie_gita/zmiana_bazy.html" title="Zmiana bazy" class="chapter done " data-progress="3.6" style="left: 35.294117647058826%;"></a>
    
        <a href="../galezie_gita/podsumowanie.html" title="Podsumowanie" class="chapter done " data-progress="3.7" style="left: 36.76470588235294%;"></a>
    
        <a href="../git_na_serwerze/README.html" title="Git na serwerze" class="chapter done new-chapter" data-progress="4" style="left: 38.23529411764706%;"></a>
    
        <a href="../git_na_serwerze/protokoly.html" title="Protokoły" class="chapter done " data-progress="4.1" style="left: 39.705882352941174%;"></a>
    
        <a href="../git_na_serwerze/uruchomienie_git_na_serwerze.html" title="Uruchomienie Git na serwerze" class="chapter done " data-progress="4.2" style="left: 41.1764705882353%;"></a>
    
        <a href="../git_na_serwerze/generacja_pary_kluczy_ssh.html" title="Generacja pary kluczy SSH" class="chapter done " data-progress="4.3" style="left: 42.64705882352941%;"></a>
    
        <a href="../git_na_serwerze/konfiguracja_serwera.html" title="Konfiguracja serwera" class="chapter done " data-progress="4.4" style="left: 44.11764705882353%;"></a>
    
        <a href="../git_na_serwerze/dostep_publiczny.html" title="Dostęp publiczny" class="chapter done " data-progress="4.5" style="left: 45.588235294117645%;"></a>
    
        <a href="../git_na_serwerze/gitolite.html" title="Gitolite" class="chapter done " data-progress="4.6" style="left: 47.05882352941177%;"></a>
    
        <a href="../git_na_serwerze/git_demon.html" title="Git Demon" class="chapter done " data-progress="4.7" style="left: 48.529411764705884%;"></a>
    
        <a href="../git_na_serwerze/hosting_gita.html" title="Hosting Gita" class="chapter done " data-progress="4.8" style="left: 50%;"></a>
    
        <a href="../git_na_serwerze/podsumowanie.html" title="Podsumowanie" class="chapter done " data-progress="4.9" style="left: 51.470588235294116%;"></a>
    
        <a href="../rozproszony_git/README.html" title="Rozproszony Git" class="chapter done new-chapter" data-progress="5" style="left: 52.94117647058823%;"></a>
    
        <a href="../rozproszony_git/rozproszone_przeplywy_pracy.html" title="Rozproszone przepływy pracy" class="chapter done " data-progress="5.1" style="left: 54.411764705882355%;"></a>
    
        <a href="../rozproszony_git/wgrywanie_zmian_do_projektu.html" title="Wgrywanie zmian do projektu" class="chapter done " data-progress="5.2" style="left: 55.88235294117647%;"></a>
    
        <a href="../rozproszony_git/utrzymywanie_projektu.html" title="Utrzymywanie projektu" class="chapter done " data-progress="5.3" style="left: 57.35294117647059%;"></a>
    
        <a href="../rozproszony_git/podsumowanie.html" title="Podsumowanie" class="chapter done " data-progress="5.4" style="left: 58.8235294117647%;"></a>
    
        <a href="../narzedzia_gita/README.html" title="Narzędzia Gita" class="chapter done new-chapter" data-progress="6" style="left: 60.294117647058826%;"></a>
    
        <a href="../narzedzia_gita/wskazywanie_rewizji.html" title="Wskazywanie rewizji" class="chapter done " data-progress="6.1" style="left: 61.76470588235294%;"></a>
    
        <a href="../narzedzia_gita/interaktywne_uzywanie_przechowali.html" title="Interaktywne używanie przechowali" class="chapter done " data-progress="6.2" style="left: 63.23529411764706%;"></a>
    
        <a href="../narzedzia_gita/schowek.html" title="Schowek" class="chapter done " data-progress="6.3" style="left: 64.70588235294117%;"></a>
    
        <a href="../narzedzia_gita/przepisywanie_historii.html" title="Przepisywanie Historii" class="chapter done " data-progress="6.4" style="left: 66.17647058823529%;"></a>
    
        <a href="../narzedzia_gita/debugowanie_z_gitem.html" title="Debugowanie z Gitem" class="chapter done " data-progress="6.5" style="left: 67.6470588235294%;"></a>
    
        <a href="../narzedzia_gita/moduly_zalezne.html" title="Moduły zależne" class="chapter done " data-progress="6.6" style="left: 69.11764705882354%;"></a>
    
        <a href="../narzedzia_gita/wlaczanie_innych_projektow.html" title="Włączanie innych projektów" class="chapter done " data-progress="6.7" style="left: 70.58823529411765%;"></a>
    
        <a href="../narzedzia_gita/podsumowanie.html" title="Podsumowanie" class="chapter done " data-progress="6.8" style="left: 72.05882352941177%;"></a>
    
        <a href="../dostosowywanie_gita/README.html" title="Dostosowywanie Gita" class="chapter done new-chapter" data-progress="7" style="left: 73.52941176470588%;"></a>
    
        <a href="../dostosowywanie_gita/konfiguracja_gita.html" title="Konfiguracja Gita" class="chapter done " data-progress="7.1" style="left: 75%;"></a>
    
        <a href="../dostosowywanie_gita/git_attributes.html" title="Git Attributes" class="chapter done " data-progress="7.2" style="left: 76.47058823529412%;"></a>
    
        <a href="../dostosowywanie_gita/git_hooks.html" title="Git Hooks" class="chapter done " data-progress="7.3" style="left: 77.94117647058823%;"></a>
    
        <a href="../dostosowywanie_gita/an_example_git_enforced_policy.html" title="An Example Git-Enforced Policy" class="chapter done " data-progress="7.4" style="left: 79.41176470588235%;"></a>
    
        <a href="../dostosowywanie_gita/summary.html" title="Summary" class="chapter done " data-progress="7.5" style="left: 80.88235294117646%;"></a>
    
        <a href="../git_i_inne_systemy/README.html" title="Git i inne systemy" class="chapter done new-chapter" data-progress="8" style="left: 82.3529411764706%;"></a>
    
        <a href="../git_i_inne_systemy/git_i_subversion.html" title="Git i Subversion" class="chapter done " data-progress="8.1" style="left: 83.82352941176471%;"></a>
    
        <a href="../git_i_inne_systemy/migracja_do_gita.html" title="Migracja do Gita" class="chapter done " data-progress="8.2" style="left: 85.29411764705883%;"></a>
    
        <a href="../git_i_inne_systemy/podsumowanie.html" title="Podsumowanie" class="chapter done " data-progress="8.3" style="left: 86.76470588235294%;"></a>
    
        <a href="../mechanizmy_wewnetrzne_w_git/README.html" title="Mechanizmy wewnętrzne w Git" class="chapter done new-chapter" data-progress="9" style="left: 88.23529411764706%;"></a>
    
        <a href="../mechanizmy_wewnetrzne_w_git/komendy_plumbing_i_porcelain.html" title="Komendy Plumbing i Porcelain" class="chapter done " data-progress="9.1" style="left: 89.70588235294117%;"></a>
    
        <a href="../mechanizmy_wewnetrzne_w_git/obiekty_gita.html" title="Obiekty Gita" class="chapter done " data-progress="9.2" style="left: 91.17647058823529%;"></a>
    
        <a href="../mechanizmy_wewnetrzne_w_git/referencje_w_git.html" title="Referencje w Git" class="chapter done " data-progress="9.3" style="left: 92.6470588235294%;"></a>
    
        <a href="../mechanizmy_wewnetrzne_w_git/spakowane_pliki_packfiles.html" title="Spakowane pliki (packfiles)" class="chapter done " data-progress="9.4" style="left: 94.11764705882354%;"></a>
    
        <a href="../mechanizmy_wewnetrzne_w_git/refspec.html" title="Refspec" class="chapter done " data-progress="9.5" style="left: 95.58823529411765%;"></a>
    
        <a href="../mechanizmy_wewnetrzne_w_git/protokoly_transferu.html" title="Protokoły transferu" class="chapter done " data-progress="9.6" style="left: 97.05882352941177%;"></a>
    
        <a href="../mechanizmy_wewnetrzne_w_git/konserwacja_i_odzyskiwanie_danych.html" title="Konserwacja i Odzyskiwanie Danych" class="chapter done " data-progress="9.7" style="left: 98.52941176470588%;"></a>
    
        <a href="../mechanizmy_wewnetrzne_w_git/podsumowanie.html" title="Podsumowanie" class="chapter  " data-progress="9.8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_422">
                    
                        <h1 id="konserwacja-i-odzyskiwanie-danych">Konserwacja i Odzyskiwanie Danych</h1>
<!-- # Maintenance and Data Recovery -->

<p>Czasami będziesz musiał zrobić jakieś porządki - sprawić, aby repozytorium zajmowało mniej miejsca, oczyścić zaimportowane repozytorium, lub odtworzyć utracone zmiany. Ten rozdział zawiera opis postępowania w tych scenariuszach.</p>
<!-- Occasionally, you may have to do some cleanup — make a repository more compact, clean up an imported repository, or recover lost work. This section will cover some of these scenarios. -->

<h2 id="konserwacja">Konserwacja</h2>
<!-- ## Maintenance -->

<p>Sporadycznie Git uruchamia automatycznie komendę nazywaną &quot;auto gc&quot;. Najczęściej ta komenda nic nie robi. Jednak, jeżeli istnieje za dużo luźnych obiektów (obiektów które nie są w plikach packfile), lub za dużo plików packfile, Git uruchamia pełną komendę <code>git gc</code>. Komenda <code>gc</code> (od ang. garbage collect) wykonuje różne operacje: gromadzi ona wszystkie luźne obiekty i umieszcza je w plikach packfile, łączy pliki packfile w jeden duży, oraz usuwa obiekty które nie są osiągalne przez żaden z commitów i są starsze niż kilka miesięcy.</p>
<!-- Occasionally, Git automatically runs a command called "auto gc". Most of the time, this command does nothing. However, if there are too many loose objects (objects not in a packfile) or too many packfiles, Git launches a full-fledged `git gc` command. The `gc` stands for garbage collect, and the command does a number of things: it gathers up all the loose objects and places them in packfiles, it consolidates packfiles into one big packfile, and it removes objects that aren’t reachable from any commit and are a few months old. -->

<p>Możesz uruchomić &quot;auto gc&quot; ręcznie w ten sposób:</p>
<!-- You can run auto gc manually as follows: -->

<pre><code><span class="hljs-comment">$</span> <span class="hljs-comment">git</span> <span class="hljs-comment">gc</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">auto</span>
</code></pre><p>I znowu, ona generalnie nic nie robi. Musisz mieć około 7000 luźnych obiektów, lub więcej niż 50 plików packfile, aby Git odpalił pełną komendę gc. Możesz zmienić te limity za pomocą ustawień konfiguracyjnych <code>gc.auto</code> oraz <code>gc.autopacklimit</code>.</p>
<!-- Again, this generally does nothing. You must have around 7,000 loose objects or more than 50 packfiles for Git to fire up a real gc command. You can modify these limits with the `gc.auto` and `gc.autopacklimit` config settings, respectively. -->

<p>Inną rzeczą którą komenda <code>gc</code> zrobi, jest spakowanie referencji do pojedynczego pliku. Załóżmy, że Twoje repozytorium zawiera następujące gałęzie i tagi:</p>
<!-- The other thing `gc` will do is pack up your references into a single file. Suppose your repository contains the following branches and tags: -->

<pre><code>$ find <span class="hljs-preprocessor">.git</span>/refs -type f
<span class="hljs-preprocessor">.git</span>/refs/heads/experiment
<span class="hljs-preprocessor">.git</span>/refs/heads/master
<span class="hljs-preprocessor">.git</span>/refs/tags/v1<span class="hljs-number">.0</span>
<span class="hljs-preprocessor">.git</span>/refs/tags/v1<span class="hljs-number">.1</span>
</code></pre><p>jeżeli uruchomisz <code>git gc</code>, nie będziesz miał już tych plików w katalogu <code>refs</code>. Git przeniesie je, w celu poprawienia wydajności do pliku <code>.git/packed-refs</code>, który wygląda tak:</p>
<!-- If you run `git gc`, you’ll no longer have these files in the `refs` directory. Git will move them for the sake of efficiency into a file named `.git/packed-refs` that looks like this: -->

<pre><code><span class="hljs-variable">$ </span>cat .git/packed-refs
<span class="hljs-comment"># pack-refs with: peeled</span>
cac0cab538b970a37ea1e769cbbde608743bc96d refs/heads/experiment
ab1afef80fac8e34258ff41fc1b867c702daa24b refs/heads/master
cac0cab538b970a37ea1e769cbbde608743bc96d refs/tags/v1.<span class="hljs-number">0</span>
<span class="hljs-number">9585191</span>f37f7b0fb9444f35a9bf50de191beadc2 refs/tags/v1.<span class="hljs-number">1</span>
^<span class="hljs-number">1</span>a410efbd13591db07496601ebc7a059dd55cfe9
</code></pre><p>Jeżeli zaktualizujesz referencje, Git nie będzie zmieniał tego pliku, ale zamiast tego stworzy nowy plik w <code>refs/heads</code>. Aby pobrać właściwą sumę SHA dla danej referencji, Git sprawdzi czy istnieje ona w katalogu <code>refs</code>, a następnie sprawdzi plik <code>packed-refs</code>. Jeżeli nie możesz znaleźć referencji w katalogu <code>refs</code>, jest ona prawdopodobnie w pliku <code>packed-refs</code>.</p>
<!-- If you update a reference, Git doesn’t edit this file but instead writes a new file to `refs/heads`. To get the appropriate SHA for a given reference, Git checks for that reference in the `refs` directory and then checks the `packed-refs` file as a fallback. However, if you can’t find a reference in the `refs` directory, it’s probably in your `packed-refs` file. -->

<p>Zauważ, że ostatnia linia w tym pliku zaczyna się od <code>^</code>. Oznacza to, że dana etykieta jest etykietą opisaną, a ta linia jest commit-em na który on wskazuje.</p>
<!-- Notice the last line of the file, which begins with a `^`. This means the tag directly above is an annotated tag and that line is the commit that the annotated tag points to. -->

<h2 id="odzyskiwanie-danych">Odzyskiwanie Danych</h2>
<!-- ## Data Recovery -->

<p>W pewnym momencie swojej pracy z Git, możesz czasami przez przypadek stracić commit. Zazwyczaj dzieje się tak dlatego, ponieważ wymusisz usunięcie gałęzi która miała w sobie zmiany, a okazuje się że jednak ją potrzebowałeś; lub wykonujesz na gałęzi hard-reset, porzucając zmiany które teraz potrzebujesz. Zakładając że tak się stało, w jaki sposób możesz odzyskać swoje zmiany?</p>
<!-- At some point in your Git journey, you may accidentally lose a commit. Generally, this happens because you force-delete a branch that had work on it, and it turns out you wanted the branch after all; or you hard-reset a branch, thus abandoning commits that you wanted something from. Assuming this happens, how can you get your commits back? -->

<p>Mamy tutaj przykład, na którym zobaczymy odzyskiwanie danych z testowego repozytorium na którym wykonano hard-reset na gałęzi master. Na początek, zobaczmy jak wygląda repozytorium w takiej sytuacji:</p>
<!-- Here’s an example that hard-resets the master branch in your test repository to an older commit and then recovers the lost commits. First, let’s review where your repository is at this point: -->

<pre><code>$ git log <span class="hljs-comment">--pretty=oneline</span>
ab1afef80fac8e34258ff41fc1b867c702daa24b modified repo a bit
484a59275031909e19aadb7c92262719cfcdf19a added repo.rb
1a410efbd13591db07496601ebc7a059dd55cfe9 third <span class="hljs-operator"><span class="hljs-keyword">commit</span>
cac0cab538b970a37ea1e769cbbde608743bc96d <span class="hljs-keyword">second</span> <span class="hljs-keyword">commit</span>
fdf4fc3344e67ab068f836878b6c4951e3b15f3d <span class="hljs-keyword">first</span> <span class="hljs-keyword">commit</span></span>
</code></pre><p>Teraz cofnij gałąź <code>master</code> do środkowej zmiany:</p>
<!-- Now, move the `master` branch back to the middle commit: -->

<pre><code>$ git reset <span class="hljs-comment">--hard 1a410efbd13591db07496601ebc7a059dd55cfe9</span>
HEAD <span class="hljs-keyword">is</span> now <span class="hljs-keyword">at</span> <span class="hljs-number">1</span>a410ef <span class="hljs-keyword">third</span> commit
$ git <span class="hljs-command">log</span> <span class="hljs-comment">--pretty=oneline</span>
<span class="hljs-number">1</span>a410efbd13591db07496601ebc7a059dd55cfe9 <span class="hljs-keyword">third</span> commit
cac0cab538b970a37ea1e769cbbde608743bc96d <span class="hljs-keyword">second</span> commit
fdf4fc3344e67ab068f836878b6c4951e3b15f3d <span class="hljs-keyword">first</span> commit
</code></pre><p>W ten sposób, skutecznie utraciłeś dwa najnowsze commity - nie masz gałęzi z której można by się dostać do nich. Musisz znaleźć najnowszą sumę SHA, a potem dodać gałąź wskazującą na nią. Najtrudniejsze jest znalezienie ostatniej sumy SHA - przecież nie zapamiętałeś jej, prawda?</p>
<!-- You’ve effectively lost the top two commits — you have no branch from which those commits are reachable. You need to find the latest commit SHA and then add a branch that points to it. The trick is finding that latest commit SHA — it’s not like you’ve memorized it, right? -->

<p>Często, najszybszym sposobem jest użycie narzędzia <code>git reflog</code>. W czasie pracy, Git w tle zapisuje na co wskazuje HEAD po każdej zmianie. Za każdym razem gdy wykonujesz commit lub zmieniasz gałęzie, reflog jest aktualizowany. Reflog jest również aktualizowany przez komendę <code>git update-ref</code>, co jest kolejnym argumentem za tym, aby jej używać zamiast zapisywać bezpośrednio wartości SHA do plików ref, tak jak zostało to opisane wcześniej w sekcji &quot;Referencje w Git&quot;. Możesz zobaczyć na jakim etapie był projekt w każdym momencie za pomocą komendy <code>git reflog</code>:</p>
<!-- Often, the quickest way is to use a tool called `git reflog`. As you’re working, Git silently records what your HEAD is every time you change it. Each time you commit or change branches, the reflog is updated. The reflog is also updated by the `git update-ref` command, which is another reason to use it instead of just writing the SHA value to your ref files, as we covered in the "Git References" section of this chapter earlier.  You can see where you’ve been at any time by running `git reflog`: -->

<pre><code>$ <span class="hljs-tag">git</span> <span class="hljs-tag">reflog</span>
1<span class="hljs-tag">a410ef</span> <span class="hljs-tag">HEAD</span><span class="hljs-at_rule">@<span class="hljs-keyword">{0}:</span> <span class="hljs-number">1</span>a410efbd13591db07496601ebc7a059dd55cfe9: updating HEAD
ab1afef HEAD@</span>{1}: <span class="hljs-tag">ab1afef80fac8e34258ff41fc1b867c702daa24b</span>: <span class="hljs-tag">updating</span> <span class="hljs-tag">HEAD</span>
</code></pre><p>Widzimy tutaj dwa commity które pobraliśmy, jednak nie mamy za dużo informacji. Aby zobaczyć te same informacje w bardziej użytecznej formie, możemy uruchomić <code>git log -g</code>, która pokaże normalny wynik działania komendy log dla refloga:</p>
<!-- Here we can see the two commits that we have had checked out, however there is not much information here.  To see the same information in a much more useful way, we can run `git log -g`, which will give you a normal log output for your reflog. -->

<pre><code>$ git log -g
commit <span class="hljs-number">1</span>a410efbd13591db07496601ebc7a059dd55cfe9
<span class="hljs-label">Reflog:</span> HEAD@{<span class="hljs-number">0</span>} (Scott Chacon &lt;schacon@gmail<span class="hljs-preprocessor">.com</span>&gt;)
Reflog message: updating HEAD
<span class="hljs-label">Author:</span> Scott Chacon &lt;schacon@gmail<span class="hljs-preprocessor">.com</span>&gt;
<span class="hljs-label">Date:</span>   Fri May <span class="hljs-number">22</span> <span class="hljs-number">18</span>:<span class="hljs-number">22</span>:<span class="hljs-number">37</span> <span class="hljs-number">2009</span> -<span class="hljs-number">0700</span>

    third commit

commit ab1afef80fac8e34258ff41fc1b867c702daa24b
<span class="hljs-label">Reflog:</span> HEAD@{<span class="hljs-number">1</span>} (Scott Chacon &lt;schacon@gmail<span class="hljs-preprocessor">.com</span>&gt;)
Reflog message: updating HEAD
<span class="hljs-label">Author:</span> Scott Chacon &lt;schacon@gmail<span class="hljs-preprocessor">.com</span>&gt;
<span class="hljs-label">Date:</span>   Fri May <span class="hljs-number">22</span> <span class="hljs-number">18</span>:<span class="hljs-number">15</span>:<span class="hljs-number">24</span> <span class="hljs-number">2009</span> -<span class="hljs-number">0700</span>

     modified repo a bit
</code></pre><p>Wygląda na to, że dolny commit to jeden z tych które utraciłeś, możesz go odzyskać przez stworzenie nowej gałęzi wskazującej na niego. Na przykład, możesz dodać gałąź <code>recover-branch</code> wskazującą na ten commit (ab1afef):</p>
<!-- It looks like the bottom commit is the one you lost, so you can recover it by creating a new branch at that commit. For example, you can start a branch named `recover-branch` at that commit (ab1afef): -->

<pre><code>$ git branch recover-branch ab1afef
$ git log <span class="hljs-comment">--pretty=oneline recover-branch</span>
ab1afef80fac8e34258ff41fc1b867c702daa24b modified repo a bit
484a59275031909e19aadb7c92262719cfcdf19a added repo.rb
1a410efbd13591db07496601ebc7a059dd55cfe9 third <span class="hljs-operator"><span class="hljs-keyword">commit</span>
cac0cab538b970a37ea1e769cbbde608743bc96d <span class="hljs-keyword">second</span> <span class="hljs-keyword">commit</span>
fdf4fc3344e67ab068f836878b6c4951e3b15f3d <span class="hljs-keyword">first</span> <span class="hljs-keyword">commit</span></span>
</code></pre><p>Świetnie - masz teraz gałąź <code>recover-branch</code>, która wskazuje na miejsce w którym był <code>master</code>, pozwalając tym samym na dostęp do pierwszych dwóch commitów. 
Następnie, załóżmy że utracone zmiany z jakiegoś powodu nie były w reflogu - możesz to zasymulować poprzez usunięcie <code>recover-branch</code> i usunięcie refloga. Teraz pierwsze dwa commity nie są dostępne w żaden sposób:</p>
<!-- Cool — now you have a branch named `recover-branch` that is where your `master` branch used to be, making the first two commits reachable again.
Next, suppose your loss was for some reason not in the reflog — you can simulate that by removing `recover-branch` and deleting the reflog. Now the first two commits aren’t reachable by anything: -->

<pre><code>$ git branch <span class="hljs-attribute">-D</span> recover<span class="hljs-attribute">-branch</span>
$ rm <span class="hljs-attribute">-Rf</span> <span class="hljs-built_in">.</span>git/logs<span class="hljs-subst">/</span>
</code></pre><p>Ponieważ dane reflog są przechowywane w katalogu <code>.git/logs/</code>, w rzeczywistości nie masz refloga. W jaki sposób odtworzyć ten commit w tym momencie? Jednym ze sposobów jest użycie narzędzia <code>git fsck</code>, które sprawdza zawartość bazy pod względem integralności danych. Jeżeli uruchomisz go z opcją <code>--full</code>, pokaże on wszystkie obiekty do których nie da się dotrzeć przez inne:</p>
<!-- Because the reflog data is kept in the `.git/logs/` directory, you effectively have no reflog. How can you recover that commit at this point? One way is to use the `git fsck` utility, which checks your database for integrity. If you run it with the `-\-full` option, it shows you all objects that aren’t pointed to by another object: -->

<pre><code>$ git fsck <span class="hljs-comment">--full</span>
dangling blob d670460b4b4aece5915caf5c68d12f560a9fe3e4
dangling <span class="hljs-operator"><span class="hljs-keyword">commit</span> ab1afef80fac8e34258ff41fc1b867c702daa24b
dangling tree aea790b9a58f6cf6f2804eeac9f0abbe9631e4c9
dangling blob <span class="hljs-number">7108</span>f7ecb345ee9d0084193f147cdad4d2998293</span>
</code></pre><p>W tym przypadku, możesz zobaczyć brakujący commit oznaczony jako opuszczony (ang. dangling). Możesz odtworzyć go w ten sam sposób, poprzez dodanie gałęzi wskazującej na jego SHA.</p>
<!-- In this case, you can see your missing commit after the dangling commit. You can recover it the same way, by adding a branch that points to that SHA. -->

<h2 id="usuwanie-obiekt-w">Usuwanie obiektów</h2>
<!-- ## Removing Objects -->

<p>Można powiedzieć dużo dobrego o Gitcie, ale jedną z funkcjonalności która może powodować problemy jest fakt, że <code>git clone</code> pobiera całą historię projektu, włącznie z każdą wersją wszystkich plików. Jest to dobre rozwiązanie, jeżeli całość to kod źródłowy, ponieważ Git został przygotowany do tego aby efektywnie kompresować takie dane. Jednak, jeżeli w jakimś momencie trwania projektu, ktoś dodał pojedynczy duży plik, podczas klonowania repozytorium zawsze będzie on pobierany, nawet jeżeli został usunięty z projektu w następnym commicie. Ze względu na to, że można do niego dostać się przez historię projektu, zawsze tam będzie.</p>
<!-- There are a lot of great things about Git, but one feature that can cause issues is the fact that a `git clone` downloads the entire history of the project, including every version of every file. This is fine if the whole thing is source code, because Git is highly optimized to compress that data efficiently. However, if someone at any point in the history of your project added a single huge file, every clone for all time will be forced to download that large file, even if it was removed from the project in the very next commit. Because it’s reachable from the history, it will always be there. -->

<p>Może to być dużym problemem podczas konwersji repozytoriów Subversion lub Perforce do Gita. Ponieważ nie pobierasz w nich całej historii projektu, dodanie tak dużego pliku będzie powodowało pewne konsekwencje. Jeżeli wykonałeś import z innego systemu lub zobaczyłeś, że Twoje repozytorium jest dużo większej niż być powinno, poniżej prezentuję sposób na usunięcie dużych obiektów.</p>
<!-- This can be a huge problem when you’re converting Subversion or Perforce repositories into Git. Because you don’t download the whole history in those systems, this type of addition carries few consequences. If you did an import from another system or otherwise find that your repository is much larger than it should be, here is how you can find and remove large objects. -->

<p>Ale uwaga: ta technika działa destrukcyjnie na Twoją historię zmian. Nadpisuje ona każdy obiekt, począwszy od najwcześniejszego który trzeba zmodyfikować aby usunąć odwołanie do pliku. Jeżeli wykonasz to od razu po zaimportowaniu, zanim ktokolwiek rozpoczął pracę bazującą na nich, wszystko będzie w porządku - w przeciwnym wypadku, będziesz musiał poinformować wszystkich współpracowników o tym, że muszą wykonać &quot;rebase&quot; na nowe commity.</p>
<!-- Be warned: this technique is destructive to your commit history. It rewrites every commit object downstream from the earliest tree you have to modify to remove a large file reference. If you do this immediately after an import, before anyone has started to base work on the commit, you’re fine — otherwise, you have to notify all contributors that they must rebase their work onto your new commits. -->

<p>W celach demonstracyjnych, dodasz duży plik do swojego testowego repozytorium, usuniesz go w kolejnym commicie, odszukasz go i następnie usuniesz na stałe z repozytorium. Najpierw dodaj duży plik do repozytorium:</p>
<!-- To demonstrate, you’ll add a large file into your test repository, remove it in the next commit, find it, and remove it permanently from the repository. First, add a large object to your history: -->

<pre><code><span class="hljs-variable">$ </span>curl <span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/kernel.org/pub</span><span class="hljs-regexp">/software/scm</span><span class="hljs-regexp">/git/git</span>-<span class="hljs-number">1.6</span>.<span class="hljs-number">3.1</span>.tar.bz2 &gt; git.tbz2
<span class="hljs-variable">$ </span>git add git.tbz2
<span class="hljs-variable">$ </span>git commit -am <span class="hljs-string">'added git tarball'</span>
[master <span class="hljs-number">6</span>df764<span class="hljs-number">0</span>] added git tarball
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">0</span> insertions(+), <span class="hljs-number">0</span> deletions(-)
 create mode <span class="hljs-number">100644</span> git.tbz2
</code></pre><p>Oops - nie chciałeś dodać tego dużego pliku do projekt. Najlepiej usuń go:</p>
<!-- Oops — you didn’t want to add a huge tarball to your project. Better get rid of it: -->

<pre><code><span class="hljs-variable">$ </span>git rm git.tbz2
rm <span class="hljs-string">'git.tbz2'</span>
<span class="hljs-variable">$ </span>git commit -m <span class="hljs-string">'oops - removed large tarball'</span>
[master da3f30d] oops - removed large tarball
 <span class="hljs-number">1</span> files changed, <span class="hljs-number">0</span> insertions(+), <span class="hljs-number">0</span> deletions(-)
 delete mode <span class="hljs-number">100644</span> git.tbz2
</code></pre><p>Teraz, uruchom <code>gc</code> na bazie danych i zobacz jak dużo miejsca jest zajmowane:</p>
<!-- Now, `gc` your database and see how much space you’re using: -->

<pre><code>$ git gc
Counting objects: <span class="hljs-number">21</span>, <span class="hljs-keyword">done</span>.
Delta compression using <span class="hljs-number">2</span> threads.
Compressing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">16</span>/<span class="hljs-number">16</span>), <span class="hljs-keyword">done</span>.
Writing objects: <span class="hljs-number">100</span>% (<span class="hljs-number">21</span>/<span class="hljs-number">21</span>), <span class="hljs-keyword">done</span>.
Total <span class="hljs-number">21</span> (delta <span class="hljs-number">3</span>), reused <span class="hljs-number">15</span> (delta <span class="hljs-number">1</span>)
</code></pre><p>Możesz uruchomić komendę <code>count-objects</code>, aby szybko zobaczyć jak dużo miejsca jest zajmowane:</p>
<!-- You can run the `count-objects` command to quickly see how much space you’re using: -->

<pre><code>$ git count<span class="hljs-attribute">-objects</span> <span class="hljs-attribute">-v</span>
count: <span class="hljs-number">4</span>
size: <span class="hljs-number">16</span>
<span class="hljs-keyword">in</span><span class="hljs-attribute">-pack</span>: <span class="hljs-number">21</span>
packs: <span class="hljs-number">1</span>
size<span class="hljs-attribute">-pack</span>: <span class="hljs-number">2016</span>
prune<span class="hljs-attribute">-packable</span>: <span class="hljs-number">0</span>
garbage: <span class="hljs-number">0</span>
</code></pre><p>Wpis <code>size-pack</code> pokazuje wielkość plików packfile wyrażonych w kilobajtach, więc używasz 2MB. Przed ostatnim commitem, używałeś blisko 2K - a więc jasno widać, że usunięcie pliku w poprzednim commitcie nie usunęło go z historii. Za każdym razem, gdy ktoś sklonuje to repozytorium, będzie musiał pobrać całe 2MB aby pobrać ten malutki projekt, tylko dlatego że pochopnie dodałeś duży plik. Naprawmy to.</p>
<!-- The `size-pack` entry is the size of your packfiles in kilobytes, so you’re using 2MB. Before the last commit, you were using closer to 2K — clearly, removing the file from the previous commit didn’t remove it from your history. Every time anyone clones this repository, they will have to clone all 2MB just to get this tiny project, because you accidentally added a big file. Let’s get rid of it. -->

<p>Najpierw będzie musiał go znaleźć. W naszym wypadku, wiesz jaki plik to był. Ale załóżmy że nie wiesz; w jaki sposób dowiesz się jaki plik lub pliki zajmują tyle miejsca? Po uruchomieniu <code>git gc</code>, wszystkie obiekty są w plikach packfile; ale możesz zidentyfikować duże obiekty przez uruchomienie komendy <code>git verify-pack</code> i posortowanie wyniku po trzeciej kolumnie, oznaczającej rozmiar pliku. Możesz również przekazać wynik do komendy <code>tail</code> ponieważ jesteś zainteresowany tylko kilkoma największymi plikami:</p>
<!-- First you have to find it. In this case, you already know what file it is. But suppose you didn’t; how would you identify what file or files were taking up so much space? If you run `git gc`, all the objects are in a packfile; you can identify the big objects by running another plumbing command called `git verify-pack` and sorting on the third field in the output, which is file size. You can also pipe it through the `tail` command because you’re only interested in the last few largest files: -->

<pre><code>$ git verify<span class="hljs-attribute">-pack</span> <span class="hljs-attribute">-v</span> <span class="hljs-built_in">.</span>git/objects/pack/pack<span class="hljs-subst">-</span><span class="hljs-number">3</span>f8c0<span class="hljs-attribute">...</span>bb<span class="hljs-built_in">.</span>idx <span class="hljs-subst">|</span> sort <span class="hljs-attribute">-k</span> <span class="hljs-number">3</span> <span class="hljs-attribute">-n</span> <span class="hljs-subst">|</span> tail <span class="hljs-subst">-</span><span class="hljs-number">3</span>
e3f094f522629ae358806b17daf78246c27c007b blob   <span class="hljs-number">1486</span> <span class="hljs-number">734</span> <span class="hljs-number">4667</span>
<span class="hljs-number">05408</span>d195263d853f09dca71d55116663690c27c blob   <span class="hljs-number">12908</span> <span class="hljs-number">3478</span> <span class="hljs-number">1189</span>
<span class="hljs-number">7</span>a9eb2fba2b1811321254ac360970fc169ba2330 blob   <span class="hljs-number">2056716</span> <span class="hljs-number">2056872</span> <span class="hljs-number">5401</span>
</code></pre><p>Duży obiekt jest na samym dole: 2MB. Aby dowiedzieć się jaki to jest plik, użyjesz komendy <code>rev-list</code>, której miałeś okazję już poznać w rozdziale 7. Jeżeli przekażesz opcję <code>--objects</code> do <code>rev-list</code>, w wyniku pokazane zostaną sumy SHA commitów oraz obiektów blob z przyporządkowanymi do nich nazwami plików. Możesz użyć tej komendy, aby odnaleźć nazwę obiektu blob:</p>
<!-- The big object is at the bottom: 2MB. To find out what file it is, you’ll use the `rev-list` command, which you used briefly in Chapter 7. If you pass `-\-objects` to `rev-list`, it lists all the commit SHAs and also the blob SHAs with the file paths associated with them. You can use this to find your blob’s name: -->

<pre><code><span class="hljs-comment">$</span> <span class="hljs-comment">git</span> <span class="hljs-comment">rev</span><span class="hljs-literal">-</span><span class="hljs-comment">list</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">objects</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">all</span> <span class="hljs-comment">|</span> <span class="hljs-comment">grep</span> <span class="hljs-comment">7a9eb2fb</span>
<span class="hljs-comment">7a9eb2fba2b1811321254ac360970fc169ba2330</span> <span class="hljs-comment">git</span><span class="hljs-string">.</span><span class="hljs-comment">tbz2</span>
</code></pre><p>Teraz, musisz usunąć ten plik ze wszystkich starszych rewizji. W łaty sposób możesz zobaczyć jakie commity modyfikowały ten plik:</p>
<!-- Now, you need to remove this file from all trees in your past. You can easily see what commits modified this file: -->

<pre><code><span class="hljs-comment">$</span> <span class="hljs-comment">git</span> <span class="hljs-comment">log</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">pretty=oneline</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span><span class="hljs-comment">branches</span> <span class="hljs-literal">-</span><span class="hljs-literal">-</span> <span class="hljs-comment">git</span><span class="hljs-string">.</span><span class="hljs-comment">tbz2</span>
<span class="hljs-comment">da3f30d019005479c99eb4c3406225613985a1db</span> <span class="hljs-comment">oops</span> <span class="hljs-literal">-</span> <span class="hljs-comment">removed</span> <span class="hljs-comment">large</span> <span class="hljs-comment">tarball</span>
<span class="hljs-comment">6df764092f3e7c8f5f94cbe08ee5cf42e92a0289</span> <span class="hljs-comment">added</span> <span class="hljs-comment">git</span> <span class="hljs-comment">tarball</span>
</code></pre><p>Musisz nadpisać wszystkie commity starsze niż <code>6df76</code>, aby w pełni usunąć ten plik z historii projektu w Git. Aby to zrobić, użyjesz komendy <code>filter-branch</code>, poznanej w rozdziale 6.</p>
<!-- You must rewrite all the commits downstream from `6df76` to fully remove this file from your Git history. To do so, you use `filter-branch`, which you used in Chapter 6: -->

<pre><code>$ git <span class="hljs-built_in">filter</span>-branch <span class="hljs-comment">--index-filter \</span>
   <span class="hljs-string">'git rm --cached --ignore-unmatch git.tbz2'</span> <span class="hljs-comment">-- 6df7640^..</span>
Rewrite <span class="hljs-number">6</span>df764092f3e7c8f5f94cbe08ee5cf42e92a0289 (<span class="hljs-number">1</span>/<span class="hljs-number">2</span>)rm <span class="hljs-string">'git.tbz2'</span>
Rewrite da3f30d019005479c99eb4c3406225613985a1db (<span class="hljs-number">2</span>/<span class="hljs-number">2</span>)
Ref <span class="hljs-string">'refs/heads/master'</span> was rewritten
</code></pre><p>Opcja <code>--index-filter</code> jest podobna do opcji <code>--tree-filter</code> opisanej w rozdziale 6, z tą różnicą, że zamiast przekazywać komendę, która modyfikuje pobrane pliki na dysku, modyfikuje przechowalnię lub indeks za każdym razem. Zamiast usuwać konkretny plik za pomocą <code>rm file</code>, musisz usunąć go za pomocą <code>git rm --cached</code> - musisz usunąć go z indeksu, nie z dysku. Powodem do takiego zachowania jest prędkość - ponieważ Git nie musi pobrać każdej rewizji na dysk przed uruchomieniem filtra, cały proces może być dużo szybszy. Możesz osiągnąć taki sam efekt za pomocą <code>--tree-filter</code>, jeżeli chcesz. Opcja <code>--ignore-unmatch</code> do <code>git rm</code> wskazuje, aby nie pokazywać błędu w przypadku, gdy szukana ścieżka nie istnieje. Na koniec, wskazujesz <code>filter-branch</code>, aby przepisana została historia począwszy od <code>6df7640</code>, ponieważ wiesz że właśnie tam problem powstał. W przeciwnym razie, rozpocznie ona działanie od początku i przez to będzie trwała niepotrzebnie dłużej.</p>
<!-- The `-\-index-filter` option is similar to the `-\-tree-filter` option used in Chapter 6, except that instead of passing a command that modifies files checked out on disk, you’re modifying your staging area or index each time. Rather than remove a specific file with something like `rm file`, you have to remove it with `git rm -\-cached` — you must remove it from the index, not from disk. The reason to do it this way is speed — because Git doesn’t have to check out each revision to disk before running your filter, the process can be much, much faster. You can accomplish the same task with `-\-tree-filter` if you want. The `-\-ignore-unmatch` option to `git rm` tells it not to error out if the pattern you’re trying to remove isn’t there. Finally, you ask `filter-branch` to rewrite your history only from the `6df7640` commit up, because you know that is where this problem started. Otherwise, it will start from the beginning and will unnecessarily take longer. -->

<p>Twoja historia nie zawiera już odwołań do tego pliku. Ale reflog i nowe referencje które zostały dodane, wtedy gdy uruchomiłeś <code>filter-branch</code> w <code>.git/refs/original</code> nadal tak, musisz więc je usunąć i przepakować bazę danych. Musisz pozbyć się wszystkiego co wskazuje na te stare commity przed przepakowaniem:</p>
<!-- Your history no longer contains a reference to that file. However, your reflog and a new set of refs that Git added when you did the `filter-branch` under `.git/refs/original` still do, so you have to remove them and then repack the database. You need to get rid of anything that has a pointer to those old commits before you repack: -->

<pre><code><span class="hljs-variable">$ </span>rm -<span class="hljs-constant">Rf</span> .git/refs/original
<span class="hljs-variable">$ </span>rm -<span class="hljs-constant">Rf</span> .git/logs/
<span class="hljs-variable">$ </span>git gc
<span class="hljs-constant">Counting</span> <span class="hljs-symbol">objects:</span> <span class="hljs-number">19</span>, done.
<span class="hljs-constant">Delta</span> compression using <span class="hljs-number">2</span> threads.
<span class="hljs-constant">Compressing</span> <span class="hljs-symbol">objects:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">14</span>/<span class="hljs-number">14</span>), done.
<span class="hljs-constant">Writing</span> <span class="hljs-symbol">objects:</span> <span class="hljs-number">100</span>% (<span class="hljs-number">19</span>/<span class="hljs-number">19</span>), done.
<span class="hljs-constant">Total</span> <span class="hljs-number">19</span> (delta <span class="hljs-number">3</span>), reused <span class="hljs-number">16</span> (delta <span class="hljs-number">1</span>)
</code></pre><p>Zobaczmy ile miejsce udało się zaoszczędzić.</p>
<!-- Let’s see how much space you saved. -->

<pre><code>$ git count<span class="hljs-attribute">-objects</span> <span class="hljs-attribute">-v</span>
count: <span class="hljs-number">8</span>
size: <span class="hljs-number">2040</span>
<span class="hljs-keyword">in</span><span class="hljs-attribute">-pack</span>: <span class="hljs-number">19</span>
packs: <span class="hljs-number">1</span>
size<span class="hljs-attribute">-pack</span>: <span class="hljs-number">7</span>
prune<span class="hljs-attribute">-packable</span>: <span class="hljs-number">0</span>
garbage: <span class="hljs-number">0</span>
</code></pre><p>Wielkość spakowanego repozytorium to teraz 7K, co jest dużo lepszym wynikiem niż 2MB. Możesz odczytać z wartości &quot;size&quot;, że ten duży obiekt nadal znajduje się w repozytorium, nie został więc całkowicie usunięty; jednak co najważniejsze, nie będzie już przesyłany podczas wykonywania push lub klonowania. Jeżeli mocno chcesz, możesz usunąć ten obiekt całkowicie przez uruchomienie komendy <code>git prune --expire</code>.</p>
<!-- The packed repository size is down to 7K, which is much better than 2MB. You can see from the size value that the big object is still in your loose objects, so it’s not gone; but it won’t be transferred on a push or subsequent clone, which is what is important. If you really wanted to, you could remove the object completely by running `git prune -\-expire`. -->

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../mechanizmy_wewnetrzne_w_git/protokoly_transferu.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../mechanizmy_wewnetrzne_w_git/podsumowanie.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        
    </body>
</html>
